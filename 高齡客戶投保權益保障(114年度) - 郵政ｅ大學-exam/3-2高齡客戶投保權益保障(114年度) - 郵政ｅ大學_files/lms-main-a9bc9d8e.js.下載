(self.webpackChunklms=self.webpackChunklms||[]).push([[93963,40441,54174],{595684:function(t,e,n){var r={"./":[600683,7],"./class_mode_casting":[423527,7,49998,23527],"./class_mode_casting.js":[423527,7,49998,23527],"./course_info_filter":[936334,9,36334],"./course_info_filter.js":[936334,9,36334],"./detect_browser_version":[305604,9,5604],"./detect_browser_version.js":[305604,9,5604],"./face_check_service":[814480,9,14480],"./face_check_service.js":[814480,9,14480],"./face_recognition_service":[379766,9,79766],"./face_recognition_service.js":[379766,9,79766],"./index":[600683,7],"./index.ts":[600683,7],"./single_user_session_constraint":[561907,7,49998,61907],"./single_user_session_constraint.js":[561907,7,49998,61907]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(2).map(n.e)).then((function(){return n.t(i,16|e[1])}))}i.keys=function(){return Object.keys(r)},i.id=595684,t.exports=i},296808:function(t,e,n){n(66992),n(747042),n(439575),n(682472),n(812974),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}(),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(){return new Uint8Array(this).subarray(this.arguments)})},525752:function(t,e,n){"use strict";n.r(e);n(788674);var r=n(887757),i=n.n(r),o=(n(535666),n(370538)),s=n(754641),a=n(904072);function u(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}var c=n(317152).Z;o.default.use(c);var l=new c({locale:"zh-CN",messages:{"en-US":{alert:{title:"Early Alert",course_score:"Course Score ",rollcall:"Rollcall ",learning_activity:"Learning Activity ",course_completeness:"Course Completeness ",obe:"Course OBE ",iAlreadyKnow:"I already know",course_taken:"Course Not Taken",course_attendance_rate:"Attendance Rate"}},"zh-CN":{alert:{title:"预警",course_score:"课程成绩",rollcall:"考勤",learning_activity:"学习活动",course_completeness:"课程完成度",obe:"课程OBE",iAlreadyKnow:"我已知晓",course_taken:"修习",course_attendance_rate:"课程到课率"}},"zh-TW":{alert:{title:"預警",course_score:"科目成績",rollcall:"考勤",learning_activity:"學習活動",course_completeness:"科目完成度",obe:"科目OBE",iAlreadyKnow:"我已知曉",course_taken:"修習",course_attendance_rate:"課程出席率"}}},silentTranslationWarn:!0});a(".header.gtm-category").length&&new o.default({el:"#alertMessages",name:"alertMessages",i18n:l,data:{allMessages:[],modals:[],index:0},mounted(){var t=(0,s.getLang)(window.$("html").attr("lang"));l.locale=t},methods:{closeModal(){this.modals[this.index].index=1,this.index+=1,this.index<this.modals.length&&(this.modals[this.index].index=0)}},created(){var t,e=this;return(t=i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("/user/index"!==document.location.pathname){t.next=6;break}return t.next=3,e.$http.get("/api/alert/messages");case 3:for(n=t.sent,e.allMessages=n.data.data||[],r=0;r<e.allMessages.length;r+=1)e.modals.push({index:r,messages:e.allMessages[r]});case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){u(o,r,i,s,a,"next",t)}function a(t){u(o,r,i,s,a,"throw",t)}s(void 0)}))})()},components:{"vue-alert-messages":n(425972).Z}})},84359:function(t,e,n){"use strict";n.r(e);n(788674);var r=n(887757),i=n.n(r),o=(n(535666),n(74104)),s=n(370538),a=n(904072);function u(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}"$url"in s.default.prototype||s.default.use(o.ZP),a(".header.gtm-category").length&&new s.default({el:"#announcement",data:{announcements:[]},created(){var t,e=this;return(t=i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/api/announcement");case 2:n=t.sent,e.announcements=n.data.announcements;case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){u(o,r,i,s,a,"next",t)}function a(t){u(o,r,i,s,a,"throw",t)}s(void 0)}))})()},components:{"vue-announcement":n(618511).default}})},595221:function(t,e,n){var r=n(370538).default,i=n(904072),o=n(708468);r.directive("tipsy",{inserted:(t,e,n)=>i(t).tipsy({ellipsis:!0,opacity:.95,gravity:"sw",html:!0})}),r.directive("click-outside-el",{bind(t,e,n){var r;if("function"!=typeof e.value){var i=n.context.name,s="[Vue-click-outside:] provided expression '".concat(e.expression,"' is not a function, but has to be");i&&(s+="Found in component '".concat(i,"'")),console.warn(s)}var a=e.modifiers.bubble,u=e.arg;u&&(r=document.querySelectorAll(".".concat(u)));document.querySelector("[disable-click-outside]");var c=n=>{var i=event.target||event.srcElement;i.getAttribute&&"true"===i.getAttribute("disable-click-outside")||r&&o.some(r,(t=>t.contains(n.target)))||(a||!t.contains(n.target)&&t!==n.target)&&e.value(n)};return t.__vueClickOutside__=c,document.addEventListener("mousedown",c)},unbind(t,e){document.removeEventListener("mousedown",t.__vueClickOutside__),t.__vueClickOutside__=null}})},665383:function(t,e,n){var r=n(361204),i=n(708468),o=n(993776),s=n(904072);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(141817),n(682772),n(66992),n(185827),n(702707),n(140561),n(556977),n(324603),n(339714),n(115306),n(454747),n(333948),t.exports=function(){class t{constructor(t){var e;r.extend(this,t),i.has(this,"sub_subjects")||(this.sub_subjects=[]),"matching"!==t.type&&"cloze"!==t.type||(!t.score_rule&&t.settings&&(t.score_rule=t.settings.score_rule),this.score_rule=t.score_rule||"single",this.sub_point="0.0",this.options||(this.options=[])),this.unsavedSubSubjects=r.copy(this.sub_subjects),this.ui={},this.errors={},this.saved=null!==(e=this.saved)&&void 0!==e&&e,this.update()}update(){if("matching"===this.type){var t=this.options,e=(this.saved?this.sub_subjects:this.unsavedSubSubjects).reduce(((t,e)=>[...t,e.options[0]]),[]);this.matchingSubjectAnswerPool=[...e,...t]}}addSubSubject(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0.0",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",o=t.createSubjectByType(e,i);return o.parent_id=this.id,o.point=r,n>=0?this.unsavedSubSubjects.splice(n,0,o):this.unsavedSubSubjects.push(o),o}deleteSubSubject(t){i.remove(this.unsavedSubSubjects,t),t.id?i.remove(this.sub_subjects,{id:t.id}):i.remove(this.sub_subjects,t)}addMatchingSubjectInterfereAnswer(){this.options.push({content:"",is_answer:!1,type:"text",sort:0})}deleteMatchingSubjectInterfereAnswer(t){this.options.splice(t,1)}setOptionAsAnswer(t){return i.forEach(this.options,(function(t){return t.is_answer=!1,!0})),t.is_answer=!0}compactSort(){return i.each(this.options,((t,e)=>t.sort=e))}addOption(t){return this.options.push(t)}copyOption(t){var e=r.copy(t);return e.hasOwnProperty("id")&&delete e.id,e.hasOwnProperty("sort")&&(e.sort=i.max(this.options,"sort").sort+1),e.is_answer&&(e.is_answer=!1),e.content="",this.addOption(e)}deleteOption(t){if(i.remove(this.options,t),this.options.length>0&&this.options[0].hasOwnProperty("sort"))return this.compactSort()}convertValue(t){return isNaN(t)||""===t||null===t?t:parseFloat(t)}getScore(){var t=String(this.score),e=t.indexOf(".")+1,n=t.length-e;return e>0&&n>1?parseFloat(this.score).toFixed(1):"0"===t.charAt(t.length-1)?parseFloat(this.score).toFixed(0):this.score}getPoint(){var t=this.convertValue(this.point);if("analysis"!==this.type)return t;var e=[];i(this.sub_subjects).map((function(t){if(""!==t.point)return e.push(t.point)}));var n=i.reduce(e,((t,e)=>t.plus(new o(e))),new o(0));return parseFloat(n.toFixed(1))}isCompleted(){var t=!1;return["single_selection","true_or_false"].includes(this.type)?t=i.has(this,"answeredOption"):"multiple_selection"===this.type?t=i.some(this.options,(t=>i.has(t,"checked")&&!0===t.checked)):"fill_in_blank"===this.type?t=!i.any(this.answers,(t=>""===t.content)):"short_answer"===this.type?t=Boolean(this.answered_content&&this.answered_content.length>0||this.attachments&&this.attachments.length>0):"matching"===this.type?t=!i.some(this.sub_subjects,(t=>0===t.answer_number)):["cloze","analysis"].includes(this.type)&&(t=!i.some(this.sub_subjects,(t=>!t.isCompleted()))),t}collectAnswerData(){var t;if("text"!==this.type)return["matching","cloze","analysis"].includes(this.type)?i.map(this.sub_subjects,(t=>t.collectAnswerData())):"single_selection"===this.type||"true_or_false"===this.type?(t={subject_id:this.id,subject_updated_at:this.last_updated_at},this.answeredOption?t.answer_option_ids=[+this.answeredOption]:t.answer_option_ids=[],t):"multiple_selection"===this.type?{answer_option_ids:i.map(i.filter(this.options,"checked"),"id"),subject_id:this.id}:"short_answer"===this.type?{answer:this.answered_content,subject_id:this.id,attachments:this.attachments}:"fill_in_blank"===this.type?{answers:this.answers,subject_id:this.id}:void 0}copy(){var t=r.copy(this);return t.saved=!1,delete t.id,t}isObjective(){return["single_selection","multiple_selection","true_or_false"].includes(this.type)}isSubjective(){return"short_answer"===this.type}hasSubSubjects(){return["analysis","cloze"].includes(this.type)}collectRequestData(){var t=i.pick(this,["id","last_updated_at","parent_id","description","type","answer_explanation","wrong_explanation","sort","point","difficulty_level","set_limit","character_limit","required","options","options_layout","option_type","correct_answers","has_audio","play_limit","play_limit_times","uploads","note","show_note","score_rule","case_sensitive","unordered","limit_type","point_rule","point_rule_minimum_count"]);return(["text","analysis"].includes(t.type)||0===t.point)&&(t.point="0"),t}collectSubSubjectData(t){if(!["matching","cloze"].includes(this.type))return[];return((()=>0===this.unsavedSubSubjects.length)()?this.sub_subjects:this.unsavedSubSubjects).map(((e,n)=>{var r=u(u({},e.collectRequestData()),{},{sort:n,options_layout:this.options_layout});return t&&(r.classification_id=t),"cloze"===this.type&&(r.description="Cloze Subject"),r}))}updateSubSubjectsPointByRule(t){var e="random"===this.type?this.limit_type:this.type;"analysis"!==this.type&&(this.point=parseFloat(t[e][this.difficulty_level]||"0")),["analysis","random"].includes(this.type)&&(i.map(this.sub_subjects,(function(e){e.point=parseFloat(t[e.type][e.difficulty_level]||"0")})),i.map(this.unsavedSubSubjects,(function(e){e.point=parseFloat(t[e.type][e.difficulty_level]||"0")})))}deactivateSubject(){return this.active=!1,i.each(this.unsavedSubSubjects,(function(t){return t.active=!1,!0}))}getCorrectOptions(){var t=[],e=(e,n)=>{e.is_answer&&t.push(n)},n=t=>{t.forEach(e)};return["matching","cloze"].includes(this.type)?this.sub_subjects.forEach((t=>{n(t.options)})):n(this.options),t}isActive(){return this.active||i.some(this.unsavedSubSubjects,{active:!0})}hasError(t){return this.errors[t]}validate(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"optionsLength"===t?this._setError(t,this.options.length<2):this._setError(t,e)}_setError(t,e){return this.errors[t]=Boolean(e)}}return t.createSubjectByType=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true",i={type:e,saved:!1};if(i.difficulty_level="false"===r?"none":"medium",i.play_limit=!0,i.play_limit_times=1,["single_selection","multiple_selection","true_or_false"].includes(i.type)&&(i.options=[{content:"",is_answer:!1,type:"text",sort:0},{content:"",is_answer:!1,type:"text",sort:1}],["single_selection","multiple_selection"].includes(i.type)&&(i.options.push({content:"",is_answer:!1,type:"text",sort:2}),i.options.push({content:"",is_answer:!1,type:"text",sort:3})),i.options_layout=n,i.option_type="text"),"matching"===i.type){i.options_layout=n,i.option_type="text",i.sort=0;for(var o=new t(i),s=0;s<4;s++)o.addSubSubject("single_selection",s);return o.sub_subjects.forEach((t=>{t.options.forEach()})),o}return"cloze"===i.type&&(i.options_layout=n,i.option_type="text"),"fill_in_blank"===i.type&&(i.case_sensitive=!1,i.unordered=!1),new t(i)},t.setSettings=function(t){if(t.settings)return t.point_rule=t.settings.point_rule,t.point_rule_minimum_count=t.settings.point_rule_minimum_count,t.options_layout=t.settings.options_layout,t.character_limit=t.settings.character_limit,t.set_limit=t.settings.set_limit,t.required=t.settings.required,t.play_limit=null==t.settings.play_limit||t.settings.play_limit,t.play_limit_times=null==t.settings.play_limit_times?1:t.settings.play_limit_times,t.uploads=t.settings.uploads,t.has_audio=null!=i.find(t.settings.uploads,{type:"audio"})||t.settings.hasOwnProperty("has_audio"),t.show_note=t.settings.show_note,"matching"===t.type?t.score_rule=t.settings.score_rule:"fill_in_blank"===t.type?(t.case_sensitive=t.settings.case_sensitive,t.unordered=t.settings.unordered):"random"===t.type&&(t.limit_type=t.settings.limit_type),["single_selection","multiple_selection","true_or_false","matching","cloze"].includes(t.type)?t.option_type=t.settings.option_type||"text":delete t.options},t.createSubjectBySavedSubject=function(e){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r&&(t.setSettings(e),delete e.settings,e.options&&(e.options=i.sortBy(e.options,"sort"))),e.description=e.description.replace(/&nbsp;/g," ");var o=new RegExp("<[^>]+>"),a=[];try{a=o.test(e.description)?s(e.description).find("span.__blank__").get():[]}catch(t){a=[]}var u=a.map((t=>({ele:t,uuid:t.getAttribute("data-id")?Number(t.getAttribute("data-id")):0}))),c=i.map(e.sub_subjects,(function(n,o){return n=t.createSubjectBySavedSubject(n,r),a.length>0&&(n.uuid=u[o].uuid),"random"===e.type&&(n.ui.showContent=!1,n.isInRandom=!0,n.parent_id=e.id,"analysis"===n.type&&(i.each(n.sub_subjects,(function(t){t.isInRandom=!0,t.isInRandomAnalysis=!0})),i.each(n.unsavedSubSubjects,(function(t){t.isInRandom=!0,t.isInRandomAnalysis=!0})))),n}));if("cloze"===e.type&&c.sort(((t,e)=>t.sort-e.sort)),e.sub_subjects=c,"fill_in_blank"===e.type){if(i.isEmpty(e.answers)||e.answers.length!==e.answer_number){e.answers=[];for(var l=0,d=e.answer_number-1,p=d>=0;p?l<=d:l>=d;p?l++:l--)e.answers.push({sort:l,content:""})}e.displayedDescription=e.description.replace(/_{2,}/gi,"______")}return"short_answer"!==e.type&&"short_answer"!=(null===(n=e.settings)||void 0===n?void 0:n.limit_type)||(""===e.lowest_score&&(e.lowest_score=e.highest_score=e.average_score="-"),e.attachments||(e.attachments=[])),e.saved=!0,new t(e)},t}},994265:function(t,e,n){"use strict";n.d(e,{FR:function(){return u},T1:function(){return l},rG:function(){return a},x7:function(){return c},zo:function(){return s}});var r=n(117403),i=n(730381),o=(t,e)=>{if((t=>{t.make_up_record&&(t.make_up_record.is_closed=i()>i(t.make_up_record.closed_time)),t.resubmit_record&&(t.resubmit_record.is_closed=i()>i(t.resubmit_record.closed_time))})(e),!e.resubmit_record&&!e.make_up_record)return"";if(!e.resubmit_record&&e.make_up_record)return"makeUp";if(!e.make_up_record&&t)return"resubmit";if(!t)return"makeUp";var n=e.make_up_record.updated_at||e.make_up_record.created_at,r=e.resubmit_record.updated_at||e.resubmit_record.created_at;return n>=r?"makeUp":n<r?"resubmit":""};function s(t,e){var n={isMarked:null,submitStatus:""};n.isMarked="marked"===e.mark;var i=o(t,e);return e.markedSubmitted&&["makeUp","resubmit"].includes(i)?(n.submitStatus=r.default.t("homework.makeUp"),n):n}function a(t){var e=t.submission_correct;return e.instructor_score||e.comment}function u(t){return(!t.submit_by_instructor||t.marked_submitted)&&!t.is_draft}function c(t){return t.submit_by_instructor&&!t.is_draft}function l(t){return t.final_score||t.submission_correct.instructor_score||t.submission_correct.comment?"marked":"unmarked"}},954669:function(t,e,n){"use strict";n(421169);var r=n(904072);n(816414),n(356230),n(716894);var i=n(636335);i.bootNgAppOnDemand(),n(296808),n(141964),n(541647),n(718652),n(84359),n(525752),n(255178),n(139587),n(543637),n(521406),n(667492),n(600683),r(document).ready((()=>{i.JSLoad()}))},139587:function(t,e,n){n(788674),document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("#vue-app")&&Promise.all([n.e(31953),n.e(25706),n.e(20688)]).then(n.bind(n,920688))}))},922074:function(t,e,n){"use strict";n.d(e,{Z:function(){return O}});var r=n(370538),i=n(420629),o={state:()=>({isLoading:!0,courseId:null,courseName:null,currentUser:{id:null,userNo:null,role:null}}),actions:{setCourseInfo(t,e){(0,t.commit)("setCourseInfo",e)},setCurrentUser(t,e){(0,t.commit)("setCurrentUser",e)}},getters:{},mutations:{setCourseInfo(t,e){var n=e.courseId,r=e.courseName;t.courseId=n,t.courseName=r},setCurrentUser(t,e){var n=e.userId,r=e.userNo,i=e.userRole;t.currentUser.id=n,t.currentUser.userNo=r,t.currentUser.role=i}}},s=(n(66992),n(140561),n(788674),n(132023),n(323123),n(454747),n(333948),n(887757)),a=n.n(s),u=(n(535666),n(48496)),c=n(356264),l=n(117403),d=n(994265),p=n(554174),m=n(693604);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){v(o,r,i,s,a,"next",t)}function a(t){v(o,r,i,s,a,"throw",t)}s(void 0)}))}}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=n(321614).v4,C={namespaced:!0,state:{homework:{},currentMarkStatus:"all",currentAttachUploads:[],currentAttachUploadId:null,currentSubmissionId:0,currentMemberId:0,currentSubmitStatuses:[],currentSubmissions:[],isSkipUnmarkedPopup:!1,isSkipSwitchToNextMemberPopup:!1},actions:{setHomework(t,e){(0,t.commit)("setHomework",e)},setMembers(t,e){(0,t.commit)("setMembers",e)},setMemberMarked(t,e){(0,t.commit)("setMemberMarked",e)},setCurrentSubmitStatuses(t,e){var n=t.state,r=t.commit,i=t.getters,o=t.dispatch;if(r("setCurrentSubmitStatuses",e.statuses),0!==i.filteredMembers.length){var s=i.filteredMembers.find((t=>t.id===n.currentMemberId));o("setCurrentMemberId",s?s.id:i.filteredMembers[0].id)}else o("setCurrentMemberId",0)},setCurrentMarkStatus:(t,e)=>b(a().mark((function n(){var r,i,o,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.state,i=t.dispatch,o=t.commit,s=t.getters,o("setCurrentMarkStatus",e),0!==s.filteredMembers.length){n.next=6;break}return n.next=5,i("setCurrentMemberId",0);case 5:return n.abrupt("return");case 6:if(!(s.filteredMembers.findIndex((t=>t.id===r.currentMemberId))<0)){n.next=10;break}return n.next=10,i("setCurrentMemberId",s.filteredMembers[0].id);case 10:case"end":return n.stop()}}),n)})))(),setCurrentMemberId:(t,e)=>b(a().mark((function n(){var r,i,o,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.dispatch,i=t.commit,o=t.getters,i("setCurrentMemberId",e),e){n.next=7;break}return i("setCurrentSubmissions",[]),n.next=6,r("setCurrentSubmissionId",0);case 6:return n.abrupt("return");case 7:if(!o.submitByGroup){n.next=13;break}return n.next=10,(0,p.getGroupSubmissions)(o.homeworkId,e);case 10:s=n.sent,n.next=16;break;case 13:return n.next=15,(0,p.getStudentSubmissions)(o.homeworkId,e);case 15:s=n.sent;case 16:if(i("setCurrentSubmissions",s.data.list),!(o.submissionsOfCurrentMember.length>0)){n.next=22;break}return n.next=20,r("setCurrentSubmissionId",o.submissionsOfCurrentMember[0].id);case 20:n.next=29;break;case 22:if(!o.submissionSubmitByInstructor){n.next=27;break}return n.next=25,r("setCurrentSubmissionId",o.submissionSubmitByInstructor.id);case 25:n.next=29;break;case 27:return n.next=29,r("setCurrentSubmissionId",0);case 29:case"end":return n.stop()}}),n)})))(),setCurrentAttachUploads(t,e){var n=t.commit,r=t.getters;n("setCurrentAttachUploads",[...e,...u._.map(r.currentSubmission.other_resources||[],(t=>(t.id=w(),t.isSupportMark=!1,t)))])},setSomeoneAttachUpload(t,e){(0,t.commit)("setSomeoneAttachUpload",e)},setCurrentAttachUploadId(t,e){(0,t.commit)("setCurrentAttachUploadId",e)},setCurrentSubmissionId:(t,e)=>b(a().mark((function n(){var r,i,o,s,c,l,d,h;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.dispatch,(i=t.commit)("setCurrentSubmissionId",e),e){n.next=6;break}return r("setCurrentAttachUploadId",0),r("setCurrentAttachUploads",[]),n.abrupt("return");case 6:return n.next=8,(0,p.getSubmissionAttachements)(e);case 8:o=n.sent,s=u._.map(o.data.marked_attachment_infos,(t=>{var e=t.origin_upload.upload;return(e=_(_({},e),t.origin_upload)).isSupportMark=m.canEditByPdfEditor(e),e.isMarked=!u._.isEmpty(t.marked_attachment),e.marked_attachment=t.marked_attachment,e})),(c=u._.find(s,(t=>"auto-generated-pdf"===t.source)))&&(l=c.name.split("."),d=f(l,2),h=d[0],d[1],c.name=h),r("setCurrentAttachUploads",s),u._.isEmpty(s)?i("setCurrentAttachUploadId",0):i("setCurrentAttachUploadId",s[0].id);case 14:case"end":return n.stop()}}),n)})))(),setCurrentSubmissions(t,e){(0,t.commit)("setCurrentSubmissions",e)},updateCurrentSubmission:(t,e)=>b(a().mark((function n(){var r,i,o,s,c,d,p,m,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.state,i=t.commit,o=t.getters,s=t.dispatch,c=e.submission,d=e.root,p={},i("updateCurrentSubmission",{submission:c,getters:o}),i("updateMemberMarkStatus",{submission:c,getters:o,returnValue:p}),"unmarked"!==r.currentMarkStatus||"unmarked"!==p.oldStatus||"marked"!==p.newStatus){n.next=20;break}if(r.isSkipSwitchToNextMemberPopup){n.next=10;break}return m=t=>new Promise((e=>{var n={title:l.default.t("tips"),render:t=>t("div",{style:{paddingLeft:"40px"}},[t("div",{style:{paddingBottom:"10px"}},o.submitByGroup?l.default.t("homework.switchToNextGroup"):l.default.t("homework.switchToNextStudent")),t("Checkbox",{props:{value:!1},on:{input:t=>{i("setSkipSwitchToNextMemberPopup",t)}}},l.default.t("homework.skipReminder"))]),width:500,onOk:()=>{e(!0)}};t.$Modal.info(n)})),n.next=10,m(d);case 10:if(0!==o.filteredMembers.length){n.next=14;break}return n.next=13,s("setCurrentMemberId",0);case 13:return n.abrupt("return");case 14:return d.$Spin.show(),f=o.filteredMembers[0],n.next=18,s("setCurrentMemberId",f.id);case 18:d.$Spin.hide(),u.Toast.success(l.default.t("homework.switchMemberTip",{memberName:f.name}));case 20:case"end":return n.stop()}}),n)})))(),updateHomeworkAnnounceMarkStatus(t,e){(0,t.commit)("updateHomeworkAnnounceMarkStatus",e)},setSkipUnmarkedPopupStatus(t,e){(0,t.commit)("setSkipUnmarkedPopupStatus",e)},resetState(t){(0,t.commit)("resetState")},setCurrentSubmissionUploads(t,e){var n=t.state,r=t.dispatch,i=u._.cloneDeep(n.currentSubmission);i.submission_correct.uploads=e,r("setCurrentSubmission",i)}},getters:{currentMember:(t,e)=>!u._.isEmpty(e.filteredMembers)&&t.currentMemberId?u._.find(e.filteredMembers,{id:t.currentMemberId}):{},currentSubmission:t=>!u._.isEmpty(t.currentSubmissions)&&t.currentSubmissionId?u._.find(t.currentSubmissions,{id:t.currentSubmissionId}):{},currentAttachUpload:t=>!u._.isEmpty(t.currentAttachUploads)&&t.currentAttachUploadId?u._.find(t.currentAttachUploads,{id:t.currentAttachUploadId}):{},homeworkId:t=>u._.isEmpty(t.homework)?0:t.homework.id,submitByGroup:t=>!u._.isEmpty(t.homework)&&t.homework.submit_by_group,isResubmitOpen:t=>!u._.isEmpty(t.homework)&&t.homework.is_resubmit_open,members(t,e){if(u._.isEmpty(t.homework))return[];var n={1:"submitted",2:"makeUp",3:"unsubmit",4:"askedMakeUp"};return u._.map(t.homework.submissions,(t=>{var r,i=u._.cloneDeep(e.submitByGroup?t.group:t.student),o=e.submitByGroup?"":"(".concat(i.user_no,")");return i.label="".concat(i.name).concat(o),i.markedSubmitted=(null===(r=i.make_up_record)||void 0===r?void 0:r.submitted)||t.submission.marked_submitted,i.memberStatus=(0,d.zo)(e.isResubmitOpen,i),i.submitStatus=n[i.status],i}))},filteredMembers(t,e){var n="all"===t.currentMarkStatus?e.members:u._.filter(e.members,(e=>e.mark===t.currentMarkStatus)),r=t.currentSubmitStatuses.length;return 0===r||4===r?n:u._.filter(n,(e=>t.currentSubmitStatuses.includes(e.submitStatus)))},submissionsOfCurrentMember:t=>u._.filter(t.currentSubmissions,d.FR),submissionSubmitByInstructor:t=>u._.find(t.currentSubmissions,d.x7),homeworkData:t=>u._.isEmpty(t.homework)?{}:(0,c.camelizeKeys)(t.homework.data),memberMarkedCount:(t,e)=>u._.filter(e.members,(t=>"marked"===t.mark)).length,memberUnmarkedCount:(t,e)=>u._.filter(e.members,(t=>"marked"!==t.mark)).length,submissionsOfHomework:t=>u._.isEmpty(t.homework)?[]:t.homework.submissions,isLarkUpload(t,e){var n;return"LARK"===(null===(n=e.currentAttachUpload)||void 0===n?void 0:n.source)}},mutations:{setHomework(t,e){t.homework=e},setMembers(t,e){t.members=e},setMemberMarked(t,e){var n=t.members.findIndex((t=>t.id===e));n<0||(t.members[n].markStatus="marked")},setCurrentMarkStatus(t,e){t.currentMarkStatus=e},setCurrentSubmitStatuses(t,e){t.currentSubmitStatuses=e},setCurrentMemberId(t,e){t.currentMemberId=e},setCurrentAttachUploads(t,e){t.currentAttachUploads=e},setSomeoneAttachUpload(t,e){var n=t.currentAttachUploads.findIndex((t=>t.id===e.id));n<0||t.currentAttachUploads.splice(n,1,e)},setCurrentAttachUploadId(t,e){t.currentAttachUploadId=e},setCurrentSubmissionId(t,e){t.currentSubmissionId=e},setCurrentSubmissions(t,e){t.currentSubmissions=e},updateCurrentSubmission(t,e){var n=e.submission,r=e.getters;if(n.id===t.currentSubmissionId){var i=t.currentSubmissions.findIndex((t=>t.id===n.id));i<0||t.currentSubmissions.splice(i,1,_(_({},r.currentSubmission),n))}},updateHomeworkAnnounceMarkStatus(t,e){t.homework.data.is_announce_mark=e.isAnnounceMark,t.homework.data.announce_score_type=e.announceScoreType,t.homework.data.announce_score_time=e.announceScoreTime},updateMemberMarkStatus(t,e){var n=e.submission,r=e.getters,i=e.returnValue;if(r.submissionsOfHomework){var o=-1;if(!((o=r.submitByGroup?r.submissionsOfHomework.findIndex((e=>e.group.id===t.currentMemberId)):r.submissionsOfHomework.findIndex((e=>e.student.id===t.currentMemberId)))<0)){var s="unmarked",a=u._.cloneDeep(r.submissionsOfHomework[o]);(u._.isEmpty(a.submission)||r.currentSubmission.is_latest_version)&&(s=(0,d.T1)(n));var c=r.submitByGroup?a.group.mark:a.student.mark;r.submitByGroup?a.group.mark=s:a.student.mark=s,t.homework=u._.tap(u._.cloneDeep(t.homework),(t=>t.submissions.splice(o,1,a))),i.oldStatus=c,i.newStatus=s}}},setSkipUnmarkedPopupStatus(t,e){t.isSkipUnmarkedPopup=e},setSkipSwitchToNextMemberPopup(t,e){t.isSkipSwitchToNextMemberPopup=e},resetState(t){var e={homework:{},currentMarkStatus:"all",currentAttachUploads:[],currentAttachUploadId:null,currentSubmissionId:0,currentMemberId:0,currentSubmitStatuses:[],currentSubmissions:[],isSkipUnmarkedPopup:!1,isSkipSwitchToNextMemberPopup:!1};Object.keys(e).forEach((n=>{t[n]=e[n]}))}}};function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}r.default.use(i.ZP);var O=new i.ZP.Store(S(S({},o),{},{modules:{homeworkMark:C},strict:!1}))},48496:function(t,e,n){"use strict";n.r(e),n.d(e,{TimeUtils:function(){return s.Z},Toast:function(){return o.Z},_:function(){return i.a},fileTypeByExtension:function(){return l},humanizeBytes:function(){return c},isDate:function(){return u},numberToLocaleObject:function(){return d},numberToLocaleString:function(){return p}});n(682772),n(747042),n(339714),n(323123),n(923157);var r=n(496486),i=n.n(r),o=n(681423),s=n(576201),a=Object.prototype.toString;function u(t){return"[object Date]"===a.call(t)}function c(t){var e=["Bytes","KB","MB","GB","TB"];if(0===t)return"0 ".concat(e[0]);var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)),10);return"".concat(Math.round(t/Math.pow(1024,n),2)," ").concat(e[n])}function l(t){if(!t)return"";if(t.is_folder)return"folder";if("link"===t.type)return(e=t.link)&&e.is_video_link?"video-link":"link";var e,n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(-1!==t.indexOf(".")){var n=t.split(".").pop();return e?n.toLowerCase():n}return t}(t.name||t.file_name||"",!0),r=t.type;return"folder"===r?"folder":["video-quiz","other"].includes(r)?"video":["video","image","audio","scorm","evercam","swf","folder"].includes(r)?r:["doc","docx","dot","dotx"].includes(n)?"word":["xls","xlsx","xlt","xltx","csv"].includes(n)?"excel":"pdf"===n?"pdf":["ppt","pptx","pps","ppsx"].includes(n)?"ppt":"document"}function d(t,e){var n={value:String(t),unit:"",formulate:new Intl.NumberFormat("en-US").format(t)};if(!t||t<1e4)return n.value=new Intl.NumberFormat("en-US").format(t),n;var r=t.toString();return t<1e6?e.locale.value.startsWith("en")?(n.value="".concat(r.slice(0,-3),".").concat(r.substr(-3)[0]),n.unit="K",n):(n.value="".concat(r.slice(0,-4),".").concat(r.substr(-4)[0]),n.unit="".concat(e.tc("10KShort")),n):t<1e8?e.locale.value.startsWith("en")?(n.value="".concat(r.slice(0,-6),".").concat(r.substr(-6)[0]),n.unit="".concat(e.tc("1MShort")),n):(n.value="".concat(r.slice(0,-4),".").concat(r.substr(-4)[0]),n.unit="".concat(e.tc("10KShort")),n):t<1e9?e.locale.value.startsWith("en")?(n.value="".concat(r.slice(0,-6),".").concat(r.substr(-6)[0]),n.unit="".concat(e.tc("1MShort")),n):(n.value="".concat(r.slice(0,-8),".").concat(r.substr(-8)[0]),n.unit="".concat(e.tc("100MShort")),n):e.locale.value.startsWith("en")?(n.value="".concat(r.slice(0,-9),".").concat(r.substr(-9)[0]),n.unit="".concat(e.tc("1BShort")),n):(n.value="".concat(r.slice(0,-8),".").concat(r.substr(-8)[0]),n.unit="".concat(e.tc("100MShort")),n)}function p(t,e){var n=d(t,e);return"".concat(n.value).concat(n.unit)}},141964:function(t,e,n){"use strict";n.r(e);n(788674),n(141817);var r=n(554174),i=n(708468),o={name:"CompletionCriteriaInput",props:{courseId:{type:Number},type:{type:String},value:{type:[Object,String]},initCompletionCriterionKey:{type:String},initCompletionCriterionValue:{type:[Number,String]},disable:{type:Boolean}},data:()=>({hasCompletionCriterion:0,completionCriteriaData:{completion_criteria:[]},selectedCompletionCriterion:{id:null,value:0}}),methods:{change(){this.$emit("input",this.completionCriterionValue);var t=this.completionCriterionValue.id;if(t){var e=this.filteredCompletionCriterionType.find((e=>e.id===t));null!=e&&e.description&&this.$emit("completionCriterionForShowChange",e.description)}},setDefaultCompletionCriterion(){this.setCompletionCriterion(this.defaultCompletionCriterionType)},setCompletionCriterion(t){t.id!==this.noneCompletionCriterionType.id&&(this.hasCompletionCriterion=1,this.selectedCompletionCriterion.id=t.id)},setInitCompletionCriterion(){if(this.initCompletionCriterionKey){var t=i.find(this.completionCriteriaData.completion_criteria,{completion_criterion_type:this.initCompletionCriterionKey})||this.noneCompletionCriterionType;this.setCompletionCriterion(t),this.selectedCompletionCriterion.value=this.initCompletionCriterionValue}else this.setDefaultCompletionCriterion(),this.selectedCompletionCriterion.value=this.defaultCompletionCriterionType.value}},watch:{completionCriterionValue:{deep:!0,handler(t,e){t!==e&&this.change()}},"selectedCompletionCriterionType.id":function(){this.selectedCompletionCriterion.value=this.selectedCompletionCriterionType.value}},computed:{completionCriterionValue(){var t=this.hasCompletionCriterion?this.selectedCompletionCriterion:this.noneCompletionCriterionType;return t.activity_completion_criterion_type_id=t.id,t},noneCompletionCriterionType(){return i.find(this.completionCriteriaData.completion_criteria,{completion_criterion_type:"none"})||{id:0,value:0}},filteredCompletionCriterionType(){return i.reject(this.completionCriteriaData.completion_criteria,{completion_criterion_type:"none"})},defaultCompletionCriterionType(){return i.find(this.completionCriteriaData.completion_criteria,{is_default:!0})||{id:0,value:0}},selectedCompletionCriterionType(){return i.find(this.completionCriteriaData.completion_criteria,{id:this.completionCriterionValue.id})||{}},showCustomValueInput(){return["score"].includes(this.selectedCompletionCriterionType.completion_criterion_type)}},created(){(0,r.getCompletionCriteria)(this.courseId,this.type).then((t=>{this.completionCriteriaData=t.data})).then((()=>this.setInitCompletionCriterion()))},install(t){return t.component(this.name,this)}},s=n(551900),a=(0,s.Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("RadioGroup",{model:{value:t.hasCompletionCriterion,callback:function(e){t.hasCompletionCriterion=e},expression:"hasCompletionCriterion"}},[n("Radio",{attrs:{label:0,disabled:t.disable}},[t._v(t._s(t.$t("has_not")))]),t._v(" "),n("Radio",{attrs:{label:1,disabled:t.disable}},[t._v(t._s(t.$t("has")))])],1),t._v(" "),t.hasCompletionCriterion?n("Select",{staticStyle:{width:"200px"},attrs:{disabled:t.disable},model:{value:t.selectedCompletionCriterion.id,callback:function(e){t.$set(t.selectedCompletionCriterion,"id",e)},expression:"selectedCompletionCriterion.id"}},t._l(t.filteredCompletionCriterionType,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v("\n      "+t._s(e.description)+"\n    ")])})),1):t._e(),t._v(" "),t.showCustomValueInput?n("Input",{staticStyle:{width:"60px"},model:{value:t.selectedCompletionCriterion.value,callback:function(e){t.$set(t.selectedCompletionCriterion,"value",e)},expression:"selectedCompletionCriterion.value"}}):t._e(),t._v(" "),t.hasCompletionCriterion?n("div",[n("div",{staticClass:"row-tip selected"},[n("label",[t._v("\n        "+t._s(t.$t("completion_selected_description"))+"\n      ")])])]):n("div",[n("div",{staticClass:"row-tip unselected"},[n("label",[t._v("\n        "+t._s(t.$t("completion_unselected_description"))+"\n      ")])])])],1)}),[],!1,null,"6216f435",null).exports,u=n(969658),c=n.n(u);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={data:()=>({}),computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,n(420629).rn)(["courseId"])),props:{value:{type:String,default:""},option:{type:Object,default:()=>({})}},name:"VueSimditor",mounted(){var t,e;this.courseId&&(this.option.courseId=this.courseId),null!==(t=window.featureToggles)&&void 0!==t&&t.vocabulary||(this.option.toolbar=this.option.toolbar.filter((t=>"entry"!==t))),null!==(e=window.featureToggles)&&void 0!==e&&e.editorActivityRefer||(this.option.toolbar=this.option.toolbar.filter((t=>"activity"!==t)));var n=this;c()().create(this.$refs.simditor,this.option).then((t=>{t.setValue(this.value),t.on("valuechanged",(()=>{n.$emit("input",t.getValue())}))}))},install(t){return t.component(this.name,this)}},m=(0,s.Z)(p,(function(){var t=this.$createElement;return(this._self._c||t)("textarea",{ref:"simditor"})}),[],!1,null,null,null).exports,f=n(866473),h=n.n(f),v=n(370538),b=n(285256),y=n(385565),_=n.n(y),g=(n(422592),n(230791),n(117403)),w=n(922074),C=n(708468);v.default.prototype.$store=w.Z,v.default.use(h()),v.default.use(b.Z),v.default.use(m),v.default.use(a),v.default.use(_()),v.default.use(n(965284)),n(90963),Promise.all([n.e(60250),n.e(90109),n.e(21295),n.e(19398)]).then(n.bind(n,129718)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),n.e(23673).then(n.bind(n,523673)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(25706),n.e(13041),n.e(2251),n.e(32781)]).then(n.bind(n,216616)).then((t=>{t.default.options.store=w.Z,t.default.options.i18n=g.default,v.default.customElement(t.default.options.name,t.default.options)})),n.e(81174).then(n.bind(n,581174)).then((t=>{t.default.options.store=w.Z,t.default.options.i18n=g.default,v.default.customElement(t.default.options.name,t.default.options)})),n.e(73140).then(n.bind(n,473140)).then((t=>{t.default.options.store=w.Z,t.default.options.i18n=g.default,v.default.customElement(t.default.options.name,t.default.options)})),Promise.all([n.e(4301),n.e(2079),n.e(60250),n.e(27177),n.e(90109),n.e(54491)]).then(n.bind(n,41823)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(25706),n.e(38472)]).then(n.bind(n,38472)).then((t=>{var e=C.cloneDeep(t.default);e.store=w.Z,e.i18n=g.default,v.default.customElement(e.name,e)})),Promise.all([n.e(25706),n.e(59497)]).then(n.bind(n,459497)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(25706),n.e(64201)]).then(n.bind(n,164201)).then((t=>{var e=C.cloneDeep(t.default);e.store=w.Z,e.i18n=g.default,v.default.customElement(e.name,e)})),Promise.all([n.e(25706),n.e(67323)]).then(n.bind(n,167323)).then((t=>{var e=C.cloneDeep(t.default);e.store=w.Z,e.i18n=g.default,v.default.customElement(e.name,e)})),n.e(24992).then(n.bind(n,324992)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(25706),n.e(69310)]).then(n.bind(n,469310)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(8499),n.e(25261),n.e(25706),n.e(17455),n.e(97577)]).then(n.bind(n,945525)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(25706),n.e(4077),n.e(99010)]).then(n.bind(n,591675)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(67728),n.e(74632),n.e(25706),n.e(4077),n.e(46755)]).then(n.bind(n,348648)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)})),Promise.all([n.e(25706),n.e(92337)]).then(n.bind(n,192337)).then((t=>{t.default.store=w.Z,t.default.i18n=g.default,v.default.customElement(t.default.name,t.default)}))},90963:function(t,e,n){"use strict";n.r(e);var r=n(370538);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=r.default.extend({render:n=>n(t,{props:e})}),o=new i({parent:n}).$mount();document.body.appendChild(o.$el);var s=o.$children[0];s.visible=!0;var a=s.$refs.modal;a.$on("on-cancel",(()=>{setTimeout((()=>{(s.getComponentName&&"VocabularyForm"===s.getComponentName()||e.destroyComponent)&&(o.$destroy(),o.$el.remove())}),300)}))}r.default.prototype.$Modal.show=i,e.default=i},541647:function(t,e,n){"use strict";n.r(e);n(788674);var r=n(370538),i=n(285256),o=n(117403),s=n(922074);r.default.prototype.$store=s.Z,r.default.use(i.Z),Promise.all([n.e(25706),n.e(46791)]).then(n.bind(n,746791)).then((t=>{t.default.options.store=s.Z,t.default.options.i18n=o.default,r.default.customElement(t.default.options.name,t.default.options)}))},667492:function(t,e,n){"use strict";n.r(e);var r=n(370538),i=n(117403),o=n(170803),s=n.n(o),a=(n(788674),n(887757)),u=n.n(a),c=(n(535666),n(409669)),l=n.n(c);function d(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}var p=new CustomEvent("__import-exam-subject-popup-visible",{detail:{show:!1}}),m={props:{show:{type:Boolean,default:!1},examId:{type:Number,required:!0}},data:()=>({loading:!1}),methods:{visibleChange(t){p.detail.show=t,document.dispatchEvent(p)},close(){p.detail.show=!1,document.dispatchEvent(p)},importSubject(){var t,e=this;return(t=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,l().post("/api/make-up-exams/".concat(e.examId,"/subjects/import"));case 4:window.location.reload(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){d(o,r,i,s,a,"next",t)}function a(t){d(o,r,i,s,a,"throw",t)}s(void 0)}))})()}}},f=(0,n(551900).Z)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{"class-name":"vertical-center-modal",value:t.show,title:t.$t("importSubject.title"),width:480,"mask-closable":!1},on:{"on-visible-change":t.visibleChange}},[n("p",[t._v(t._s(t.$t("importSubject.confirm")))]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.importSubject}},[t._v(t._s(t.$t("importSubject.import")))]),t._v(" "),n("Button",{attrs:{type:"default"},on:{click:t.close}},[t._v(t._s(t.$t("importSubject.notImport")))])],1)])}),[],!1,null,"5f4d92c2",null).exports;r.default.prototype._i18n=i.default,r.default.use(s()),r.default.customElement("import-exam-subject-popup",f),r.default.component("match-subject-info",n(318563).Z),r.default.component("number-input",n(603912).Z)},600683:function(t,e,n){"use strict";n(788674);var r=function(t,e){var r;void 0===e&&(e=null),(null===(r=window.featureToggles)||void 0===r?void 0:r[t])&&n(595684)("./"+(e||t))};r("face_recognition_service","face_check_service"),r("face_photo_check_service","face_check_service"),r("class_mode_casting"),r("single_user_session_constraint"),r("course_end_date_filter","course_info_filter"),n.e(5604).then(n.bind(n,305604))},422592:function(t,e,n){"use strict";n(115306),n(923157),n(454747);var r=n(370538),i=n(48496);r.default.directive("ellipsis",{inserted:function(t,e,n){var r=t.getElementsByClassName("ivu-tooltip-rel")[0],i=r.firstElementChild||r;n&&n.componentInstance&&n.componentInstance.$refs&&n.componentInstance.$refs.popper&&t.parentElement&&i&&i.offsetWidth<=t.parentElement.offsetWidth?n.componentInstance.$refs.popper.style.visibility="hidden":n.componentInstance.$refs.popper.style.visibility="visiable"},componentUpdated:function(t,e,n){r.default.nextTick((function(){var e=t.getElementsByClassName("ivu-tooltip-rel")[0],r=e.firstElementChild||e;n&&n.componentInstance&&n.componentInstance.$refs&&n.componentInstance.$refs.popper&&t.parentElement&&r&&r.offsetWidth<=t.parentElement.offsetWidth?n.componentInstance.$refs.popper.style.visibility="hidden":n.componentInstance.$refs.popper.style.visibility="visible"}))}}),r.default.directive("auto-label-width",{inserted:function(t,e,n){r.default.nextTick((function(){var t,e,r=[];null===(t=n.componentInstance)||void 0===t||t.$children.forEach((function(t){var e=t.$el.getElementsByTagName("label")[0];e&&r.push(e.clientWidth)}));var o=i._.max(r);console.log(o),null===(e=n.componentInstance)||void 0===e||e.$children.forEach((function(t){var e=t.$el.getElementsByTagName("label")[0];e&&(e.style.width=o)}))}))},componentUpdated:function(t,e,n){r.default.nextTick((function(){var t,e,r=[];null===(t=n.componentInstance)||void 0===t||t.$children.forEach((function(t){var e=t.$el.getElementsByTagName("label")[0];e&&r.push(e.clientWidth)}));var o=i._.max(r);console.log(o),null===(e=n.componentInstance)||void 0===e||e.$children.forEach((function(t){var e=t.$el.getElementsByTagName("label")[0];e&&(e.style.width=o+"px")}))}))}}),r.default.directive("upload-font",(function(t,e,n){var r=(0,i.fileTypeByExtension)(e.value);t.classList.add("font"),t.classList.forEach((function(e){e.startsWith("font-file-")?t.classList.replace(e,"font-file-"+r):t.classList.add("font-file-"+r)}))}))},230791:function(t,e,n){"use strict";var r=n(370538),i=n(48496),o=n(576201);r.default.filter("localDatetime",(function(t){return o.Z.toLocalDateTime(t)})),r.default.filter("formatUtcDatetime",(function(t){return o.Z.formatUtcDatetime(t)})),r.default.filter("localDateYMDHm",(function(t){return o.Z.formatDatetime(t,"YYYY-MM-DD HH:mm")})),r.default.filter("toYmd",(function(t){return o.Z.toYmd(t)})),r.default.filter("toHm",(function(t){return o.Z.toHm(t)})),r.default.filter("secondsToHms",(function(t){return o.Z.secondsToHms(t)})),r.default.filter("diffBySeconds",(function(t,e){return o.Z.diffBySeconds(t,e)})),r.default.filter("humanizeBytes",i.humanizeBytes)},554174:function(t,e,n){"use strict";n.r(e),n.d(e,{addActivityComment:function(){return N},applyCommentLikeOperation:function(){return H},checkTencentMeetingUserAuth:function(){return rt},checkUserLarkAuth:function(){return M},createActivitiesInCourses:function(){return S},createActivity:function(){return d},createCalendarMeeting:function(){return x},deleteActivity:function(){return p},deleteActivityResource:function(){return w},deleteSubmissionAttachMarkUpload:function(){return U},getActivityCommentReplies:function(){return B},getActivityComments:function(){return $},getActivityCommentsReplies:function(){return D},getActivityDetail:function(){return b},getActivityHaveDependents:function(){return _},getActivityReferences:function(){return K},getActivityResource:function(){return g},getClasinJoinUrl:function(){return h},getClassinWebcastUrl:function(){return v},getCommentCountWithType:function(){return G},getCompletionCriteria:function(){return f},getGroupSubmission:function(){return X},getGroupSubmissions:function(){return I},getHomeworkDuplicateRate:function(){return et},getHomeworkInterScores:function(){return q},getInterGroupScores:function(){return Y},getIntraGroupScores:function(){return J},getMeetingStatistics:function(){return C},getPageCommentStat:function(){return F},getScoreItems:function(){return k},getStudentSubmission:function(){return Q},getStudentSubmissions:function(){return E},getSubmissionAttachements:function(){return A},logActivityRead:function(){return O},logMgs:function(){return j},refreshMarkedAttachment:function(){return P},removeActivityComment:function(){return R},removeActivityCommentReply:function(){return V},replaceSubmissionCorrectUploadReference:function(){return T},replyActivityComment:function(){return z},reprocessLectureLiveReplay:function(){return y},updateActivity:function(){return m},updateActivityComment:function(){return Z},updateActivityCommentReply:function(){return L},updateCorrectUploads:function(){return nt},updateHomeworkAnnounceMarkStatus:function(){return tt},updateHomeworkScoreAndComment:function(){return W}});n(141817),n(66992),n(319601),n(788674),n(333948);var r=n(409669),i=n.n(r),o=n(356264),s=n(221007),a=n(361835),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},c=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},l=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function d(t,e){return i().post("/api/courses/"+t+"/activities",e)}function p(t,e){return void 0===e&&(e={}),i().delete("/api/activities/"+t,{params:e})}function m(t,e){return i().put("/api/activities/"+t,e)}function f(t,e){return i().get("/api/completion-criteria",{params:{activity_type:e,course_id:t}})}function h(t,e,n){return c(this,void 0,void 0,(function(){return l(this,(function(r){switch(r.label){case 0:return[4,i().get("/api/activies/classin/join-url",{params:{course_id:t,activity_id:e,user_id:n}})];case 1:return[2,r.sent().data.url]}}))}))}function v(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,i().get("/api/activities/classin/webcast-url",{params:{course_id:t,activity_id:e}})];case 1:return[2,n.sent().data.url]}}))}))}function b(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(r){switch(r.label){case 0:return[4,i().get("/api/activities/"+t)];case 1:return e=r.sent(),n=(0,o.camelizeKeys)(e.data),[2,(0,s.d8)(a.cS,n,{excludeExtraneousValues:!0})]}}))}))}function y(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,i().post("/api/courses/lecture-live-activity/"+t+"/reprocess",{replay_id:e})];case 1:return n.sent(),[2]}}))}))}function _(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,i().get("/api/activities/have-dependents",{params:{activity_ids:t,activity_type:e}})];case 1:return[2,n.sent().data.has_dependents]}}))}))}function g(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,i().get("/api/activities/"+t+"/resources")];case 1:return[2,e.sent().data]}}))}))}function w(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){return[2,i().delete("/api/activities/"+t+"/resources/"+e)]}))}))}function C(t,e,n){return c(this,void 0,void 0,(function(){var r;return l(this,(function(o){return r=t+"/api/meeting/"+e+"/metrics?group_by=activity,upload_ref,student&meeting_type="+n,[2,i().get(r)]}))}))}function k(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(r){switch(r.label){case 0:return[4,i().get("/api/courses/"+t+"/grade-score-items")];case 1:return e=r.sent(),n=(0,o.camelizeKeys)(e.data),[2,(0,s.d8)(a.p9,n,{excludeExtraneousValues:!1})]}}))}))}function S(t,e){var n=u(u({},t),{courses:e});return i().post("/api/courses/tencent-meeting/activities",n)}function x(t){return i().post("/api/calendar-meeting",t)}function O(t,e){return i().post("/api/course/activities-read/"+e,t)}function j(t,e){return i().post(t+"/api/lecture-live",e)}function M(){return i().get("/api/lark/authorization/check")}function I(t,e){return i().get("/api/activities/"+t+"/groups/"+e+"/submission_list")}function E(t,e){return i().get("/api/activities/"+t+"/students/"+e+"/submission_list")}function A(t){return i().get("/api/submissions/"+t+"/marked_attachments")}function P(t,e){return i().get("/api/submissions/"+t+"/marked_attachments/"+e).then((function(t){return t.data.marked_attachment}))}function U(t){return i().delete("/api/uploads/marked_attachment/"+t)}function T(t,e){return i().put("/api/uploads/references/"+t,{upload_id:e})}function $(t,e,n,r,o,s){return i().get("/api/activities/"+t+"/comments?page="+e+"&page_size="+n+"&order_key="+r+"&order="+o+"&conditions="+JSON.stringify(s))}function D(t,e){return i().get("/api/activities/"+t+"/comments/replies",{params:{comment_ids:e}})}function B(t,e,n,r){return i().get("/api/activities/"+t+"/comments/"+e+"/replies?page="+n+"&page_size="+r)}function N(t,e){return i().post("/api/activities/"+t+"/comments",e)}function Z(t,e,n){return i().put("/api/activities/"+t+"/comments/"+e,n)}function R(t,e){return i().delete("/api/activities/"+t+"/comments/"+e)}function z(t,e,n){return i().post("/api/activities/"+t+"/comments/"+e+"/reply",n)}function L(t,e,n){return i().put("/api/activities/"+t+"/reply/"+e,n)}function V(t,e){return i().delete("/api/activities/"+t+"/reply/"+e)}function H(t,e){return i().post("/api/activities/"+t+"/comments/operate",e)}function K(t){return i().get("/api/activities/"+t+"/upload_references")}function F(t,e){return i().get("/api/activities/"+t+"/comment/page-count?conditions="+JSON.stringify(e))}function G(t,e){return i().get("/api/activities/"+t+"/comment/count?conditions="+JSON.stringify(e))}function W(t,e,n,r){var s=(0,o.decamelizeKeys)(e);i()({method:"PUT",url:"/api/course/activities/"+t+"/submission/score?fields=id,score,instructor_comment,rubric_score,final_score&need_submission_correct=true",data:s,transformResponse:function(t){var e=JSON.parse(t);if(e.id)return e;if(e.message)throw e.message;if(e.errors)throw e.errors;throw"unknown error"}}).then((function(t){n(t)})).catch((function(t){r(t)}))}function q(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return[4,i().get("/api/homework/"+t+"/inter-scores")];case 1:return e=n.sent(),[2,(0,o.camelizeKeys)(e.data)]}}))}))}function Y(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return[4,i().get("/api/homework/"+t+"/intra-scores")];case 1:return e=n.sent(),[2,(0,o.camelizeKeys)(e.data)]}}))}))}function J(t,e){return c(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,i().get("/api/activities/"+t+"/group/"+e+"/intra_submission")];case 1:return n=r.sent(),[2,(0,o.camelizeKeys)(n.data)]}}))}))}function Q(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,i().get("/api/course/activities/"+t+"/students/"+e+"/submission")];case 1:return[2,n.sent().data]}}))}))}function X(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,i().get("/api/activities/"+t+"/groups/"+e+"/submission")];case 1:return[2,n.sent().data]}}))}))}function tt(t,e,n,r){return c(this,void 0,void 0,(function(){var s;return l(this,(function(a){switch(a.label){case 0:return s=(0,o.decamelizeKeys)(e),[4,i().put("/api/homework/"+t+"/announce-mark-status",s).then((function(t){return n(t)})).catch((function(t){return r(t)}))];case 1:return a.sent(),[2]}}))}))}function et(t,e){return c(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return n="/api/homework/"+t+"/duplicate-detect/rate?target_ids="+e.join(","),[4,i().get(n)];case 1:return[2,r.sent().data]}}))}))}function nt(t,e){return c(this,void 0,void 0,(function(){var n,r;return l(this,(function(s){switch(s.label){case 0:return n=(0,o.decamelizeKeys)(e),r="/api/course/activities/"+t+"/submissions/correct-uploads",[4,i().put(r,n)];case 1:return[2,s.sent().data]}}))}))}function rt(){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return"/api/tencent_meeting/check-user-auth",[4,i().get("/api/tencent_meeting/check-user-auth")];case 1:return[2,t.sent().data]}}))}))}},361835:function(t,e,n){"use strict";n.d(e,{Br:function(){return _},Fk:function(){return h},LQ:function(){return i},M0:function(){return f},cS:function(){return p},p9:function(){return g}});n(141817);var r,i,o=n(413447),s=n(247251),a=n(526617),u=n(48496),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},d=["none","auditing","agree","reject"],p=function(){function t(){}return l([(0,o.C)()],t.prototype,"id",void 0),l([(0,o.C)()],t.prototype,"title",void 0),l([(0,o.C)()],t.prototype,"courseId",void 0),l([(0,o.C)()],t.prototype,"type",void 0),l([(0,o.C)()],t.prototype,"data",void 0),l([(0,o.C)(),(0,s.w)((function(t){var e=t.value;return u.TimeUtils.toLocalDate(e)}),{toClassOnly:!0})],t.prototype,"startTime",void 0),l([(0,o.C)(),(0,s.w)((function(t){var e=t.value;return u.TimeUtils.toLocalDate(e)}),{toClassOnly:!0})],t.prototype,"endTime",void 0),l([(0,o.C)()],t.prototype,"canReprocessReplay",void 0),l([(0,o.C)()],t.prototype,"completionCriterion",void 0),l([(0,o.C)(),(0,s.w)((function(t){return function(t){return u.TimeUtils.isAfterByNow(t.startTime)?"notStarted":!t.endTime||u.TimeUtils.isAfterByNow(t.endTime)?"inProgress":"expired"}(t.obj)}))],t.prototype,"status",void 0),l([(0,o.C)(),(0,s.w)((function(t){var e=t.obj;return d[e.data.auditStatus]}))],t.prototype,"auditStatus",void 0),l([(0,o.C)(),(0,s.w)((function(t){var e=t.value;return u.TimeUtils.toLocalDate(e)}),{toClassOnly:!0})],t.prototype,"createdAt",void 0),l([(0,o.C)()],t.prototype,"createdBy",void 0),l([(0,o.C)()],t.prototype,"meetingHostUser",void 0),l([(0,o.C)()],t.prototype,"isBookedLive",void 0),l([(0,o.C)()],t.prototype,"bookedCount",void 0),l([(0,o.C)()],t.prototype,"orgId",void 0),l([(0,o.C)()],t.prototype,"moduleId",void 0),l([(0,o.C)()],t.prototype,"syllabusId",void 0),t}(),m=function(t){this.type=t},f=function(t){function e(){return t.call(this,"chinamcloud_live")||this}return c(e,t),e}(m),h=function(t){function e(){var e=t.call(this,"lesson")||this;return e.lessonType="lesson_replay",e}return c(e,t),e}(m),v=function(){function t(){this.leftSecond=0,this.progress=0,this.retryTimes=0}return l([(0,o.C)()],t.prototype,"leftSecond",void 0),l([(0,o.C)()],t.prototype,"progress",void 0),l([(0,o.C)()],t.prototype,"retryTimes",void 0),t}(),b=function(){function t(){}return l([(0,o.C)()],t.prototype,"label",void 0),l([(0,o.C)()],t.prototype,"muted",void 0),l([(0,o.C)()],t.prototype,"streamUrl",void 0),l([(0,o.C)()],t.prototype,"type",void 0),t}(),y=function(){function t(){}return l([(0,o.C)()],t.prototype,"cameraType",void 0),l([(0,o.C)()],t.prototype,"cameraId",void 0),l([(0,o.C)()],t.prototype,"mute",void 0),l([(0,o.C)()],t.prototype,"url",void 0),l([(0,o.C)()],t.prototype,"mediaProtocol",void 0),t}(),_=function(){function t(){this.description="",this.progress=null,this.streams=null,this.replayVideos=null,this.controllerConfig={},this.liveCaptionConfig={}}return l([(0,o.C)()],t.prototype,"instructorNames",void 0),l([(0,o.C)()],t.prototype,"description",void 0),l([(0,o.C)(),(0,a.D)((function(){return v}))],t.prototype,"progress",void 0),l([(0,o.C)(),(0,a.D)((function(){return b}))],t.prototype,"streams",void 0),l([(0,o.C)()],t.prototype,"status",void 0),l([(0,o.C)()],t.prototype,"replayId",void 0),l([(0,o.C)(),(0,a.D)((function(){return y}))],t.prototype,"replayVideos",void 0),l([(0,o.C)(),(0,s.w)((function(t){return t.value||{}}),{toClassOnly:!0})],t.prototype,"controllerConfig",void 0),l([(0,o.C)(),(0,s.w)((function(t){return t.value||{}}),{toClassOnly:!0})],t.prototype,"liveCaptionConfig",void 0),l([(0,o.C)(),(0,s.w)((function(t){return t.value.roomName}),{toClassOnly:!0})],t.prototype,"room",void 0),l([(0,o.C)()],t.prototype,"type",void 0),l([(0,o.C)()],t.prototype,"isBookedLive",void 0),l([(0,o.C)()],t.prototype,"bookedCount",void 0),t}(),g=function(){function t(){}return l([(0,o.C)()],t.prototype,"id",void 0),l([(0,o.C)()],t.prototype,"displayName",void 0),l([(0,o.C)()],t.prototype,"type",void 0),l([(0,o.C)()],t.prototype,"percentage",void 0),t}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}c(e,t)}(m);!function(t){t[t.init=0]="init",t[t.running=1]="running",t[t.success=2]="success",t[t.failed=3]="failed",t[t.cancel=4]="cancel"}(i||(i={}))},681423:function(t,e,n){"use strict";var r=n(370538),i=function(){function t(){}return t.success=function(t,e,n){void 0===e&&(e=3),void 0===n&&(n=24),r.default.prototype.$Message.config({top:n}),r.default.prototype.$Message.success({content:t,duration:e})},t.warning=function(t,e,n){void 0===e&&(e=3),void 0===n&&(n=24),r.default.prototype.$Message.config({top:n}),r.default.prototype.$Message.warning({content:t,duration:e})},t.error=function(t,e,n){void 0===e&&(e=3),void 0===n&&(n=24),r.default.prototype.$Message.config({top:n}),r.default.prototype.$Message.error({content:t,duration:e})},t}();e.Z=i},218818:function(t,e,n){var r=n(904072);t.exports={props:["announcement"],data:()=>({}),computed:{cookieKey(){return"user-".concat(r("#userId").data("id"),"-announcement-").concat(this.announcement.id,"-closed")}},methods:{isShow(){return!r.cookie(this.cookieKey)},close(){return r.cookie(this.cookieKey,1,{expires:1,path:"/"}),this.$forceUpdate()}}}},128955:function(t,e,n){"use strict";n.r(e);var r=n(887854),i=n.n(r),o=n(295348),s=n.n(o),a=new(i())({id:"info",use:"info-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 14 14" id="info">\n<style type="text/css">\n\t#info .st0{fill-rule:evenodd;clip-rule:evenodd;fill:currentColor;}\n</style>\n<title>icon/alert/常规</title>\n<desc>Created with Sketch.</desc>\n<g>\n\t<path id="info_Combined-Shape" class="st0" d="M7,1c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6S3.7,1,7,1z M7.6,5.8H6.4v3.6l-0.6,0v0.9h2.4\n\t\tV9.4l-0.6,0V5.8z M6.4,5.8H5.8v0.9h0.6V5.8z M7,3.4c-0.5,0-0.9,0.4-0.9,0.9S6.5,5.2,7,5.2s0.9-0.4,0.9-0.9S7.5,3.4,7,3.4z" />\n</g>\n</symbol>'});s().add(a);e.default=a},891911:function(t,e,n){"use strict";n.r(e);var r=n(887854),i=n.n(r),o=n(295348),s=n.n(o),a=new(i())({id:"loading-spinner",use:"loading-spinner-usage",viewBox:"0 0 50 50",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" id="loading-spinner">\n    <defs>\n        <mask id="loading-spinner_ring">\n            <circle cx="25" cy="25" r="22" stroke="#FFF" stroke-width="6" fill="none" />\n        </mask>\n\n        <filter id="loading-spinner_blur" x="0" y="0">\n            <feGaussianBlur in="SourceGraphic" stdDeviation="1"></feGaussianBlur>\n        </filter>\n\n        <path id="loading-spinner_p" d="M 25, 25\n                        L 62.5, 25\n                        A 37.5, 37.5, 0, 0, 1, 61.6805, 32.796\n                        L 25, 25\n                        A 0, 0, 0, 0, 0, 25, 25 z" fill="#00BBBD" />\n    </defs>\n    <g mask="url(#loading-spinner_ring)" transform="rotate(21.6, 25, 25)">\n        <g filter="url(#loading-spinner_blur)">\n            <use xlink:href="#loading-spinner_p" fill-opacity="0" transform="rotate(0, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.03" transform="rotate(12, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.07" transform="rotate(24, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.1" transform="rotate(36, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.14" transform="rotate(48, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.17" transform="rotate(60, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.2" transform="rotate(72, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.24" transform="rotate(84, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.28" transform="rotate(96, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.31" transform="rotate(108, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.34" transform="rotate(120, 25 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.38" transform="rotate(132, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.41" transform="rotate(144, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.45" transform="rotate(156, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.48" transform="rotate(168, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.52" transform="rotate(180, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.55" transform="rotate(192, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.59" transform="rotate(204, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.62" transform="rotate(216, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.66" transform="rotate(228, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.69" transform="rotate(240, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.7" transform="rotate(252, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.72" transform="rotate(264, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.76" transform="rotate(276, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.79" transform="rotate(288, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.83" transform="rotate(300, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.86" transform="rotate(312, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.93" transform="rotate(324, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="0.97" transform="rotate(336, 25, 25)" />\n            <use xlink:href="#loading-spinner_p" fill-opacity="1" transform="rotate(348, 25, 25)" />\n        </g>\n    </g>\n</symbol>'});s().add(a);e.default=a},425972:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r={name:"AlertMessages",props:["messages","modal"],methods:{close(){var t=this.messages.map((t=>t.id));this.$http.put("/api/alert/messages/read",{ids:t}).then((t=>{"ok"===t.body.status&&this.$emit("close-modal")}))}}},i=(0,n(551900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{scrollable:"",closable:!1,"mask-closable":!1,width:"700px"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("i",{staticClass:"alert-icon font font-alert-tag"}),t._v("\n    "+t._s(t.$i18n.t("alert."+t.messages[0].category)+t.$i18n.t("alert.title"))+"\n  ")]),t._v(" "),t._l(t.messages,(function(e){return n("div",{key:e.id,staticClass:"message"},["learning_activity"===e.category?n("i",{staticClass:"alert-icon font icon-font",class:"font-"+e.type}):t._e(),t._v(" "),n("span",{staticClass:"content"},[t._v("\n      "+t._s(e.message)+"\n    ")])])})),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:t.close}},[t._v(t._s(t.$i18n.t("alert.iAlreadyKnow")))])],1)],2)}),[],!1,null,"09e1a09d",null).exports},618511:function(t,e,n){"use strict";n.d(e,{default:function(){return o}});var r=n(218818),i=n.n(r)(),o=(0,n(551900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow()?n("div",{staticClass:"header-warning"},[n("span",{staticClass:"content"},[t._v("\n    "+t._s(t.announcement.content)+"\n  ")]),t._v(" "),n("i",{staticClass:"font font-close right",on:{click:t.close}})]):t._e()}),[],!1,null,"507ad83a",null).exports},603912:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r={props:{active:{type:Boolean},max:{type:Number},min:{type:Number},currentValue:{type:Number}},data(){return{value:this.currentValue}},methods:{changeValue(){this.$emit("change-value",this.value)}}},i=(0,n(551900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("InputNumber",{staticClass:"minimum-answer-input",attrs:{max:t.max,min:t.min,"controls-outside":"",size:"small",editable:!1,disabled:!t.active},on:{"on-change":function(e){return t.changeValue()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})}),[],!1,null,"77265c06",null).exports},318563:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});n(682772),n(747042),n(804723),n(323123),n(454747);var r={name:"thumbnail",props:{images:{type:Array,default:()=>[]}},data:()=>({thumbnails:[],ready:!1}),created(){this.images.forEach((t=>{var e=this;if(t.width&&t.height){var n={src:t.src,msrc:t.src,w:t.width,h:t.height};e.thumbnails.push(n)}else{var r=new Image;r.src=t.src,r.onload=function(){var n=r.width,i=r.height,o={src:t.src,msrc:t.src,w:n,h:i};e.thumbnails.push(o)}}})),this.ready=!0}},i=n(551900),o={name:"subject-info",components:{thumbnail:(0,i.Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.ready?n("vue-preview",{class:{"many-columns":t.thumbnails.length>1,"one-column":1===t.thumbnails.length},attrs:{slides:t.thumbnails}}):t._e()],1)}),[],!1,null,"3b971804",null).exports},props:{content:{type:String,default:""}},created(){var t=window.location.href;t.indexOf("?")<0&&(t+="?thumbnail=true",window.history.replaceState({path:t},"",t))},data(){return{images:this.getSubjectImages(),contents:this.getContentWithoutImages()}},methods:{getSubjectImages(){var t=[];if(!this.content)return t;var e=/src=['"]?([^'"]*)['"]?/i,n=/height=['"]?([1-9]\d*)['"]?/i,r=/width=['"]?([1-9]\d*)['"]?/i,i=this.content.match(/<img(?![^<>]*?data-non-image="mathtype-formula"[^<>]*?>).*(?:>|\/>)/gi);if(i)for(var o=0;o<i.length;o++){var s=i[o].match(e),a=i[o].match(r),u=i[o].match(n),c=a&&u?{src:s[1],width:a[1],height:u[1]}:{src:s[1]};t.push(c)}return t},getContentWithoutImages(){var t="",e="",n=this.content.indexOf("<img");n<0?t=this.content.slice(0):(t=this.content.slice(0,n),this.content.split(/<img(?![^<>]*?data-non-image="mathtype-formula"[^<>]*?>).*(?:>|\/>)/gi).forEach((n=>{n!==t&&(e+=n)})),"<br></p>"===e&&(e=""));return{beforeContent:t,afterContent:e}}}},s=(0,i.Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-center"},[n("div",{domProps:{innerHTML:t._s(t.contents.beforeContent)}}),t._v(" "),n("thumbnail",{attrs:{images:t.images}}),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.contents.afterContent)}})],1)}),[],!1,null,"93992458",null).exports}},function(t){t.O(0,[62831,30381,61339,64779,96486,70538,80008,29305,85565,87610,60111,53682,53925,98128,67344,83994,83302,30587,15012,12379,50085,85113,62447,86953,75303,19288,3056,93604,85805,78571,33614,3251,69671,61204,8468,29375,73082,65387,60812,50818,16894,74976,36318,83892,10400,34896,25303,75052,26330,7128,60722,84327,24263,96427],(function(){return e=954669,t(t.s=e);var e}));t.O()}]);