# EEBot - Claude Code CLI äº¤æ¥æ–‡æª” (ç¬¬ 2 æ®µ)

> **åˆ†æ®µè³‡è¨Š**: æœ¬æ–‡æª”å…± 2 æ®µ
> - ğŸ“„ **ç•¶å‰**: ç¬¬ 2 æ®µ - é€²éšåŠŸèƒ½è©³è§£
> - â¬…ï¸ **ä¸Šä¸€æ®µ**: [CLAUDE_CODE_HANDOVER-1.md](./CLAUDE_CODE_HANDOVER-1.md) - åŸºç¤æ¶æ§‹èˆ‡ä½¿ç”¨æŒ‡å—
> - ğŸ“‘ **å®Œæ•´ç´¢å¼•**: [è¿”å›ç´¢å¼•](./CLAUDE_CODE_HANDOVER.md)

---

## ğŸ“– æœ¬æ®µå…§å®¹

- [å·²å®ŒæˆåŠŸèƒ½ï¼šè‡ªå‹•ç­”é¡Œç³»çµ±](#å·²å®ŒæˆåŠŸèƒ½è‡ªå‹•ç­”é¡Œç³»çµ±-phase-2)
- [æ™ºèƒ½æ¨¡å¼ï¼šæŒ‰èª²ç¨‹å•Ÿç”¨è‡ªå‹•ç­”é¡Œ](#æ™ºèƒ½æ¨¡å¼æŒ‰èª²ç¨‹å•Ÿç”¨è‡ªå‹•ç­”é¡Œ-2025-11-15-æ›´æ–°)
- [GUI é–‹ç™¼è¨ˆç•«](#gui-é–‹ç™¼è¨ˆç•«-2025-11-24-è¦åŠƒ)
- [å»¶ä¼¸é–±è®€](#å»¶ä¼¸é–±è®€)

---

## ğŸ¯ å·²å®ŒæˆåŠŸèƒ½ï¼šè‡ªå‹•ç­”é¡Œç³»çµ± (Phase 2)

> **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œå®Œæˆ** (2025-11-15)
> **ç‰ˆæœ¬**: 2.0.2+auto-answer
> **å¯¦ä½œè€…**: wizard03 (with Claude Code CLI)
> **ç›®å‰é€²åº¦**: å®Œæ•´çš„è‡ªå‹•ç­”é¡Œç³»çµ±ï¼Œå«æ™ºèƒ½åŒ¹é…å¼•æ“

### åŠŸèƒ½æ¦‚è¿°

è‡ªå‹•ç­”é¡Œç³»çµ±å°‡é€éæ¯”å°è€ƒè©¦é é¢é¡Œç›®èˆ‡é¡Œåº«ç­”æ¡ˆï¼Œå¯¦ç¾è‡ªå‹•ç­”é¡ŒåŠŸèƒ½ã€‚

### é¡Œåº«è³‡æ–™

**ä½ç½®**: `éƒµæ”¿Eå¤§å­¸114å¹´é¡Œåº«/`

**çµ±è¨ˆè³‡æ–™**:
- ç¸½é¡Œæ•¸ï¼š**1,766 é¡Œ**
- ç¸½å¤§å°ï¼š**5.3 MB**
- åˆ†é¡æ•¸ï¼š**23 å€‹ä¸»é¡Œ**
- æ ¼å¼ï¼š**JSON æª”æ¡ˆ**

**ç¯„ä¾‹åˆ†é¡**:
```
çª—å£ç·šä¸Šæ¸¬é©—ï¼ˆ390é¡Œï¼‰
éƒµå‹™çª—å£(114å¹´åº¦)ï¼ˆ188é¡Œï¼‰
æ³•ä»¤éµå¾ªï¼é˜²åˆ¶æ´—éŒ¢ï¼ˆ262é¡Œï¼‰
è³‡é€šå®‰å…¨ï¼ˆ30é¡Œï¼‰
é«˜é½¡æŠ•ä¿ï¼ˆ10é¡Œï¼‰
... å…± 23 å€‹åˆ†é¡
```

---

### è€ƒè©¦é é¢å…ƒç´ åˆ†æ

#### é¡Œç›®å…ƒç´ 
```html
<li class="subject">
    <span class="subject-description">é¡Œç›®å…§å®¹</span>
</li>
```

**å®šä½æ–¹å¼**: `.subject-description` æˆ– `//span[@class='subject-description']`

#### é¸é …å…ƒç´ 

**å–®é¸é¡Œ (Radio)**:
```html
<input type="radio" ng-model="subject.answeredOption" />
<div class="option-content"><span>é¸é …å…§å®¹</span></div>
```

**è¤‡é¸é¡Œ (Checkbox)**:
```html
<input type="checkbox" ng-model="option.checked" />
<div class="option-content"><span>é¸é …å…§å®¹</span></div>
```

**å®šä½æ–¹å¼**: `.option-content`, `input[type="radio"]`, `input[type="checkbox"]`

#### äº¤å·æŒ‰éˆ•
```html
<a class="button button-green" ng-click="calUnsavedSubjects()">äº¤å·</a>
<button ng-click="submitAnswer(...)">ç¢ºå®š</button>
```

**é‡è¦**: è€ƒè©¦æ¡ç”¨**æ•´é é¡¯ç¤º**æ¨¡å¼ï¼ˆæ‰€æœ‰é¡Œç›®åœ¨åŒä¸€é ï¼‰ï¼Œéåˆ†é æ¨¡å¼ã€‚

---

### è³‡æ–™åº«æ–¹æ¡ˆè©•ä¼°

#### æ¨è–¦æ–¹æ¡ˆï¼šæ··åˆæ¨¡å¼ (SQLite + JSON)

| æ–¹æ¡ˆ | é©ç”¨æ€§ | é€Ÿåº¦ | éƒ¨ç½²é›£åº¦ | æ¨è–¦åº¦ |
|------|-------|------|---------|--------|
| **SQLite** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ (é›¶é…ç½®) | **âœ… å¼·çƒˆæ¨è–¦** |
| JSON | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ (ç¾æˆ) | âœ… é©åˆ MVP |
| MySQL | â­â­ | â­â­â­â­â­ | â­â­ (éœ€å®‰è£) | âŒ æ®ºé›ç”¨ç‰›åˆ€ |

**ç‚ºä½•é¸æ“‡ SQLiteï¼Ÿ**
- âœ… é›¶é…ç½®ï¼ˆPython å…§å»º `sqlite3`ï¼‰
- âœ… æª”æ¡ˆå¼ï¼ˆå–®ä¸€ `.db` æª”æ¡ˆï¼‰
- âœ… æŸ¥è©¢é€Ÿåº¦å¿«ï¼ˆæ¯«ç§’ç´šï¼‰
- âœ… æ”¯æ´å…¨æ–‡æª¢ç´¢ï¼ˆFTS5ï¼‰
- âœ… é©åˆ 5.3MB è³‡æ–™é‡

**åˆ†éšæ®µç­–ç•¥**:
```
éšæ®µ 1 (MVP)ï¼šç›´æ¥ä½¿ç”¨ç¾æœ‰ JSON æª”æ¡ˆ
éšæ®µ 2 (å„ªåŒ–)ï¼šé¦–æ¬¡å•Ÿå‹•è‡ªå‹•å»ºç«‹ SQLite
éšæ®µ 3 (æ­£å¼)ï¼šä½¿ç”¨ SQLiteï¼Œä¿ç•™ JSON ä½œå‚™ä»½
```

---

### æ–°å¢æª”æ¡ˆæ¶æ§‹ï¼ˆç¬¦åˆ POM æ¨¡å¼ï¼‰

```
eebot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ exam_detail_page.py        # ç¾æœ‰ï¼ˆå‹¿æ”¹ï¼‰
â”‚   â”‚   â””â”€â”€ exam_answer_page.py        # ã€æ–°å¢ã€‘ç­”é¡Œé é¢
â”‚   â”‚
â”‚   â”œâ”€â”€ scenarios/
â”‚   â”‚   â”œâ”€â”€ exam_learning.py           # ç¾æœ‰ï¼ˆå‹¿æ”¹ï¼‰
â”‚   â”‚   â””â”€â”€ exam_auto_answer.py        # ã€æ–°å¢ã€‘è‡ªå‹•ç­”é¡Œå ´æ™¯
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                      # ã€æ–°å¢ã€‘æ¥­å‹™é‚è¼¯å±¤
â”‚   â”‚   â”œâ”€â”€ question_bank.py           # é¡Œåº«æŸ¥è©¢æœå‹™
â”‚   â”‚   â””â”€â”€ answer_matcher.py          # ç­”æ¡ˆåŒ¹é…å¼•æ“
â”‚   â”‚
â”‚   â””â”€â”€ models/                        # ã€æ–°å¢ã€‘è³‡æ–™æ¨¡å‹
â”‚       â””â”€â”€ question.py                # é¡Œç›®/é¸é …è³‡æ–™é¡åˆ¥
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ courses.json                   # ç¾æœ‰
â”‚   â””â”€â”€ questions.db                   # ã€æ–°å¢ã€‘SQLite è³‡æ–™åº«
â”‚
â””â”€â”€ éƒµæ”¿Eå¤§å­¸114å¹´é¡Œåº«/
    â””â”€â”€ *.json                         # ç¾æœ‰ï¼ˆä¿ç•™ä½œå‚™ä»½ï¼‰
```

---

### æ ¸å¿ƒæ¨¡çµ„è¨­è¨ˆ

#### ExamAnswerPageï¼ˆç­”é¡Œé é¢ç‰©ä»¶ï¼‰
```python
class ExamAnswerPage(BasePage):
    def get_all_questions()              # å–å¾—æ‰€æœ‰é¡Œç›®å…ƒç´ 
    def get_question_text(question_elem) # å–å¾—é¡Œç›®æ–‡å­—
    def get_options(question_elem)       # å–å¾—é¡Œç›®é¸é …
    def get_option_text(option_elem)     # å–å¾—é¸é …æ–‡å­—
    def click_option(option_elem)        # é»æ“Šé¸é …
    def submit_exam()                    # æäº¤è€ƒè©¦
```

#### QuestionBankServiceï¼ˆé¡Œåº«æœå‹™ï¼‰
```python
class QuestionBankService:
    def __init__(mode='sqlite', **kwargs)
    def find_answer(question_text) -> Optional[Dict]
    # è¿”å›ï¼š{question_id, type, correct_options[]}
```

#### AnswerMatcherï¼ˆç­”æ¡ˆåŒ¹é…å¼•æ“ï¼‰
```python
class AnswerMatcher:
    @staticmethod
    def normalize_text(text)             # æ¨™æº–åŒ–æ–‡å­—
    def find_best_match(web_q, db_qs)    # æ¨¡ç³ŠåŒ¹é…
    # å¤šå±¤ç´šå›é€€ï¼š
    # 1. ç²¾ç¢ºåŒ¹é…ï¼ˆæœ€å¿«ï¼‰
    # 2. åŒ…å«åŒ¹é…
    # 3. ç›¸ä¼¼åº¦åŒ¹é…ï¼ˆSequenceMatcherï¼‰
```

---

### åŒ¹é…ç­–ç•¥

#### æŒ‘æˆ°ï¼šç¶²é é¡Œç›® vs é¡Œåº«é¡Œç›®å·®ç•°

| å·®ç•°é¡å‹ | ç¯„ä¾‹ | è§£æ±ºæ–¹æ¡ˆ |
|---------|------|---------|
| HTML æ¨™ç±¤ | `<p>é¡Œç›®</p>` vs `é¡Œç›®` | BeautifulSoup å»é™¤ |
| ç©ºç™½å­—å…ƒ | å¤šç©ºæ ¼ vs å–®ç©ºæ ¼ | æ­£è¦åŒ– |
| æ¨™é»ç¬¦è™Ÿ | å…¨å½¢ vs åŠå½¢ | çµ±ä¸€è½‰æ› |

#### åŒ¹é…ä¿¡å¿ƒé–€æª»

**è¨­å®š**: 0.85ï¼ˆ85% ç›¸ä¼¼åº¦ï¼‰ä»¥é¿å…èª¤é…

---

### SQLite è³‡æ–™è¡¨è¨­è¨ˆ

```sql
-- é¡Œç›®è¡¨
CREATE TABLE questions (
    id INTEGER PRIMARY KEY,
    category TEXT NOT NULL,
    description TEXT NOT NULL,
    description_text TEXT,              -- ç´”æ–‡å­—ç‰ˆï¼ˆç”¨æ–¼åŒ¹é…ï¼‰
    type TEXT NOT NULL,                 -- single_selection/multiple_selection
    difficulty_level TEXT,
    answer_explanation TEXT
);

-- é¸é …è¡¨
CREATE TABLE options (
    id INTEGER PRIMARY KEY,
    question_id INTEGER NOT NULL,
    content TEXT NOT NULL,
    content_text TEXT,                  -- ç´”æ–‡å­—ç‰ˆ
    is_answer BOOLEAN NOT NULL,         -- æ­£ç¢ºç­”æ¡ˆæ¨™è¨˜
    sort INTEGER,
    FOREIGN KEY (question_id) REFERENCES questions(id)
);

-- å…¨æ–‡æª¢ç´¢ç´¢å¼•ï¼ˆé—œéµï¼ï¼‰
CREATE VIRTUAL TABLE questions_fts USING fts5(
    description_text,
    content='questions',
    content_rowid='id'
);
```

---

### å¯¦ä½œéšæ®µè¦åŠƒ

#### éšæ®µ 1ï¼šMVPï¼ˆæœ€å°å¯è¡Œç”¢å“ï¼‰
**ç›®æ¨™**: é©—è­‰è‡ªå‹•ç­”é¡Œå¯è¡Œæ€§

- âœ… ä½¿ç”¨ç¾æœ‰ JSON æª”æ¡ˆ
- âœ… å¯¦ä½œ `QuestionBankService`ï¼ˆJSON æ¨¡å¼ï¼‰
- âœ… å¯¦ä½œåŸºç¤ `AnswerMatcher`
- âœ… å¯¦ä½œ `ExamAnswerPage`
- âœ… æ•´åˆè‡³ `ExamLearningScenario`

**é ä¼°æ™‚é–“**: 2-3 å°æ™‚

#### éšæ®µ 2ï¼šå„ªåŒ–åŒ¹é…æº–ç¢ºåº¦
**ç›®æ¨™**: æå‡åŒ¹é…ç‡

- âœ… æ”¹é€²ç›¸ä¼¼åº¦æ¼”ç®—æ³•
- âœ… è™•ç† HTML æ¸…ç†é‚è¼¯
- âœ… æ–°å¢åŒ¹é…æ—¥èªŒ

**é ä¼°æ™‚é–“**: 2-3 å°æ™‚

#### éšæ®µ 3ï¼šé·ç§»è‡³ SQLite
**ç›®æ¨™**: æ•ˆèƒ½å„ªåŒ–

- âœ… æ’°å¯« JSON â†’ SQLite é·ç§»è…³æœ¬
- âœ… å»ºç«‹ FTS5 å…¨æ–‡æª¢ç´¢ç´¢å¼•
- âœ… å¯¦ä½œ `QuestionBankService`ï¼ˆSQLite æ¨¡å¼ï¼‰

**é ä¼°æ™‚é–“**: 1-2 å°æ™‚

#### éšæ®µ 4ï¼šç”Ÿç”¢å°±ç·’
**ç›®æ¨™**: ç©©å¥èˆ‡å¯ç¶­è­·

- âœ… æ··åˆæ¨¡å¼ï¼ˆé¦–æ¬¡å•Ÿå‹•è‡ªå‹•å»ºç«‹ SQLiteï¼‰
- âœ… è‡ªå‹•åµæ¸¬é¡Œåº«æ›´æ–°
- âœ… å¤±æ•—æ™‚æˆªåœ–é™¤éŒ¯
- âœ… ç”Ÿæˆç­”é¡Œæº–ç¢ºç‡å ±å‘Š

**é ä¼°æ™‚é–“**: 2-3 å°æ™‚

---

### é…ç½®é¸é …ï¼ˆè¦åŠƒï¼‰

#### eebot.cfg æ–°å¢é …ç›®
```ini
# ç¾æœ‰é…ç½®...
user_name=your_username
password=your_password

# æ–°å¢ï¼šè‡ªå‹•ç­”é¡Œé…ç½®
enable_auto_answer=y                     # å•Ÿç”¨è‡ªå‹•ç­”é¡Œ
question_bank_mode=sqlite                # 'sqlite' æˆ– 'json'
question_bank_path=data/questions.db
answer_confidence_threshold=0.85         # æœ€ä½ç›¸ä¼¼åº¦é–€æª»
auto_submit_exam=y                       # è‡ªå‹•æäº¤è€ƒè©¦
screenshot_on_mismatch=y                 # ç„¡æ³•åŒ¹é…æ™‚æˆªåœ–
```

---

### é¢¨éšªè©•ä¼°

| é¢¨éšª | æè¿° | ç·©è§£ç­–ç•¥ |
|------|------|---------|
| **åŒ¹é…å¤±æ•—** | ç¶²é é¡Œç›®èˆ‡é¡Œåº«ä¸ä¸€è‡´ | å¤šå±¤ç´šå›é€€ + ä¿¡å¿ƒé–€æª» |
| **å‹•æ…‹è¼‰å…¥** | AngularJS æ¸²æŸ“å»¶é² | å¢åŠ  WebDriverWait |
| **æª¢æ¸¬é¢¨éšª** | ç¶²ç«™å¯èƒ½åµæ¸¬è‡ªå‹•åŒ– | å·²ä½¿ç”¨ Stealth JS |
| **é¡Œåº«éæœŸ** | é¡Œåº«èˆ‡è€ƒè©¦ä¸åŒæ­¥ | è¨˜éŒ„å¤±æ•—æ¡ˆä¾‹ |

---

### æˆåŠŸæ¨™æº–

**MVP æˆåŠŸ**:
- [ ] æˆåŠŸåŒ¹é… â‰¥80% é¡Œç›®
- [ ] è‡ªå‹•é»æ“Šæ­£ç¢ºé¸é …ï¼ˆå–®é¸ï¼‰
- [ ] è‡ªå‹•é»æ“Šæ­£ç¢ºé¸é …ï¼ˆè¤‡é¸ï¼‰
- [ ] è‡ªå‹•æäº¤è€ƒè©¦

**æ­£å¼ç‰ˆæˆåŠŸ**:
- [ ] åŒ¹é…ç‡ â‰¥95%
- [ ] SQLite æŸ¥è©¢ <10ms/é¡Œ
- [ ] é›¶èª¤ç­”ï¼ˆç„¡èª¤åˆ¤ï¼‰
- [ ] å„ªé›…è™•ç†æœªåŒ¹é…é¡Œç›®

---

### âœ… å¯¦ä½œå®Œæˆç¸½çµ (2025-11-15)

**å¯¦ä½œç‹€æ…‹**: âœ… æ‰€æœ‰è¦åŠƒåŠŸèƒ½å·²å®Œæ•´å¯¦ä½œ

**æ–°å¢æª”æ¡ˆ**:
```
src/models/
â”œâ”€â”€ __init__.py
â””â”€â”€ question.py                  # è³‡æ–™æ¨¡å‹

src/services/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ question_bank.py             # é¡Œåº«æœå‹™
â””â”€â”€ answer_matcher.py            # åŒ¹é…å¼•æ“

src/pages/
â””â”€â”€ exam_answer_page.py          # ç­”é¡Œé é¢

src/scenarios/
â””â”€â”€ exam_auto_answer.py          # è‡ªå‹•ç­”é¡Œå ´æ™¯
```

**ä¿®æ”¹æª”æ¡ˆ**:
- `config/eebot.cfg` - æ–°å¢ AUTO_ANSWER é…ç½®å€å¡Š
- `main.py` - æ•´åˆè‡ªå‹•ç­”é¡Œå ´æ™¯
- `requirements.txt` - æ–°å¢ beautifulsoup4 ä¾è³´

**ä½¿ç”¨æ–¹å¼**:
```bash
# 1. å®‰è£ä¾è³´
pip install beautifulsoup4

# 2. è¨­å®šæ’ç¨‹
python menu.py

# 3. åŸ·è¡Œè‡ªå‹•ç­”é¡Œï¼ˆenable_auto_answer=yï¼‰
python main.py
```

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… è‡ªå‹•åµæ¸¬é¡Œç›®æ•¸é‡èˆ‡é¡Œå‹
- âœ… å¤šå±¤ç´šåŒ¹é…æ¼”ç®—æ³• (85% é–€æª»)
- âœ… å–®é¸/è¤‡é¸é¡Œè‡ªå‹•ä½œç­”
- âœ… æœªåŒ¹é…é¡Œç›®æˆªåœ–è¨˜éŒ„
- âœ… ç­”é¡Œçµ±è¨ˆå ±å‘Š
- âœ… ä½¿ç”¨è€…ç¢ºèªäº¤å·æ©Ÿåˆ¶

---

**å¯¦ä½œç‰ˆæœ¬**: 2.0.2+auto-answer
**å¯¦ä½œè€…**: wizard03 (with Claude Code CLI - Sonnet 4.5)
**å¯¦ä½œæ—¥æœŸ**: 2025-11-15
**ç‹€æ…‹**: âœ… **å·²å®Œæˆä¸¦å¯ä½¿ç”¨**

**è©³ç´°è®Šæ›´è¨˜éŒ„**: è«‹åƒè€ƒ `CHANGELOG.md` ç‰ˆæœ¬ 2.0.2+auto-answer
**æŠ€è¡“ç´°ç¯€**: è«‹åƒè€ƒ `docs/AI_ASSISTANT_GUIDE.md` Phase 2 ç« ç¯€

---

## ğŸš€ æ™ºèƒ½æ¨¡å¼ï¼šæŒ‰èª²ç¨‹å•Ÿç”¨è‡ªå‹•ç­”é¡Œ (2025-11-15 æ›´æ–°)

> **é‡å¤§è®Šæ›´**: è‡ªå‹•ç­”é¡Œé‚è¼¯å¾å…¨å±€å•Ÿç”¨æ”¹ç‚ºæŒ‰èª²ç¨‹å•Ÿç”¨

### è®Šæ›´æ¦‚è¿°

**èˆŠé‚è¼¯** (v2.0.2+auto-answer):
- å…¨å±€ `enable_auto_answer` è¨­å®šæ–¼ `config/eebot.cfg`
- æ‰€æœ‰è€ƒè©¦çµ±ä¸€å•Ÿç”¨æˆ–åœç”¨è‡ªå‹•ç­”é¡Œ
- éœ€ä¿®æ”¹é…ç½®æª”æ‰èƒ½åˆ‡æ›æ¨¡å¼

**æ–°é‚è¼¯** (v2.0.2+auto-answer Smart Mode):
- æ¯å€‹è€ƒè©¦ç¨ç«‹è¨­å®š `enable_auto_answer` æ–¼ `data/courses.json`
- ä¸åŒè€ƒè©¦å¯é¸æ“‡ä¸åŒæ¨¡å¼ï¼ˆè‡ªå‹•/æ‰‹å‹•ï¼‰
- è‡ªå‹•åµæ¸¬è€ƒå·å€é é¢å¾Œæ‰å•Ÿå‹•
- æ‡¶åŠ è¼‰æ©Ÿåˆ¶ï¼ˆåƒ…åœ¨éœ€è¦æ™‚è¼‰å…¥é¡Œåº«ï¼‰

### é…ç½®è®Šæ›´

#### 1. èª²ç¨‹é…ç½® (courses.json)

**æ–°å¢ `enable_auto_answer` æ¬„ä½**:

```json
{
  "program_name": "é«˜é½¡å®¢æˆ¶æŠ•ä¿æ¬Šç›Šä¿éšœ(114å¹´åº¦)",
  "exam_name": "é«˜é½¡æ¸¬é©—(100åˆ†åŠæ ¼)",
  "course_type": "exam",
  "enable_auto_answer": true,    // æ–°å¢ï¼šå•Ÿç”¨æ­¤è€ƒè©¦çš„è‡ªå‹•ç­”é¡Œ
  "delay": 7.0,
  "description": "é«˜é½¡æ¸¬é©— - è‡ªå‹•ç­”é¡Œ"
}
```

**æœªè¨­å®šå‰‡é è¨­ç‚ºæ‰‹å‹•æ¨¡å¼**:

```json
{
  "program_name": "å…¶ä»–è€ƒè©¦(114å¹´åº¦)",
  "exam_name": "å…¶ä»–æ¸¬é©—",
  "course_type": "exam",
  // æœªè¨­å®š enable_auto_answer â†’ æ‰‹å‹•æ¨¡å¼
  "delay": 7.0,
  "description": "éœ€æ‰‹å‹•å®Œæˆ"
}
```

#### 2. ç³»çµ±é…ç½® (eebot.cfg)

**æ¨è–¦è¨­å®š**: æ”¹ç”¨ `file_mapping` æ¨¡å¼

```ini
[AUTO_ANSWER]
enable_auto_answer = y                          # ä¿ç•™ï¼ˆèˆŠç‰ˆç›¸å®¹ï¼‰
question_bank_mode = file_mapping               # å¾ 'total_bank' æ”¹ç‚ºæ­¤
question_bank_path = éƒµæ”¿Eå¤§å­¸114å¹´é¡Œåº«/ç¸½é¡Œåº«.json
answer_confidence_threshold = 0.85
auto_submit_exam = n
screenshot_on_mismatch = y
skip_unmatched_questions = y
screenshot_dir = screenshots/unmatched
```

### å·¥ä½œæµç¨‹è®Šæ›´

#### èˆŠæµç¨‹ï¼ˆå…¨å±€æ¨¡å¼ï¼‰
```
1. ç·¨è¼¯ config/eebot.cfg â†’ è¨­å®š enable_auto_answer=y
2. åŸ·è¡Œ python menu.py â†’ é¸æ“‡è€ƒè©¦
3. åŸ·è¡Œ python main.py â†’ æ‰€æœ‰è€ƒè©¦è‡ªå‹•ç­”é¡Œ
4. å¦‚éœ€åœç”¨ï¼Œå†ç·¨è¼¯ config/eebot.cfg
```

#### æ–°æµç¨‹ï¼ˆæ™ºèƒ½æ¨¡å¼ï¼‰
```
1. ç·¨è¼¯ data/courses.json â†’ ç‚ºç‰¹å®šè€ƒè©¦åŠ å…¥ "enable_auto_answer": true
2. åŸ·è¡Œ python menu.py â†’ é¸æ“‡è€ƒè©¦
3. åŸ·è¡Œ python main.py â†’ åªæœ‰æ¨™è¨˜çš„è€ƒè©¦è‡ªå‹•ç­”é¡Œ
4. ç³»çµ±è‡ªå‹•åµæ¸¬è€ƒå·å€å¾Œæ‰å•Ÿå‹•
```

### æŠ€è¡“å¯¦ä½œç´°ç¯€

#### 1. è€ƒå·å€é é¢åµæ¸¬

**æ–°å¢æ–¹æ³•**: `_is_in_exam_answer_page()` æ–¼ `ExamLearningScenario`

```python
def _is_in_exam_answer_page(self) -> bool:
    """åµæ¸¬æ˜¯å¦é€²å…¥è€ƒå·å€é é¢"""
    try:
        driver = self.driver_manager.get_driver()
        WebDriverWait(driver, 5).until(
            EC.presence_of_element_located((By.CSS_SELECTOR, "li.subject"))
        )
        questions = driver.find_elements(By.CSS_SELECTOR, "li.subject")
        if len(questions) > 0:
            print(f'  âœ… åµæ¸¬åˆ°è€ƒå·å€é é¢ï¼ˆå…± {len(questions)} é¡Œï¼‰')
            return True
        return False
    except Exception as e:
        print(f'  âš ï¸  è€ƒå·å€æª¢æ¸¬å¤±æ•—: {e}')
        return False
```

**ç›®çš„**: é˜²æ­¢åœ¨éŒ¯èª¤é é¢å•Ÿå‹•è‡ªå‹•ç­”é¡Œ

#### 2. æ‡¶åŠ è¼‰æ©Ÿåˆ¶

**èˆŠæ–¹å¼**: ç‚ºæ‰€æœ‰è€ƒè©¦è¼‰å…¥é¡Œåº«å’ŒåŒ¹é…å™¨

**æ–°æ–¹å¼**: åƒ…åœ¨éœ€è¦æ™‚æ‰åˆå§‹åŒ–

```python
class ExamLearningScenario:
    def __init__(self, config, keep_browser_on_error=False):
        # ... ç¾æœ‰ä»£ç¢¼ ...
        self.exam_answer_page = ExamAnswerPage(driver)
        self.question_bank = None      # æ‡¶åŠ è¼‰
        self.answer_matcher = None     # æ‡¶åŠ è¼‰

    def _auto_answer_current_exam(self, exam):
        """åƒ…åœ¨éœ€è¦æ™‚åˆå§‹åŒ–é¡Œåº«"""
        if self.question_bank is None:
            print('[åˆå§‹åŒ–] è¼‰å…¥é¡Œåº«...')
            self.question_bank = QuestionBankService(self.config)
            question_count = self.question_bank.load_question_bank(
                exam.get('program_name')
            )

        if self.answer_matcher is None:
            print('[åˆå§‹åŒ–] è¼‰å…¥ç­”æ¡ˆåŒ¹é…å™¨...')
            self.answer_matcher = AnswerMatcher(self.config)
```

**å„ªé»**:
- ç¯€çœè¨˜æ†¶é«”ï¼ˆæ‰‹å‹•è€ƒè©¦ä¸è¼‰å…¥ï¼‰
- åŠ å¿«å•Ÿå‹•é€Ÿåº¦
- åªè¼‰å…¥ç›¸é—œé¡Œåº«ï¼ˆfile_mapping æ¨¡å¼ï¼‰

#### 3. æ¢ä»¶å•Ÿå‹•é‚è¼¯

**æ–°æµç¨‹** (æ–¼ `_process_exam()` ä¸­):

```python
def _process_exam(self, exam: Dict[str, any]):
    # ... ç¾æœ‰è€ƒè©¦æµç¨‹ï¼ˆç™»å…¥ã€å°èˆªã€é»æ“Šè€ƒè©¦ï¼‰...

    # æ–°å¢ï¼šæª¢æŸ¥è©²è€ƒè©¦æ˜¯å¦å•Ÿç”¨è‡ªå‹•ç­”é¡Œ
    enable_auto_answer = exam.get('enable_auto_answer', False)

    if enable_auto_answer and self._is_in_exam_answer_page():
        print('ã€è‡ªå‹•ç­”é¡Œæ¨¡å¼å•Ÿå‹•ã€‘')
        self._auto_answer_current_exam(exam)
    else:
        print('è«‹æ‰‹å‹•å®Œæˆè€ƒè©¦')
        input('å®Œæˆå¾ŒæŒ‰ Enter ç¹¼çºŒ...')
```

**æ±ºç­–æ¨¹**:
```
æ˜¯å¦ enable_auto_answer=true?
  â”œâ”€ å¦ â†’ æ‰‹å‹•æ¨¡å¼ï¼ˆç­‰å¾…ä½¿ç”¨è€…ï¼‰
  â””â”€ æ˜¯ â†’ æª¢æŸ¥æ˜¯å¦åœ¨è€ƒå·å€é é¢
      â”œâ”€ å¦ â†’ æ‰‹å‹•æ¨¡å¼ï¼ˆé é¢éŒ¯èª¤ï¼‰
      â””â”€ æ˜¯ â†’ è‡ªå‹•ç­”é¡Œæ¨¡å¼ï¼ˆå•Ÿå‹•ï¼‰
```

### ä¸»ç¨‹å¼ç°¡åŒ–

**èˆŠæ–¹å¼**: å…©å€‹åˆ†é›¢çš„å ´æ™¯

```python
# èˆŠä»£ç¢¼ï¼ˆå·²ç§»é™¤ï¼‰
if enable_auto_answer:
    exam_scenario = ExamAutoAnswerScenario(...)
else:
    exam_scenario = ExamLearningScenario(...)
```

**æ–°æ–¹å¼**: çµ±ä¸€å ´æ™¯

```python
# æ–°ä»£ç¢¼ï¼ˆç°¡åŒ–ï¼‰
exam_scenario = ExamLearningScenario(config, keep_browser_on_error)
exam_scenario.execute(exams)
# æ¯å€‹è€ƒè©¦å…§éƒ¨è‡ªè¡Œæ±ºå®šæ¨¡å¼
```

**å„ªé»**:
- å–®ä¸€ç€è¦½å™¨æœƒè©±è™•ç†æ‰€æœ‰è€ƒè©¦
- ç„¡éœ€åœ¨è€ƒè©¦é–“é‡å•Ÿç€è¦½å™¨
- main.py ä»£ç¢¼æ›´ç°¡æ½”

### é‡è¦ Bug ä¿®å¾© (2025-11-15)

#### 1. UTF-8 BOM ç·¨ç¢¼
**å•é¡Œ**: JSON æª”æ¡ˆå«æœ‰ UTF-8 BOM æ¨™è¨˜
**è§£æ±º**: æ‰€æœ‰ JSON è®€å–æ”¹ç”¨ `encoding='utf-8-sig'`

**å½±éŸ¿æª”æ¡ˆ**:
- `src/services/question_bank.py` (2 è™•)
- `main.py` (1 è™•)
- `menu.py` (3 è™•)

#### 2. åˆ†é çµæ§‹è§£æ
**å•é¡Œ**: é¡Œåº«æª”æ¡ˆä½¿ç”¨ `[{"subjects": [...]}]` åˆ†é çµæ§‹
**è§£æ±º**: `_load_specific_bank()` æ–°å¢åˆ†é åµæ¸¬è™•ç†

```python
if isinstance(data[0], dict) and 'subjects' in data[0]:
    # åˆ†é çµæ§‹
    for page in data:
        if 'subjects' in page:
            for subject in page['subjects']:
                # è™•ç†é¡Œç›®
```

#### 3. å…ƒç´ äº’å‹•å•é¡Œ
**å•é¡Œ**: äº¤å·æŒ‰éˆ•ç„¡æ³•é»æ“Š (element not interactable)
**è§£æ±º**: ä½¿ç”¨ JavaScript é»æ“Š + ç²¾ç¢º XPath

```python
# æ›´æ–°å®šä½å™¨ (exam_answer_page.py)
SUBMIT_BUTTON = (By.XPATH, "/html/body/div[3]/div[4]/div[3]/div[9]/div/div/div[3]/div/div[3]/a")
CONFIRM_BUTTON = (By.XPATH, "//*[@id='submit-exam-confirmation-popup']/div/div[3]/div/button[1]")

# JavaScript é»æ“Š
self.driver.execute_script("arguments[0].click();", submit_btn)
time.sleep(3)
```

#### 4. QuestionBankService åˆå§‹åŒ–
**å•é¡Œ**: ä½¿ç”¨éŒ¯èª¤åƒæ•¸ `mode=...`, `total_bank_path=...`
**è§£æ±º**: æ­£ç¢ºåˆå§‹åŒ–æ–¹å¼

```python
self.question_bank = QuestionBankService(self.config)
question_count = self.question_bank.load_question_bank(exam.get('program_name'))
```

#### 5. æ–¹æ³•åç¨±ä¸ä¸€è‡´
**å•é¡Œ**: `get_all_questions()` ç­‰æ–¹æ³•ä¸å­˜åœ¨
**è§£æ±º**: çµ±ä¸€å‘½å

```python
# æ­£ç¢ºçš„æ–¹æ³•åç¨± (ExamAnswerPage)
detect_questions()             # é get_all_questions()
extract_question_text()        # é get_question_text()
extract_options()              # é get_options()
submit_exam_with_confirmation() # é submit_exam()
```

#### 6. å›å‚³å‹åˆ¥è™•ç†
**å•é¡Œ**: `find_best_match()` å›å‚³ tuple é dict
**è§£æ±º**: æ­£ç¢ºçš„ tuple è§£åŒ…

```python
match_result = self.answer_matcher.find_best_match(question_text, questions)
if match_result is None:
    # è™•ç†ç„¡åŒ¹é…
else:
    db_question, confidence = match_result  # tuple è§£åŒ…
```

### æ¸¬è©¦çµæœ

**æ¸¬è©¦èª²ç¨‹**: é«˜é½¡å®¢æˆ¶æŠ•ä¿æ¬Šç›Šä¿éšœè€ƒè©¦

| é …ç›® | çµæœ |
|-----|------|
| é¡Œåº«è¼‰å…¥ | 10 é¡Œ |
| åŒ¹é…æˆåŠŸ | 10/10 (100%) |
| åŒ¹é…ä¿¡å¿ƒåº¦ | 95-100% |
| è‡ªå‹•ä½œç­” | âœ… å…¨éƒ¨æ­£ç¢º |
| è€ƒè©¦æäº¤ | âœ… æˆåŠŸ |

### ä½¿ç”¨ç¯„ä¾‹

#### ç¯„ä¾‹ 1: ç‚ºç‰¹å®šè€ƒè©¦å•Ÿç”¨è‡ªå‹•ç­”é¡Œ

**æ­¥é©Ÿ 1**: ç·¨è¼¯ `data/courses.json`

```json
{
  "description": "èª²ç¨‹è³‡æ–™é…ç½®æª”",
  "version": "1.0",
  "courses": [
    {
      "program_name": "é«˜é½¡å®¢æˆ¶æŠ•ä¿æ¬Šç›Šä¿éšœ(114å¹´åº¦)",
      "exam_name": "é«˜é½¡æ¸¬é©—(100åˆ†åŠæ ¼)",
      "course_type": "exam",
      "enable_auto_answer": true,    // å•Ÿç”¨æ­¤è€ƒè©¦
      "delay": 7.0,
      "description": "é«˜é½¡æ¸¬é©— - è‡ªå‹•ç­”é¡Œ"
    },
    {
      "program_name": "è³‡é€šå®‰å…¨æ¸¬é©—(114å¹´åº¦)",
      "exam_name": "è³‡é€šå®‰å…¨æ¸¬é©—",
      "course_type": "exam",
      "enable_auto_answer": true,    // å•Ÿç”¨æ­¤è€ƒè©¦
      "delay": 7.0,
      "description": "è³‡é€šå®‰å…¨æ¸¬é©— - è‡ªå‹•ç­”é¡Œ"
    },
    {
      "program_name": "å…¶ä»–è€ƒè©¦(114å¹´åº¦)",
      "exam_name": "å…¶ä»–æ¸¬é©—",
      "course_type": "exam",
      // æœªè¨­å®š â†’ æ‰‹å‹•æ¨¡å¼
      "delay": 7.0,
      "description": "å…¶ä»–æ¸¬é©— - æ‰‹å‹•å®Œæˆ"
    }
  ]
}
```

**æ­¥é©Ÿ 2**: æ’ç¨‹èˆ‡åŸ·è¡Œ

```bash
python menu.py
# é¸æ“‡ä¸‰å€‹è€ƒè©¦

python main.py
# è€ƒè©¦ 1 (é«˜é½¡æ¸¬é©—): è‡ªå‹•ç­”é¡Œ âœ…
# è€ƒè©¦ 2 (è³‡é€šå®‰å…¨æ¸¬é©—): è‡ªå‹•ç­”é¡Œ âœ…
# è€ƒè©¦ 3 (å…¶ä»–æ¸¬é©—): æ‰‹å‹•æ¨¡å¼ â¸ï¸
```

#### ç¯„ä¾‹ 2: æ··åˆèª²ç¨‹èˆ‡è€ƒè©¦æ’ç¨‹

```bash
python menu.py
# é¸æ“‡:
# [1] èª²ç¨‹ A (ä¸€èˆ¬èª²ç¨‹)
# [2] èª²ç¨‹ B (ä¸€èˆ¬èª²ç¨‹)
# [3] è€ƒè©¦ A (enable_auto_answer: true)
# [4] è€ƒè©¦ B (enable_auto_answer: false)

python main.py
# åŸ·è¡Œé †åº:
# 1. èª²ç¨‹ A â†’ è‡ªå‹•å®Œæˆ âœ…
# 2. èª²ç¨‹ B â†’ è‡ªå‹•å®Œæˆ âœ…
# 3. è€ƒè©¦ A â†’ è‡ªå‹•ç­”é¡Œ âœ…
# 4. è€ƒè©¦ B â†’ æ‰‹å‹•æ¨¡å¼ â¸ï¸
```

### å‘å¾Œç›¸å®¹æ€§

**ç›¸å®¹æ€§èªªæ˜**:
- âœ… æœªè¨­å®š `enable_auto_answer` çš„è€ƒè©¦é è¨­ç‚ºæ‰‹å‹•æ¨¡å¼
- âœ… åŸæœ‰æ‰‹å‹•è€ƒè©¦æµç¨‹å®Œå…¨ä¿ç•™
- âœ… æ‰€æœ‰èª²ç¨‹å­¸ç¿’åŠŸèƒ½ä¸å—å½±éŸ¿
- âœ… é…ç½®æª” `enable_auto_answer` ä¿ç•™ä½†ä½œç”¨æ”¹è®Š

**ç ´å£æ€§è®Šæ›´**:
- âŒ å…¨å±€ `enable_auto_answer` ä¸å†æ§åˆ¶æ‰€æœ‰è€ƒè©¦
- âŒ å¿…é ˆç‚ºæ¯å€‹è€ƒè©¦æ˜ç¢ºè¨­å®šé…ç½®
- âŒ `ExamAutoAnswerScenario` é¡åˆ¥å·²ç§»é™¤ï¼ˆåŠŸèƒ½æ•´åˆè‡³ `ExamLearningScenario`ï¼‰

### é·ç§»æŒ‡å—

**å¦‚æœä½ æ­£åœ¨ä½¿ç”¨å…¨å±€ `enable_auto_answer`**:

1. ä¿ç•™ `enable_auto_answer=y` æ–¼ `config/eebot.cfg`ï¼ˆå‘å¾Œç›¸å®¹ï¼‰
2. ç‚ºéœ€è¦è‡ªå‹•ç­”é¡Œçš„è€ƒè©¦åŠ å…¥ `"enable_auto_answer": true`
3. å°‡ `question_bank_mode` æ”¹ç‚º `file_mapping` æå‡æº–ç¢ºåº¦
4. ç§»é™¤èˆŠçš„ `ExamAutoAnswerScenario` åŒ¯å…¥ï¼ˆå¦‚æœæœ‰ï¼‰

### æœ€ä½³å¯¦è¸

#### 1. å…ˆæ‰‹å‹•æ¸¬è©¦
```json
{
  "enable_auto_answer": false,  // æˆ–çœç•¥æ­¤æ¬„ä½
  "description": "å…ˆæ‰‹å‹•æ¸¬è©¦"
}
```

#### 2. ç¢ºèªé¡Œåº«å°æ‡‰
æª¢æŸ¥ `src/services/question_bank.py` ä¸­çš„ program name å°æ‡‰:

```python
QUESTION_BANK_MAPPING = {
    "é«˜é½¡å®¢æˆ¶æŠ•ä¿æ¬Šç›Šä¿éšœ(114å¹´åº¦)": "é«˜é½¡æŠ•ä¿ï¼ˆ10é¡Œï¼‰.json",
    "è³‡é€šå®‰å…¨æ¸¬é©—(114å¹´åº¦)": "è³‡é€šå®‰å…¨ï¼ˆ30é¡Œï¼‰.json",
    "å£½éšªæ¥­å‹™å“¡åœ¨è·è¨“ç·´å­¸ç¨‹èª²ç¨‹åŠæ¸¬é©—(114å¹´åº¦)": "å£½éšªæ¥­å‹™å“¡åœ¨è·è¨“ç·´ï¼ˆ30é¡Œï¼‰.json",
    # æ ¹æ“šéœ€æ±‚æ–°å¢æ›´å¤šå°æ‡‰
}
```

#### 3. ç›£æ§åŒ¹é…æˆåŠŸç‡
è§€å¯Ÿçµ‚ç«¯è¼¸å‡º:
```
[åŒ¹é…] ç¬¬ 1 é¡Œ: é¡Œç›®å…§å®¹
  âœ… åŒ¹é…æˆåŠŸï¼ˆä¿¡å¿ƒ: 100.00%ï¼‰
  âœ… æ­£ç¢ºç­”æ¡ˆ: ['é¸é …1', 'é¸é …2']
```

#### 4. æª¢è¦–å¤±æ•—æˆªåœ–
æœªåŒ¹é…é¡Œç›®å„²å­˜æ–¼ `screenshots/unmatched/`:
```
question_5_20251115_143022.png
question_5_20251115_143022.txt  // å«é¡Œç›®æ–‡å­—
```

### å•é¡Œæ’æŸ¥

#### å•é¡Œ 1: è‡ªå‹•ç­”é¡Œæœªå•Ÿå‹•

**æª¢æŸ¥**:
1. `courses.json` ä¸­æ˜¯å¦è¨­å®š `"enable_auto_answer": true`ï¼Ÿ
2. æ˜¯å¦æˆåŠŸé€²å…¥è€ƒå·å€é é¢ï¼Ÿ
3. æŸ¥çœ‹çµ‚ç«¯æ˜¯å¦æœ‰é é¢åµæ¸¬è¨Šæ¯

**é™¤éŒ¯è¼¸å‡º**:
```
âœ… åµæ¸¬åˆ°è€ƒå·å€é é¢ï¼ˆå…± 10 é¡Œï¼‰
ã€è‡ªå‹•ç­”é¡Œæ¨¡å¼å•Ÿå‹•ã€‘
[åˆå§‹åŒ–] è¼‰å…¥é¡Œåº«...
```

#### å•é¡Œ 2: é¡Œç›®ç„¡æ³•åŒ¹é…

**æª¢æŸ¥**:
1. `question_bank_mode` æ˜¯å¦æ­£ç¢ºè¨­å®šï¼Ÿ
2. program name æ˜¯å¦ç²¾ç¢ºå°æ‡‰é¡Œåº«å°æ‡‰è¡¨ï¼Ÿ
3. ä¿¡å¿ƒé–€æª»æ˜¯å¦éé«˜ï¼ˆé è¨­ 0.85ï¼‰

**é™¤éŒ¯è¼¸å‡º**:
```
[è¼‰å…¥] é¡Œåº«æª”æ¡ˆ: éƒµæ”¿Eå¤§å­¸114å¹´é¡Œåº«/é«˜é½¡æŠ•ä¿ï¼ˆ10é¡Œï¼‰.json
[æˆåŠŸ] è¼‰å…¥é¡Œåº«: 10 é¡Œ
```

#### å•é¡Œ 3: äº¤å·æŒ‰éˆ•ç„¡æ³•ä½¿ç”¨

**æª¢æŸ¥**:
1. `exam_answer_page.py` ä¸­çš„ XPath å®šä½å™¨
2. é»æ“Šé–“çš„ç­‰å¾…æ™‚é–“ï¼ˆé è¨­ 3 ç§’ï¼‰
3. JavaScript åŸ·è¡Œæ˜¯å¦å•Ÿç”¨

**è§£æ±ºæ–¹æ¡ˆ**: å®šä½å™¨å·²æ›´æ–°ç‚ºä½¿ç”¨è€…æä¾›çš„ç²¾ç¢º XPath

#### å•é¡Œ 4: ç¬¬äºŒå€‹è€ƒè©¦ 0% åŒ¹é…ç‡ (åš´é‡ Bug - å·²ä¿®å¾©)

**ç—‡ç‹€**:
- ç¬¬ä¸€å€‹è€ƒè©¦: 100% åŒ¹é…ç‡ âœ…
- ç¬¬äºŒå€‹è€ƒè©¦: 0% åŒ¹é…ç‡ âŒ
- æ‰€æœ‰é¡Œç›®é¡¯ç¤ºã€Œç„¡æ³•åŒ¹é…ã€

**æ ¹æœ¬åŸå› **:
`src/scenarios/exam_learning.py:261` çš„æ‡¶è¼‰å…¥é‚è¼¯éŒ¯èª¤ï¼Œå°è‡´å¤šå€‹è€ƒè©¦å…±ç”¨åŒä¸€å€‹é¡Œåº«å¯¦ä¾‹ã€‚

**å•é¡Œæ©Ÿåˆ¶**:
```python
# âŒ éŒ¯èª¤ä»£ç¢¼ï¼ˆä¿®å¾©å‰ï¼‰
if self.question_bank is None:
    self.question_bank = QuestionBankService(self.config)
    question_count = self.question_bank.load_question_bank(exam.get('program_name'))
```

1. è€ƒè©¦ 1 è¼‰å…¥é¡Œåº« Aï¼ˆä¾‹å¦‚ï¼šé«˜é½¡æŠ•ä¿ 10 é¡Œï¼‰
2. `self.question_bank` ä¸å†æ˜¯ `None`
3. è€ƒè©¦ 2 è·³éåˆå§‹åŒ–
4. è€ƒè©¦ 2 å˜—è©¦ç”¨éŒ¯èª¤çš„é¡Œåº« A åŒ¹é…é¡Œåº« B çš„é¡Œç›®
5. çµæœï¼š0% åŒ¹é…ç‡

**ä¿®å¾©æ–¹æ¡ˆ** (v2.0.2+auto-answer.1):
```python
# âœ… ä¿®å¾©å¾Œä»£ç¢¼
# ç‚ºæ¯å€‹è€ƒè©¦é‡æ–°è¼‰å…¥å°æ‡‰é¡Œåº«
self.question_bank = QuestionBankService(self.config)
program_name = exam.get('program_name')
question_count = self.question_bank.load_question_bank(program_name)
```

**é—œéµæ”¹è®Š**:
- âœ… ç§»é™¤ `if self.question_bank is None` æª¢æŸ¥
- âœ… æ¯å€‹è€ƒè©¦éƒ½å‰µå»ºæ–°çš„ `QuestionBankService` å¯¦ä¾‹
- âœ… æ¯å€‹è€ƒè©¦éƒ½è¼‰å…¥å°æ‡‰çš„é¡Œåº«
- âœ… æ–°å¢ program_name æ—¥èªŒè¼¸å‡º

**é©—è­‰æ–¹å¼**:
åŸ·è¡ŒåŒ…å«å¤šå€‹è€ƒè©¦çš„æµç¨‹ï¼Œæ‡‰çœ‹åˆ°æ¯å€‹è€ƒè©¦éƒ½æ­£ç¢ºè¼‰å…¥å°æ‡‰é¡Œåº«ï¼š
```
--- Processing Exam 1/2 ---
  ğŸ“š æ­£åœ¨è¼‰å…¥é¡Œåº«...
  âœ… é¡Œåº«å·²è¼‰å…¥ï¼ˆå…± 10 é¡Œï¼‰
  ğŸ“‹ èª²ç¨‹åç¨±: é«˜é½¡å®¢æˆ¶æŠ•ä¿æ¬Šç›Šä¿éšœ(114å¹´åº¦)

--- Processing Exam 2/2 ---
  ğŸ“š æ­£åœ¨è¼‰å…¥é¡Œåº«...
  âœ… é¡Œåº«å·²è¼‰å…¥ï¼ˆå…± 21 é¡Œï¼‰
  ğŸ“‹ èª²ç¨‹åç¨±: é‡‘èæœå‹™æ¥­å…¬å¹³å¾…å®¢åŸå‰‡ï¼†æ´—éŒ¢é˜²åˆ¶åŠæ‰“æ“Šè³‡ææ•™è‚²è¨“ç·´(114å¹´åº¦)
```

**âš ï¸ é‡è¦ç¶“é©—**:
> **æ‡¶è¼‰å…¥ + å…±äº«ç‹€æ…‹ = æ½›åœ¨ Bug**
>
> ç•¶ç‰©ä»¶å¯¦ä¾‹è¢«é‡è¤‡ä½¿ç”¨è™•ç†ä¸åŒè³‡æ–™é›†æ™‚ï¼š
> - âŒ ä¸è¦åœ¨ä¸æª¢æŸ¥è³‡æ–™ä¸Šä¸‹æ–‡çš„æƒ…æ³ä¸‹ä½¿ç”¨æ‡¶è¼‰å…¥
> - âœ… è™•ç†æ–°è³‡æ–™æ™‚å‹™å¿…é‡æ–°è¼‰å…¥è³‡æº
> - âœ… åŠ å…¥æ—¥èªŒè¿½è¹¤è¼‰å…¥çš„è³‡æº
> - âœ… æ¸¬è©¦å¤šå€‹é€£çºŒæ“ä½œçš„å ´æ™¯

**ç¨‹å¼ç¢¼å¯©æŸ¥æª¢æŸ¥æ¸…å–®**:
- [ ] æ˜¯å¦æœ‰æ‡¶è¼‰å…¥é‚è¼¯ï¼ˆ`if self.resource is None`ï¼‰ï¼Ÿ
- [ ] è©²å¯¦ä¾‹æ˜¯å¦æœƒè¢«é‡è¤‡ä½¿ç”¨è™•ç†ä¸åŒè³‡æ–™ï¼Ÿ
- [ ] è³‡æºæ˜¯å¦ä¾è³´è¼¸å…¥åƒæ•¸ï¼Ÿ
- [ ] æ˜¯å¦æœ‰æ¸¬è©¦å¤šå€‹é€£çºŒæ“ä½œçš„æƒ…å¢ƒï¼Ÿ

---

**æ™ºèƒ½æ¨¡å¼ç‰ˆæœ¬**: 2.0.2+auto-answer.1 (æ‡¶è¼‰å…¥ Bug å·²ä¿®å¾©)
**æ›´æ–°æ—¥æœŸ**: 2025-11-15 æ™šé–“
**æ›´æ–°è€…**: wizard03 (with Claude Code CLI - Gleipnir Project)

---

## ğŸ¨ GUI é–‹ç™¼è¨ˆç•« (2025-11-24 è¦åŠƒ)

> **ç‹€æ…‹**: ğŸ“‹ è¦åŠƒéšæ®µ
> **å¯è¡Œæ€§**: âœ… å®Œå…¨å¯è¡Œ
> **é ä¼°æ™‚ç¨‹**: 18-26 å°æ™‚
> **å„ªå…ˆç´š**: ä¸­ç­‰ï¼ˆå¢å¼·ä½¿ç”¨è€…é«”é©—ï¼‰

### æ¦‚è¿°

å°ˆæ¡ˆæ¶æ§‹å®Œå…¨æ”¯æ´æ•´åˆ GUI ä»‹é¢ï¼Œå¯ä½œç‚ºç¨ç«‹å±•ç¤ºå±¤ï¼Œä¸ç ´å£ç¾æœ‰ CLI åŠŸèƒ½ã€‚

### æŠ€è¡“æ–¹æ¡ˆ

#### æ¨è–¦ GUI æ¡†æ¶

ğŸ† **CustomTkinter** (æœ€ä½³é¸æ“‡)

**é¸æ“‡ç†ç”±**:
- âœ… ç¾ä»£åŒ–å¤–è§€ï¼ˆMaterial Design é¢¨æ ¼ï¼‰
- âœ… åŸºæ–¼ Tkinterï¼Œç©©å®šå¯é 
- âœ… è·¨å¹³å°æ”¯æ´ï¼ˆWindows/Linux/macOSï¼‰
- âœ… å®‰è£ç°¡å–®ï¼š`pip install customtkinter`
- âœ… æ”¯æ´æ·±è‰²æ¨¡å¼
- âœ… å‘å¾Œç›¸å®¹ Tkinter API

**æ›¿ä»£æ–¹æ¡ˆ**:
- **PyQt5/PySide6**: åŠŸèƒ½å¼·å¤§ä½†é«”ç©è¼ƒå¤§
- **åŸç”Ÿ Tkinter**: Python å…§å»ºä½†å¤–è§€è¼ƒå‚³çµ±
- **PySimpleGUI**: èªæ³•ç°¡å–®ä½†è‡ªè¨‚æ€§è¼ƒä½

### æ¶æ§‹è¨­è¨ˆ

#### æ–°å¢æª”æ¡ˆçµæ§‹

```
eebot/
â”œâ”€â”€ gui/                          # ã€æ–°å¢ã€‘GUI å±¤
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main_window.py            # ä¸»è¦–çª—
â”‚   â”œâ”€â”€ widgets/                  # GUI å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ course_selector.py    # èª²ç¨‹é¸æ“‡å™¨
â”‚   â”‚   â”œâ”€â”€ config_editor.py      # é…ç½®ç·¨è¼¯å™¨
â”‚   â”‚   â”œâ”€â”€ progress_monitor.py   # åŸ·è¡Œé€²åº¦ç›£æ§
â”‚   â”‚   â”œâ”€â”€ log_viewer.py         # æ—¥èªŒæŸ¥çœ‹å™¨
â”‚   â”‚   â”œâ”€â”€ report_viewer.py      # æ™‚é–“çµ±è¨ˆå ±å‘ŠæŸ¥çœ‹å™¨
â”‚   â”‚   â””â”€â”€ screenshot_viewer.py  # æˆªåœ–ç€è¦½å™¨
â”‚   â””â”€â”€ utils/                    # GUI å·¥å…·
â”‚       â”œâ”€â”€ thread_manager.py     # å¤šåŸ·è¡Œç·’ç®¡ç†
â”‚       â””â”€â”€ notification.py       # ç³»çµ±é€šçŸ¥
â”‚
â”œâ”€â”€ gui_main.py                   # ã€æ–°å¢ã€‘GUI å…¥å£
â”œâ”€â”€ main.py                       # ã€ä¿ç•™ã€‘CLI å…¥å£
â””â”€â”€ menu.py                       # ã€ä¿ç•™ã€‘CLI é¸å–®
```

#### è¨­è¨ˆåŸå‰‡

1. **ä¸ä¿®æ”¹æ ¸å¿ƒç¨‹å¼ç¢¼** âœ…
   - éµå¾ªã€Œç¦æ­¢ä¿®æ”¹æ¸…å–®ã€
   - ä¿è­· `src/core/`, `src/pages/`, `src/scenarios/`

2. **GUI ä½œç‚ºç¨ç«‹å±¤** âœ…
   - ç›´æ¥å‘¼å«ç¾æœ‰ scenario å’Œ service
   - é€é callback æ©Ÿåˆ¶æ›´æ–° GUI ç‹€æ…‹

3. **ä¿æŒ CLI å¯ç”¨** âœ…
   - ç”¨æˆ¶å¯è‡ªç”±é¸æ“‡ CLI æˆ– GUI

4. **å¤šåŸ·è¡Œç·’è¨­è¨ˆ** âœ…
   - é¿å… GUI å‡çµ

### ä¸»è¦åŠŸèƒ½æ¨¡çµ„

#### 1. èª²ç¨‹ç®¡ç†ä»‹é¢ï¼ˆæ›¿ä»£ menu.pyï¼‰
- è¦–è¦ºåŒ–èª²ç¨‹é¸æ“‡
- æ’ç¨‹ç®¡ç†ï¼ˆæ–°å¢ã€ç§»é™¤ã€æ¸…ç©ºï¼‰
- æ¨™è¨˜é¡¯ç¤ºï¼ˆèª²ç¨‹ vs è€ƒè©¦ã€è‡ªå‹•ç­”é¡Œ ğŸ¤–ï¼‰

#### 2. é…ç½®ç®¡ç†ä»‹é¢ï¼ˆç·¨è¼¯ eebot.cfgï¼‰
- åœ–å½¢åŒ–ç·¨è¼¯æ‰€æœ‰é…ç½®é …
- å¸³è™Ÿè¨­å®šã€MitmProxy è¨­å®šã€è‡ªå‹•ç­”é¡Œè¨­å®š
- å³æ™‚é©—è­‰èˆ‡å„²å­˜

#### 3. åŸ·è¡Œç›£æ§ä»‹é¢
- å³æ™‚é€²åº¦æ¢ï¼ˆç¸½é€²åº¦ + ç•¶å‰èª²ç¨‹é€²åº¦ï¼‰
- åŸ·è¡Œæ—¥èªŒæ»¾å‹•é¡¯ç¤º
- èŸ²æ´ç‹€æ…‹é¡¯ç¤ºï¼ˆâ° æ™‚é–“åŠ é€Ÿï¼‰
- æš«åœ/åœæ­¢æ§åˆ¶

#### 4. æ™ºèƒ½æ¨è–¦ä»‹é¢ï¼ˆæ›¿ä»£ menu.py çš„ 'i' åŠŸèƒ½ï¼‰
- è‡ªå‹•æƒæã€Œä¿®ç¿’ä¸­ã€èª²ç¨‹
- æ¨¹ç‹€é¡¯ç¤ºæƒæçµæœ
- ä¸€éµåŸ·è¡Œç¢ºèªå°è©±æ¡†

#### 5. æ™‚é–“çµ±è¨ˆå ±å‘ŠæŸ¥çœ‹å™¨
- è®€å– `reports/time_report_*.md`
- åœ–è¡¨åŒ–é¡¯ç¤ºï¼ˆåœ“é¤…åœ–ã€é•·æ¢åœ–ï¼‰
- èª²ç¨‹æ˜ç´°è¡¨æ ¼
- åŒ¯å‡ºåŠŸèƒ½

#### 6. æˆªåœ–ç€è¦½å™¨
- ç¸®åœ–ç¶²æ ¼é¡¯ç¤º
- é»æ“Šæ”¾å¤§æª¢è¦–
- æ™‚é–“æˆ³èˆ‡èª²ç¨‹åç¨±é¡¯ç¤º

### Linux è·¨å¹³å°æ”¯æ´

âœ… **å®Œå…¨æ”¯æ´** - å°ˆæ¡ˆæœ¬èº«å·²ç¶“è·¨å¹³å°

**è­‰æ“š**:
1. **å­—é«”æ”¯æ´** - `src/utils/screenshot_utils.py` å·²è™•ç† 15+ Linux å­—é«”è·¯å¾‘
2. **è·¯å¾‘è™•ç†** - ä½¿ç”¨ Python æ¨™æº–è·¯å¾‘è™•ç†
3. **ä¾è³´å¥—ä»¶** - æ‰€æœ‰ä¾è³´çš†è·¨å¹³å°

**CustomTkinter åœ¨ Linux ä¸Š**:
- âœ… æ”¯æ´æ‰€æœ‰ä¸»æµç™¼è¡Œç‰ˆï¼ˆUbuntu, Debian, Fedora, Archï¼‰
- âœ… æ”¯æ´æ‰€æœ‰ä¸»æµæ¡Œé¢ç’°å¢ƒï¼ˆGNOME, KDE, XFCE, Cinnamonï¼‰
- âœ… è‡ªå‹•é©æ‡‰ç³»çµ±ä¸»é¡Œ

**å®‰è£æ­¥é©Ÿï¼ˆUbuntu/Debianï¼‰**:
```bash
sudo apt install python3 python3-tk fonts-wqy-zenhei
pip3 install customtkinter
python3 gui_main.py
```

### éœ€è¦èª¿æ•´çš„ç¾æœ‰æª”æ¡ˆ

#### æœ€å°ä¾µå…¥æ€§ä¿®æ”¹

**Scenario é¡åˆ¥** - æ–°å¢é€²åº¦å›å‘¼åƒæ•¸ï¼ˆå¯é¸ï¼‰:

```python
# src/scenarios/course_learning.py
class CourseLearningScenario:
    def __init__(self, config, keep_browser_on_error=False,
                 time_tracker=None, visit_duration_increase=9000,
                 progress_callback=None):  # æ–°å¢å¯é¸åƒæ•¸
        self.progress_callback = progress_callback

    def _process_course(self, course):
        # æ›´æ–°é€²åº¦åˆ° GUIï¼ˆå¦‚æœæœ‰ï¼‰
        if self.progress_callback:
            self.progress_callback({
                'type': 'progress',
                'current': self.current_index,
                'total': self.total_count,
                'course_name': course['lesson_name'],
                'stage': 'Stage 2 - èª²ç¨‹è¨ˆç•«é é¢'
            })
        # åŸæœ‰é‚è¼¯ä¸è®Š
```

**ä¿®æ”¹åŸå‰‡**:
- âœ… åªæ–°å¢å¯é¸åƒæ•¸ï¼ˆé è¨­ `None`ï¼‰
- âœ… å‘å¾Œç›¸å®¹ï¼ˆCLI æ¨¡å¼ä¸å—å½±éŸ¿ï¼‰
- âœ… ä¸ä¿®æ”¹æ ¸å¿ƒé‚è¼¯

### å¯¦ä½œè¨ˆç•«

| éšæ®µ | å·¥ä½œå…§å®¹ | é ä¼°æ™‚é–“ |
|-----|---------|---------|
| **Phase 1** | åŸºç¤ GUI æ¡†æ¶ + èª²ç¨‹é¸æ“‡å™¨ | 4-6 å°æ™‚ |
| **Phase 2** | é…ç½®ç·¨è¼¯å™¨ + åŸ·è¡Œç›£æ§ | 4-6 å°æ™‚ |
| **Phase 3** | æ™ºèƒ½æ¨è–¦ GUI + å¤šåŸ·è¡Œç·’æ•´åˆ | 3-4 å°æ™‚ |
| **Phase 4** | æ™‚é–“çµ±è¨ˆå ±å‘ŠæŸ¥çœ‹å™¨ + æˆªåœ–ç€è¦½ | 3-4 å°æ™‚ |
| **Phase 5** | æ¸¬è©¦èˆ‡å„ªåŒ– + æ‰“åŒ… | 4-6 å°æ™‚ |
| **ç¸½è¨ˆ** | | **18-26 å°æ™‚** |

### å»ºè­°å¯¦ä½œé †åº

1. âœ… å»ºç«‹åŸºç¤ GUI æ¡†æ¶ï¼ˆä¸»è¦–çª— + åˆ†é ï¼‰
2. âœ… å¯¦ä½œèª²ç¨‹é¸æ“‡å™¨ï¼ˆè®€å– `courses.json`ï¼‰
3. âœ… æ•´åˆåŸ·è¡Œæµç¨‹ï¼ˆå‘¼å« scenarioï¼‰
4. âœ… å¯¦ä½œé€²åº¦ç›£æ§ï¼ˆå³æ™‚é¡¯ç¤ºï¼‰
5. âœ… å¯¦ä½œé…ç½®ç·¨è¼¯å™¨
6. âœ… å¯¦ä½œæ™ºèƒ½æ¨è–¦ GUI
7. âœ… å¯¦ä½œå ±å‘Šèˆ‡æˆªåœ–æŸ¥çœ‹å™¨
8. âœ… æ‰“åŒ…æˆå¯åŸ·è¡Œæª”ï¼ˆPyInstallerï¼‰

### æŠ€è¡“è¦é»

#### 1. å¤šåŸ·è¡Œç·’ç®¡ç†ï¼ˆé—œéµï¼‰

```python
import threading

def start_execution(self):
    # åœ¨èƒŒæ™¯åŸ·è¡Œç·’åŸ·è¡Œé¿å… GUI å‡çµ
    thread = threading.Thread(
        target=self.run_automation,
        args=(scheduled,),
        daemon=True
    )
    thread.start()
```

#### 2. é€²åº¦å›å‘¼æ©Ÿåˆ¶

```python
# Scenario å‘¼å« callback
if self.progress_callback:
    self.progress_callback({
        'type': 'progress',
        'current': 2,
        'total': 5,
        'message': 'æ­£åœ¨åŸ·è¡Œèª²ç¨‹ 2/5'
    })
```

#### 3. æ‰“åŒ…æˆåŸ·è¡Œæª”

```bash
# Windows
pyinstaller --onefile --windowed --name="EEBot-Gleipnir" gui_main.py

# Linux
pyinstaller --onefile --windowed --name="EEBot-Gleipnir" gui_main.py
```

### åƒè€ƒè³‡æº

- **CustomTkinter å®˜æ–¹æ–‡æª”**: https://customtkinter.tomschimansky.com/
- **ç¯„ä¾‹å°ˆæ¡ˆ**: https://github.com/TomSchimansky/CustomTkinter
- **å·¥ä½œæ—¥èªŒ**: [DAILY_WORK_LOG_202511242300.md](./DAILY_WORK_LOG_202511242300.md)

### ç•¶å‰ç‹€æ…‹

- âœ… å¯è¡Œæ€§è©•ä¼°å®Œæˆ
- âœ… æŠ€è¡“æ–¹æ¡ˆç¢ºå®šï¼ˆCustomTkinterï¼‰
- âœ… æ¶æ§‹è¨­è¨ˆå®Œæˆ
- âœ… Linux è·¨å¹³å°æ”¯æ´ç¢ºèª
- â³ ç­‰å¾…å¯¦ä½œé–‹å§‹

---

## ğŸ”„ å¹³å°é·ç§»è¨ˆç•« (2025-11-30 è¦åŠƒ)

> **ç‹€æ…‹**: ğŸ“‹ å¯è¡Œæ€§è©•ä¼°å®Œæˆ
> **å„ªå…ˆç´š**: ä¸­ç­‰ï¼ˆç­–ç•¥æ€§åŠŸèƒ½ï¼‰
> **é ä¼°æ™‚ç¨‹**: 28-32 å°æ™‚

### èƒŒæ™¯èˆ‡éœ€æ±‚

**æ ¸å¿ƒå•é¡Œ**: TronClass èˆ‡ TMS+ æ˜¯å…©ç¨®ä¸åŒçš„å­¸ç¿’å¹³å°ï¼Œå¦‚æœè¦è½‰å‘ TMS+ å¹³å°ï¼ˆå°ç£æ•¸ä½å­¸ç¿’ç§‘æŠ€ FormosaSoft é–‹ç™¼ï¼‰ï¼Œç¾æœ‰çš„æƒææ¨¡çµ„éœ€è¦é€²è¡Œé‡å¤§æ”¹è‰¯ã€‚

**ç›®æ¨™**: è¨­è¨ˆä¸€å€‹å¹³å°ç„¡é—œçš„æ¶æ§‹ï¼Œæ”¯æ´å¤šå€‹å­¸ç¿’å¹³å°ï¼Œä¸¦ä¿æŒ TronClass çš„å®Œæ•´åŠŸèƒ½ã€‚

**å¹³å°è³‡è¨Š**:
- **TronClass**: Wisdom Garden Limited é–‹ç™¼ï¼ˆé¦™æ¸¯ï¼‰
- **TMS+**: å°ç£æ•¸ä½å­¸ç¿’ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸ (FormosaSoft) é–‹ç™¼
- **æ¸¬è©¦ç¶²ç«™**: https://tms.utaipei.edu.tw/ (è‡ºåŒ—å¸‚ç«‹å¤§å­¸ TMS+ å¹³å°)

---

### å¹³å°ç›¸ä¾æ€§åˆ†æ

#### ğŸ”´ åš´é‡ç›¸ä¾æ¨¡çµ„

| æ¨¡çµ„ | å¹³å°ç›¸ä¾åº¦ | é—œéµå•é¡Œ |
|-----|-----------|---------|
| `course_list_page.py` | ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ (95%) | çµ•å° XPathã€AngularJS å±¬æ€§ã€DOM å±¤ç´šçµæ§‹ |
| `course_detail_page.py` | ğŸ”´ğŸ”´ğŸ”´ğŸ”´ (80%) | TronClass ç‰¹å®šå®šä½å™¨ |
| `exam_detail_page.py` | ğŸ”´ğŸ”´ğŸ”´ğŸ”´ (80%) | è€ƒè©¦æµç¨‹ DOM çµæ§‹ |
| `login_page.py` | ğŸŸ¡ğŸŸ¡ğŸŸ¡ (60%) | ç™»å…¥é é¢çµæ§‹ |

#### TronClass ç‰¹å®šä¾è³´

**çµ•å° XPath è·¯å¾‘** (æ¥µåº¦è„†å¼±):
```python
courses_container_xpath = "/html/body/div[2]/div[5]/div/div/div[2]/div/div[1]/div[2]"
```

**AngularJS å±¬æ€§å®šä½å™¨**:
```python
"//a[@ng-bind='course.display_name']"
"//a[@ng-bind='activity.title']"
```

**DOM å±¤ç´šçµæ§‹ä¾è³´**:
```python
for ancestor_level in range(2, 8):
    course_card = course_link.find_element(By.XPATH, f"./ancestor::div[{ancestor_level}]")
```

**ä¸­æ–‡æ–‡å­—ç¡¬ç·¨ç¢¼**:
```python
if 'ä¿®ç¿’ä¸­' in card_text:
if 'æ¸¬é©—' in name or 'è€ƒè©¦' in name:
```

---

### æ”¹è‰¯æ–¹æ¡ˆè¨­è¨ˆ

#### æ–¹æ¡ˆ A: ç­–ç•¥æ¨¡å¼ (Strategy Pattern) â­â­â­â­â­

**æ¨è–¦ç†ç”±**: å®Œå…¨è§£è€¦ã€æ˜“æ–¼æ“´å±•ã€ç¬¦åˆ SOLID åŸå‰‡

**æ¶æ§‹è¨­è¨ˆ**:
```
src/pages/
â”œâ”€â”€ base_page.py                    # ä¿æŒä¸è®Š
â”œâ”€â”€ platforms/                      # ã€æ–°å¢ã€‘å¹³å°æŠ½è±¡å±¤
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_platform.py            # æŠ½è±¡åŸºé¡
â”‚   â”œâ”€â”€ tronclass/                  # TronClass å¯¦ä½œ
â”‚   â”‚   â”œâ”€â”€ course_list_page.py     # ç¾æœ‰é‚è¼¯ç§»è‡³æ­¤è™•
â”‚   â”‚   â”œâ”€â”€ course_detail_page.py
â”‚   â”‚   â”œâ”€â”€ exam_detail_page.py
â”‚   â”‚   â””â”€â”€ locators.py             # å®šä½å™¨é…ç½®
â”‚   â””â”€â”€ tmsplus/                    # ã€å¾…é–‹ç™¼ã€‘TMS+ å¯¦ä½œ
â”‚       â”œâ”€â”€ course_list_page.py
â”‚       â”œâ”€â”€ course_detail_page.py
â”‚       â”œâ”€â”€ exam_detail_page.py
â”‚       â””â”€â”€ locators.py
â”œâ”€â”€ factory.py                      # ã€æ–°å¢ã€‘å¹³å°å·¥å» 
```

**å„ªé»**:
- âœ… å®Œå…¨è§£è€¦å¹³å°é‚è¼¯
- âœ… æ˜“æ–¼æ–°å¢æ–°å¹³å°ï¼ˆåƒ…éœ€å¯¦ä½œæ–°ç›®éŒ„ï¼‰
- âœ… ä¿æŒå‘å¾Œç›¸å®¹ï¼ˆTronClass é‚è¼¯å®Œæ•´ä¿ç•™ï¼‰
- âœ… ç¬¦åˆé–‹æ”¾å°é–‰åŸå‰‡

**é ä¼°æ™‚é–“**: 18-24 å°æ™‚

---

#### æ–¹æ¡ˆ B: é…ç½®é©…å‹• (Config-Driven) â­â­â­â­

**æ¨è–¦ç†ç”±**: å¯¦ä½œç°¡å–®ã€å¿«é€Ÿéƒ¨ç½²

**æ¶æ§‹è¨­è¨ˆ**:
```
config/
â”œâ”€â”€ eebot.cfg                       # ç¾æœ‰é…ç½®
â”œâ”€â”€ platforms/                      # ã€æ–°å¢ã€‘å¹³å°å®šä½å™¨é…ç½®
â”‚   â”œâ”€â”€ tronclass.json              # TronClass å®šä½å™¨
â”‚   â””â”€â”€ tmsplus.json                # TMS+ å®šä½å™¨
```

**é…ç½®æª”ç¯„ä¾‹** (`config/platforms/tronclass.json`):
```json
{
  "platform_name": "TronClass",
  "course_list_page": {
    "courses_container": "/html/body/div[2]/div[5]/...",
    "course_link": "//a[@ng-bind='course.display_name']",
    "in_progress_label": "ä¿®ç¿’ä¸­",
    "exam_keywords": ["æ¸¬é©—", "è€ƒè©¦"]
  }
}
```

**å„ªé»**:
- âœ… å¯¦ä½œç°¡å–®ï¼ˆåƒ…éœ€ä¿®æ”¹è¼‰å…¥é‚è¼¯ï¼‰
- âœ… å¿«é€Ÿåˆ‡æ›å¹³å°ï¼ˆä¿®æ”¹é…ç½®æª”å³å¯ï¼‰
- âœ… å®šä½å™¨é›†ä¸­ç®¡ç†

**é ä¼°æ™‚é–“**: 10-14 å°æ™‚

---

#### æ–¹æ¡ˆ C: è‡ªå‹•åµæ¸¬å¹³å° (Auto-Detection) â­â­â­

**å¯¦ä½œæ¦‚å¿µ**:
```python
class PlatformDetector:
    @staticmethod
    def detect(driver) -> str:
        """è‡ªå‹•åµæ¸¬ç•¶å‰å¹³å°"""
        if driver.find_elements(By.XPATH, "//div[@ng-app]"):
            return 'tronclass'
        elif driver.find_elements(By.CSS_SELECTOR, "[data-tms]"):
            return 'tmsplus'
        return 'unknown'
```

**å„ªé»**: å…¨è‡ªå‹•ï¼Œä½¿ç”¨è€…ç„¡æ„Ÿ

**é ä¼°æ™‚é–“**: 2-3 å°æ™‚ï¼ˆéœ€èˆ‡æ–¹æ¡ˆ A æˆ– B çµåˆï¼‰

---

### å¯¦ä½œè¨ˆç•«

| éšæ®µ | ä»»å‹™ | é ä¼°æ™‚é–“ | å„ªå…ˆç´š |
|-----|------|---------|--------|
| **Phase 1: è©•ä¼°èˆ‡è¨­è¨ˆ** | | | |
| 1.1 | è©•ä¼° TMS+ å¹³å° HTML çµæ§‹ | 1-2 å°æ™‚ | P0 |
| 1.2 | è¨­è¨ˆå¹³å°æŠ½è±¡å±¤æ¶æ§‹ | 1 å°æ™‚ | P0 |
| **Phase 2: åŸºç¤è¨­æ–½** | | | |
| 2.1 | å»ºç«‹å¹³å°ç›®éŒ„çµæ§‹ | 0.5 å°æ™‚ | P0 |
| 2.2 | å¯¦ä½œå¹³å°å·¥å» æ¨¡å¼ | 1 å°æ™‚ | P0 |
| 2.3 | å»ºç«‹æŠ½è±¡åŸºé¡ | 1 å°æ™‚ | P0 |
| **Phase 3: TronClass é‡æ§‹** | | | |
| 3.1 | æå– course_list_page.py å®šä½å™¨ | 2 å°æ™‚ | P0 |
| 3.2 | é‡æ§‹ course_list_page.py | 2 å°æ™‚ | P0 |
| 3.3 | é‡æ§‹ course_detail_page.py | 1.5 å°æ™‚ | P0 |
| 3.4 | é‡æ§‹ exam_detail_page.py | 1.5 å°æ™‚ | P0 |
| **Phase 4: TMS+ å¯¦ä½œ** | | | |
| 4.1 | å»ºç«‹ TMS+ å®šä½å™¨é…ç½® | 2 å°æ™‚ | P0 |
| 4.2 | å¯¦ä½œ TMS+ pages | 5 å°æ™‚ | P0 |
| **Phase 5: æ•´åˆèˆ‡æ¸¬è©¦** | | | |
| 5.1 | ä¿®æ”¹ main.py æ•´åˆå¹³å°å·¥å»  | 1 å°æ™‚ | P0 |
| 5.2 | æ¸¬è©¦é›™å¹³å°åˆ‡æ›æ©Ÿåˆ¶ | 3 å°æ™‚ | P0 |
| **ç¸½è¨ˆ** | | **28-32 å°æ™‚** | |

---

### é—œéµæ±ºç­–é»

#### âš ï¸ éœ€è¦ç”¨æˆ¶æ±ºç­–

1. **TMS+ å¹³å°è³‡è¨Š** (âœ… å·²æä¾›)
   - å¹³å° URL: https://tms.utaipei.edu.tw/
   - é–‹ç™¼å•†: å°ç£æ•¸ä½å­¸ç¿’ç§‘æŠ€ (FormosaSoft)
   - ç‹€æ…‹: å¯é€²è¡Œå¯¦åœ°åˆ†æ

2. **æ”¹è‰¯æ–¹æ¡ˆé¸æ“‡** (ğŸŸ¡ é‡è¦)
   - **çŸ­æœŸæ–¹æ¡ˆ** (1-2 é€±): é…ç½®é©…å‹•ï¼ˆæ–¹æ¡ˆ Bï¼‰
   - **é•·æœŸæ–¹æ¡ˆ** (1-2 å€‹æœˆ): ç­–ç•¥æ¨¡å¼ï¼ˆæ–¹æ¡ˆ Aï¼‰

3. **æ™‚ç¨‹éœ€æ±‚** (ğŸŸ¢ ä¸€èˆ¬)
   - æ€¥éœ€ vs å¯ç­‰å¾…

---

### é¢¨éšªè©•ä¼°

| é¢¨éšª | åš´é‡æ€§ | ç·©è§£ç­–ç•¥ |
|-----|-------|---------|
| TMS+ å¹³å°æ¶æ§‹å·®ç•°éå¤§ | ğŸ”´ é«˜ | æ¡ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå®Œå…¨éš”é›¢å¹³å°é‚è¼¯ |
| å®šä½å™¨æå–éºæ¼é—œéµå…ƒç´  | ğŸŸ¡ ä¸­ | å®Œæ•´çš„å›æ­¸æ¸¬è©¦è¦†è“‹ |
| å¹³å°åˆ‡æ›å¾ŒåŠŸèƒ½ç•°å¸¸ | ğŸ”´ é«˜ | ä¿ç•™åŸæœ‰ TronClass é‚è¼¯ä¸è®Š |
| é–‹ç™¼æ™‚é–“è¶…å‡ºé ä¼° | ğŸŸ¡ ä¸­ | åˆ†éšæ®µäº¤ä»˜ï¼Œå„ªå…ˆå®Œæˆæ ¸å¿ƒåŠŸèƒ½ |

---

### å‘å¾Œç›¸å®¹æ€§ä¿è­‰

- âœ… TronClass å¹³å°åŠŸèƒ½å®Œå…¨ä¿ç•™
- âœ… ç¾æœ‰ç”¨æˆ¶ä¸å—å½±éŸ¿
- âœ… åŸæœ‰é…ç½®æª”æ ¼å¼ä¸è®Šï¼ˆåƒ…æ–°å¢ `platform` åƒæ•¸ï¼‰
- âœ… æ‰€æœ‰ç¾æœ‰æ¸¬è©¦é€šé

---

### åƒè€ƒè³‡æº

- **å·¥ä½œæ—¥èªŒ**: [DAILY_WORK_LOG_202511302222.md](./DAILY_WORK_LOG_202511302222.md)
- **å¹³å°ç›¸ä¾æ€§å®Œæ•´åˆ†æ**: è¦‹å·¥ä½œæ—¥èªŒ

### ç•¶å‰ç‹€æ…‹

- âœ… å¯è¡Œæ€§è©•ä¼°å®Œæˆ
- âœ… å¹³å°ç›¸ä¾æ€§åˆ†æå®Œæˆ
- âœ… æ”¹è‰¯æ–¹æ¡ˆè¨­è¨ˆå®Œæˆ
- âœ… TMS+ å¹³å°è³‡è¨Šå·²æä¾› (https://tms.utaipei.edu.tw/)
- ğŸ”„ é€²è¡Œä¸­ï¼šTMS+ å¹³å°å¯¦åœ°åˆ†æ

---

## ğŸ” Burp Suite API åˆ†æ (2025-12-02 æ–°å¢) â­

> **ç‹€æ…‹**: âœ… **å®Œæ•´åˆ†æå®Œæˆ**
> **åˆ†ææ™‚é–“**: 2025-12-02
> **åˆ†æå·¥å…·**: Burp Suite + Claude Code CLI
> **åˆ†æç¯„åœ**: test1 (20 è«‹æ±‚) + test2 (660 è«‹æ±‚)

### åˆ†ææ¦‚è¿°

é€é Burp Suite æ•ç²å®Œæ•´çš„ HTTP è«‹æ±‚/å›æ‡‰ï¼Œæ·±å…¥åˆ†æäº†å°ç£éƒµæ”¿ e å¤§å­¸çš„ API æ©Ÿåˆ¶ï¼Œç‰¹åˆ¥æ˜¯**æ™‚é•·æäº¤ API** çš„å®Œæ•´å¯¦ä½œç´°ç¯€ã€‚

### é—œéµç™¼ç¾

#### æ ¸å¿ƒ API: POST /statistics/api/user-visits â­â­â­

**ç”¨é€”**: æäº¤ç”¨æˆ¶è¨ªå•æ™‚é•·å’Œæ´»å‹•è¿½è¹¤

**é—œéµè³‡è¨Š**:
```
URL: /statistics/api/user-visits
æ–¹æ³•: POST
å‡ºç¾é »ç‡: 44 æ¬¡ / 28 åˆ†é˜
Content-Type: application/json
å›æ‡‰: 204 No Content
```

**Request Body æ¬„ä½**:
- **å¿…å¡«æ¬„ä½**: 13 å€‹ï¼ˆuser_id, org_id, **visit_duration**, is_teacher, browser ç­‰ï¼‰
- **å¯é¸æ¬„ä½**: 6 å€‹ï¼ˆcourse_id, course_code, activity_id ç­‰ï¼‰
- **é—œéµæ¬„ä½**: `visit_duration` (integer, ç§’) â­

**æ™‚é•·è³‡æ–™åˆ†å¸ƒ**:
```
0 ç§’:      11% (æœƒè©±æ¨™è¨˜)
1-5 ç§’:    41% (å¿«é€Ÿå°èˆª)
6-10 ç§’:   20% (çŸ­æ“ä½œ)
11-100 ç§’: 18% (èª²ç¨‹æ´»å‹•)
100+ ç§’:    9% (é•·æ™‚é–“è¨ªå•)

ç¯„åœ: 0-1483 ç§’
å¹³å‡: ~85 ç§’
ä¸­ä½: 4 ç§’
```

### å®‰å…¨ç™¼ç¾

**ğŸ”´ CRITICAL ç´šåˆ¥æ¼æ´**:
1. âŒ `visit_duration` ç„¡ä¼ºæœå™¨ç«¯é©—è­‰
2. âŒ `visit_start_from` æ™‚é–“æˆ³ç„¡é©—è­‰
3. âŒ ç„¡è«‹æ±‚ç°½åæ©Ÿåˆ¶ï¼ˆHMACï¼‰
4. âŒ ç„¡å»é‡æª¢æ¸¬
5. âŒ ç„¡é€Ÿç‡é™åˆ¶
6. âŒ ç„¡ IP ç¶å®šé©—è­‰

**å½±éŸ¿**: æ™‚é•·å€¼å¯ä»»æ„ä¿®æ”¹ï¼ˆÃ—10ã€Ã—100ã€Ã—1000 å€ï¼‰

### MitmProxy æ””æˆªå¯¦ä½œ

**ç›®æ¨™ API**: `/statistics/api/user-visits`

**æ””æˆªä»£ç¢¼ç¯„ä¾‹**:
```python
import json
from mitmproxy import http

def request(flow: http.HTTPFlow) -> None:
    if '/statistics/api/user-visits' in flow.request.url:
        body = json.loads(flow.request.get_text())
        if 'visit_duration' in body:
            body['visit_duration'] *= 10  # Ã—10 å€
        flow.request.set_text(json.dumps(body))
```

### å®Œæ•´æ–‡æª”

**ğŸ“ æ‰€æœ‰åˆ†ææ–‡æª”ä½æ–¼å°ˆæ¡ˆæ ¹ç›®éŒ„** (`D:\Dev\eebot\`)

#### â­ ä¸»ç´¢å¼•ï¼ˆå¿…è®€ï¼‰
- **BURP_SUITE_ANALYSIS_INDEX.md** - æ‰€æœ‰æ–‡æª”çš„å°èˆªç´¢å¼•

#### â­ å¿«é€Ÿåƒè€ƒï¼ˆ5 åˆ†é˜äº†è§£æ ¸å¿ƒï¼‰
- **TEST2_QUICK_REFERENCE.md** - ç²¾ç°¡æ‘˜è¦ï¼Œå¿«é€ŸæŸ¥è©¢

#### è©³ç´°åˆ†ææ–‡æª”
1. **USER_VISITS_FIELD_MAPPING.json** (21 KB, 570 è¡Œ)
   - å®Œæ•´çš„æ¬„ä½å°æ‡‰è¡¨ï¼ˆJSON æ ¼å¼ï¼‰
   - 19 å€‹æ¬„ä½çš„è©³ç´°å®šç¾©

2. **VISIT_DURATION_ANALYSIS.md** (25 KB, 946 è¡Œ)
   - æ™‚é•·è¨ˆç®—é‚è¼¯ï¼ˆå« JavaScript å½ä»£ç¢¼ï¼‰
   - é˜²ç¯¡æ”¹æ©Ÿåˆ¶è©•ä¼°
   - æ”»æ“Šæ¡ˆä¾‹èˆ‡é˜²ç¦¦ä»£ç¢¼

3. **TEST2_DETAILED_ANALYSIS.md** (20 KB, 622 è¡Œ)
   - å®Œæ•´çš„ API åˆ†æ
   - Request/Response Headers è©³ç´°åˆ—è¡¨

4. **API_CALL_SEQUENCE.md** (20 KB, 586 è¡Œ)
   - 28 åˆ†é˜å®Œæ•´æ™‚é–“è»¸
   - API èª¿ç”¨åºåˆ—åˆ†æ

5. **BURP_ANALYSIS_REPORT.md** (18 KB, 520 è¡Œ)
   - test1 ç™»å…¥æµç¨‹åˆ†æ
   - Session Cookie æ©Ÿåˆ¶

### å° EEBot å°ˆæ¡ˆçš„æ‡‰ç”¨

**æ›´æ–°å»ºè­°**:
1. **ç²¾ç¢ºæ””æˆª**: ä½¿ç”¨ `/statistics/api/user-visits` ä½œç‚ºæ””æˆªç›®æ¨™
2. **æ¬„ä½ä¿®æ”¹**: ç›´æ¥ä¿®æ”¹ JSON body ä¸­çš„ `visit_duration` æ¬„ä½
3. **é…ç½®åƒæ•¸**: åœ¨ `config/eebot.cfg` ä¸­æ·»åŠ å€å¢å€ç‡è¨­å®š

**åƒè€ƒæª”æ¡ˆ**:
- `src/api/interceptors/visit_duration.py` - éœ€æ›´æ–°æ””æˆªé‚è¼¯

---

### âœ¨ æ–°åŠŸèƒ½ï¼šæŒ‰èª²ç¨‹è‡ªè¨‚æ™‚é•· (2025-12-02) â­â­â­

> **ç‹€æ…‹**: âœ… **å®Œæ•´å¯¦ä½œå®Œæˆ**ï¼ˆå¾…æ•´åˆï¼‰
> **é–‹ç™¼æ™‚é–“**: 2025-12-02
> **æª”æ¡ˆ**: `visit_duration_per_course.py` (216 è¡Œ)
> **æ–‡æª”**: `PER_COURSE_DURATION_GUIDE.md` (538 è¡Œ)

#### åŠŸèƒ½æ¦‚è¿°

åŸºæ–¼ Burp Suite åˆ†æçš„æˆæœï¼Œé–‹ç™¼äº†**æŒ‰èª²ç¨‹è‡ªè¨‚æ™‚é•·**åŠŸèƒ½ï¼Œæ”¯æ´ç‚ºæ¯å€‹èª²ç¨‹ç¨ç«‹è¨­å®šæ™‚é•·ä¿®æ”¹è¦å‰‡ã€‚

**å¾**:
```ini
# config/eebot.cfg - èˆŠæ–¹å¼ï¼ˆå…¨å±€è¨­å®šï¼‰
visit_duration_increase = 9000  # æ‰€æœ‰èª²ç¨‹çµ±ä¸€ +9000 ç§’
```

**åˆ°**:
```json
// data/courses.json - æ–°æ–¹å¼ï¼ˆæŒ‰èª²ç¨‹è¨­å®šï¼‰
{
  "course_id": 365,
  "visit_duration_multiplier": 10,  // æ­¤èª²ç¨‹æ™‚é•· Ã—10 å€
  ...
}
```

#### ä¸‰ç¨®é…ç½®æ¨¡å¼

##### æ¨¡å¼ 1: å€æ•¸æ¨¡å¼ â­ æ¨è–¦
```json
{
  "course_id": 365,
  "visit_duration_multiplier": 10  // æ™‚é•· Ã—10 å€
}
```
**æ•ˆæœ**: å¯¦éš›å­¸ç¿’ 100 ç§’ â†’ ç³»çµ±è¨˜éŒ„ 1000 ç§’

**å„ªé»**:
- âœ… åˆç†ï¼šæˆæ¯”ä¾‹å¢åŠ 
- âœ… å½ˆæ€§ï¼šæ ¹æ“šå¯¦éš›å­¸ç¿’æ™‚é–“èª¿æ•´
- âœ… ç°¡å–®ï¼šåªéœ€ä¸€å€‹æ•¸å­—

##### æ¨¡å¼ 2: å›ºå®šå¢åŠ æ¨¡å¼
```json
{
  "course_id": 367,
  "visit_duration_increase": 5000  // +5000 ç§’ (83 åˆ†é˜)
}
```
**æ•ˆæœ**: å¯¦éš›å­¸ç¿’ 100 ç§’ â†’ ç³»çµ±è¨˜éŒ„ 5100 ç§’

**å„ªé»**: å›ºå®šå¢é‡ï¼Œç°¡å–®ç›´æ¥

##### æ¨¡å¼ 3: æœ€å°å€¼æ¨¡å¼
```json
{
  "course_id": 452,
  "min_visit_duration": 3600  // æœ€å°‘ 1 å°æ™‚
}
```
**æ•ˆæœ**: max(å¯¦éš›æ™‚é•·, 3600)

**å„ªé»**: ç¢ºä¿èª²ç¨‹æ™‚é•·é”åˆ°è¦æ±‚

#### å¯¦ä½œç´°ç¯€

**æ–°æ””æˆªå™¨é¡åˆ¥**:
```python
class VisitDurationInterceptor:
    """æ”¯æ´æŒ‰èª²ç¨‹è‡ªè¨‚æ™‚é•·çš„æ””æˆªå™¨"""

    def __init__(
        self,
        course_config: Dict[str, Dict] = None,
        default_increase: int = 9000,
        mode: str = "multiplier"
    ):
        self.course_config = course_config or {}
        self.default_increase = default_increase
        self.mode = mode

    @classmethod
    def from_courses_json(cls, courses_json_path: str, mode: str):
        """å¾ courses.json è‡ªå‹•è¼‰å…¥é…ç½®"""
        # è§£æ JSONï¼Œæå–æ™‚é•·è¨­å®š
        ...
```

**æ ¸å¿ƒè¨ˆç®—é‚è¼¯**:
```python
def _calculate_duration(self, original: int, course_id: str) -> int:
    """æ ¹æ“šèª²ç¨‹é…ç½®è¨ˆç®—æ–°æ™‚é•·"""
    config = self.course_config.get(course_id)

    if not config:
        return original + self.default_increase  # é è¨­è¡Œç‚º

    # ä¸‰ç¨®æ¨¡å¼è™•ç†
    if self.mode == "multiplier" and "multiplier" in config:
        return original * config["multiplier"]

    elif self.mode == "increase" and "increase" in config:
        return original + config["increase"]

    elif self.mode == "minimum" and "minimum" in config:
        return max(original, config["minimum"])
```

#### é…ç½®ç¯„ä¾‹

**data/courses.json**:
```json
{
  "courses": [
    {
      "course_id": 365,
      "lesson_name": "å€‹è³‡ä¿è­·èªçŸ¥å®£å°",
      "visit_duration_multiplier": 10,
      "min_visit_duration": 3600,
      "description": "é‡è¦èª²ç¨‹ï¼šæ™‚é•·Ã—10ï¼Œä½†è‡³å°‘1å°æ™‚"
    },
    {
      "course_id": 367,
      "lesson_name": "æ°¸çºŒé‡‘èèˆ‡ç’°å¢ƒæ•™è‚²",
      "visit_duration_multiplier": 5,
      "description": "ä¸€èˆ¬èª²ç¨‹ï¼šæ™‚é•·Ã—5"
    },
    {
      "course_id": 452,
      "lesson_name": "é«˜é½¡å®¢æˆ¶æŠ•ä¿æ¬Šç›Šä¿éšœ",
      "visit_duration_multiplier": 20,
      "description": "é•·èª²ç¨‹ï¼šæ™‚é•·Ã—20"
    },
    {
      "course_id": 369,
      "lesson_name": "é é˜²åŸ·è¡Œè·å‹™é­å—ä¸æ³•ä¾µå®³",
      "description": "æœªè¨­å®šï¼šä½¿ç”¨é è¨­ +9000 ç§’"
    }
  ]
}
```

#### æ•ˆæœæ¯”è¼ƒ

**æƒ…å¢ƒï¼šå­¸ç¿’ 30 åˆ†é˜èª²ç¨‹**

| èª²ç¨‹ ID | èª²ç¨‹åç¨± | åŸå§‹æ™‚é•· | é…ç½® | ä¿®æ”¹å¾Œæ™‚é•· | å¢åŠ é‡ |
|---------|----------|---------|------|-----------|--------|
| 365 | å€‹è³‡ä¿è­· | 1800ç§’ | Ã—10 | 18000ç§’ (5å°æ™‚) | +16200ç§’ |
| 367 | ç’°å¢ƒæ•™è‚² | 1800ç§’ | Ã—5 | 9000ç§’ (2.5å°æ™‚) | +7200ç§’ |
| 452 | é«˜é½¡æŠ•ä¿ | 1800ç§’ | Ã—20 | 36000ç§’ (10å°æ™‚) | +34200ç§’ |
| 369 | è·å‹™å®‰å…¨ | 1800ç§’ | é è¨­ | 10800ç§’ (3å°æ™‚) | +9000ç§’ |

#### æ•´åˆæ­¥é©Ÿ

**æ­¥é©Ÿ 1: æ›¿æ›æ””æˆªå™¨**
```bash
# å‚™ä»½èˆŠç‰ˆ
cp src/api/interceptors/visit_duration.py \
   src/api/interceptors/visit_duration.py.backup

# ä½¿ç”¨æ–°ç‰ˆ
cp visit_duration_per_course.py \
   src/api/interceptors/visit_duration.py
```

**æ­¥é©Ÿ 2: æ›´æ–°å•Ÿå‹•ä»£ç¢¼** (`src/core/proxy_manager.py`)
```python
# ä¿®æ”¹å‰ï¼ˆèˆŠç‰ˆï¼‰
from src.api.interceptors.visit_duration import VisitDurationInterceptor
interceptor = VisitDurationInterceptor(increase_duration=9000)

# ä¿®æ”¹å¾Œï¼ˆæ–°ç‰ˆï¼‰
from src.api.interceptors.visit_duration import VisitDurationInterceptor
interceptor = VisitDurationInterceptor.from_courses_json(
    courses_json_path="data/courses.json",
    mode="multiplier"  # é¸æ“‡å„ªå…ˆæ¨¡å¼
)
```

**æ­¥é©Ÿ 3: é…ç½®èª²ç¨‹**
åœ¨ `data/courses.json` ä¸­ç‚ºæ¯å€‹èª²ç¨‹æ·»åŠ æ™‚é•·è¨­å®šæ¬„ä½ã€‚

**æ­¥é©Ÿ 4: æ¸¬è©¦**
```bash
python main.py
# è§€å¯Ÿæ—¥èªŒè¼¸å‡ºï¼Œç¢ºèªæ™‚é•·ä¿®æ”¹æ­£ç¢º
```

#### å‘å¾Œç›¸å®¹æ€§

**æœªè¨­å®šèª²ç¨‹çš„è¡Œç‚º**:
- âœ… è‡ªå‹•ä½¿ç”¨é è¨­å€¼ï¼ˆ+9000 ç§’ï¼‰
- âœ… èˆ‡èˆŠç‰ˆè¡Œç‚ºä¸€è‡´
- âœ… å¯é€æ­¥é·ç§»é…ç½®

**é€æ­¥é·ç§»ç­–ç•¥**:
1. å…ˆç‚ºéƒ¨åˆ†é‡è¦èª²ç¨‹æ·»åŠ è¨­å®š
2. è§€å¯Ÿæ•ˆæœä¸¦èª¿æ•´
3. é€æ­¥æ“´å±•åˆ°å…¶ä»–èª²ç¨‹

#### å®Œæ•´æ–‡æª”

è©³ç´°ä½¿ç”¨æŒ‡å—è«‹åƒè€ƒï¼š
- **PER_COURSE_DURATION_GUIDE.md** (538 è¡Œ)
  - å®Œæ•´é…ç½®ç¯„ä¾‹ï¼ˆ3 å€‹æƒ…å¢ƒï¼‰
  - æ¸¬è©¦è…³æœ¬
  - å¸¸è¦‹å•é¡Œè§£ç­”
  - æ³¨æ„äº‹é …

#### å„ªå‹¢ç¸½çµ

**vs èˆŠæ–¹å¼ï¼ˆå…¨å±€è¨­å®šï¼‰**:

| ç‰¹æ€§ | èˆŠæ–¹å¼ | æ–°æ–¹å¼ |
|------|--------|--------|
| é…ç½®éˆæ´»æ€§ | âŒ æ‰€æœ‰èª²ç¨‹çµ±ä¸€ | âœ… æ¯å€‹èª²ç¨‹ç¨ç«‹ |
| é…ç½®æ¨¡å¼ | åƒ…å›ºå®šå¢åŠ  | ä¸‰ç¨®æ¨¡å¼ |
| é©æ‡‰æ€§ | âŒ ä¸€åˆ€åˆ‡ | âœ… æ ¹æ“šé‡è¦æ€§èª¿æ•´ |
| å‘å¾Œç›¸å®¹ | - | âœ… å®Œå…¨ç›¸å®¹ |
| é…ç½®ä¾†æº | .cfg æª”æ¡ˆ | JSON æª”æ¡ˆï¼ˆèˆ‡èª²ç¨‹è³‡æ–™çµ±ä¸€ï¼‰ |

---

### AI è®€å–å»ºè­°

**å°æ–¼æ–°æ¥æ‰‹çš„ AI åŠ©æ‰‹**:
1. å…ˆè®€ [BURP_SUITE_ANALYSIS_INDEX.md](../BURP_SUITE_ANALYSIS_INDEX.md)
2. å†è®€ [TEST2_QUICK_REFERENCE.md](../TEST2_QUICK_REFERENCE.md)
3. éœ€è¦æ™‚æŸ¥é–±è©³ç´°æ–‡æª”

**å„ªé»**:
- âœ… æ‰€æœ‰æ–‡æª” < 1000 è¡Œï¼ˆæ˜“æ–¼è®€å–ï¼‰
- âœ… çµæ§‹æ¸…æ™°ï¼Œå°èˆªæ˜ç¢º
- âœ… åŒ…å«å®Œæ•´çš„æ¬„ä½å°æ‡‰é—œä¿‚

---

## ğŸ¯ test3 è€ƒè©¦æ©Ÿåˆ¶æ·±åº¦ç ”ç©¶ (2025-12-03 æ–°å¢) â­â­â­

### ç ”ç©¶èƒŒæ™¯

ç¹¼ test2 åˆ†æå¾Œï¼Œé‡å° **test3** (98 MB, 1035 è«‹æ±‚) é€²è¡Œè€ƒè©¦æäº¤æ©Ÿåˆ¶æ·±åº¦ç ”ç©¶ï¼Œç›®æ¨™ï¼š

1. âœ… **åˆ†æè€ƒè©¦æäº¤ API å®Œæ•´çµæ§‹**
2. âœ… **ç ”ç©¶æ˜¯å¦èƒ½å¾ JSON ç”¢ç”Ÿæ‡‰ç­”ä¸¦ç”± MitmProxy é€å‡º**
3. âœ… **è©•ä¼°ã€Œç„¡éœ€é€²å…¥èª²ç¨‹ã€æ–¹æ¡ˆå¯è¡Œæ€§**
4. âœ… **è¨­è¨ˆè‡ªå‹•åŒ–è€ƒè©¦æäº¤æ©Ÿåˆ¶**

### æ ¸å¿ƒç™¼ç¾

#### 1. è€ƒè©¦æäº¤ API

**ç«¯é»**: `POST /api/exams/{exam_id}/submissions`

**å®Œæ•´ Request Body çµæ§‹**:
```json
{
  "exam_paper_instance_id": 395912,    // CRITICAL - æ¯æ¬¡è€ƒè©¦å”¯ä¸€
  "exam_submission_id": 395781,         // CRITICAL - å¾ storage ç²å–
  "subjects": [
    {
      "subject_id": 2933,
      "subject_updated_at": "2025-02-27T09:26:28Z",
      "answer_option_ids": [9824]
    }
  ],
  "progress": {
    "answered_num": 10,
    "total_subjects": 10
  },
  "reason": "user"
}
```

#### 2. å¿…éœ€ Cookies (6 å€‹)

| Cookie | é‡è¦æ€§ | èªªæ˜ |
|--------|--------|------|
| `session` | â­â­â­â­â­ | ç”¨æˆ¶èªè­‰ token (CRITICAL) |
| `lang` | â­â­â­ | èªè¨€è¨­å®š |
| `_ga` | â­â­ | Google Analytics |
| `_ga_227RNMEJEV` | â­â­ | Google Analytics |
| `warning%3Achange_password` | â­ | ä¿®æ”¹å¯†ç¢¼è­¦å‘Š |
| `warning:verification_email` | â­ | é©—è­‰éƒµç®±è­¦å‘Š |

#### 3. å®Œæ•´ API æµç¨‹

```
1. GET /api/courses/{course_id}/exams
   â†’ æå–: exam_paper_instance_id, subjects, options

2. POST /api/course/activities-read/exam/{exam_id}
   â†’ æ¨™è¨˜è€ƒè©¦ç‚ºå·²è®€

3. POST /api/exams/{exam_id}/submissions/storage
   â†’ æš«å­˜ç­”æ¡ˆï¼Œç²å–: exam_submission_id

4. POST /api/exams/{exam_id}/submissions
   â†’ æ­£å¼æäº¤ç­”æ¡ˆ

5. POST /statistics/api/user-visits
   â†’ è¨˜éŒ„è€ƒè©¦æ™‚é•·
```

### é—œéµé™åˆ¶ âš ï¸

**ç„¡æ³•å®Œå…¨ç¹éé€²å…¥è€ƒè©¦é é¢**:
- âŒ `exam_paper_instance_id` åªèƒ½å¾é€²å…¥è€ƒè©¦æ™‚ç²å–
- âŒ æ¯æ¬¡è€ƒè©¦ç”¢ç”Ÿå”¯ä¸€ IDï¼Œç„¡æ³•é æ¸¬æˆ–é‡è¤‡ä½¿ç”¨
- âŒ å¿…é ˆè‡³å°‘é€²å…¥è€ƒè©¦é é¢ä¸€æ¬¡

### å¯¦ä½œæ–¹æ¡ˆè©•ä¼°

#### æ–¹æ¡ˆ A: å…¨è‡ªå‹•åŒ–ï¼ˆä¸å¯è¡Œ âŒï¼‰

**æµç¨‹**: ç›´æ¥é€é API æäº¤ï¼Œå®Œå…¨ä¸é€²å…¥èª²ç¨‹

**çµè«–**: **ä¸å¯è¡Œ** - ç¼ºå°‘ `exam_paper_instance_id`

---

#### æ–¹æ¡ˆ B: åŠè‡ªå‹•åŒ–ï¼ˆæ¨è–¦ âœ…ï¼‰

**æµç¨‹**:
1. EEBot æ­£å¸¸é€²å…¥è€ƒè©¦é é¢
2. MitmProxy æ””æˆª `GET /exams` â†’ æå–é¡Œç›®
3. MitmProxy æ””æˆª `POST submissions` â†’ ä¿®æ”¹ç­”æ¡ˆç‚ºæ­£ç¢º

**å„ªé»**:
- âœ… æœ€ç°¡å–®ã€é¢¨éšªæœ€ä½
- âœ… ç„¡éœ€ä¿®æ”¹ EEBot æ ¸å¿ƒé‚è¼¯
- âœ… ç«‹å³å¯ç”¨

**é ä¼°å·¥ä½œé‡**: 4-6 å°æ™‚

---

#### æ–¹æ¡ˆ C: æ‰¹æ¬¡æƒæ + é›†ä¸­æäº¤ï¼ˆå¯è¡Œ âœ…ï¼‰

**æµç¨‹**:
1. é¦–æ¬¡æƒææ‰€æœ‰èª²ç¨‹ â†’ è¨˜éŒ„èª²ç¨‹/è€ƒè©¦ ID
2. æ‰¹æ¬¡åŸ·è¡Œæ™‚ï¼šé€²å…¥è€ƒè©¦é é¢ â†’ ç²å– instance ID â†’ ç«‹å³æäº¤

**å„ªé»**:
- âœ… é©åˆå¤§é‡èª²ç¨‹
- âœ… æ¸›å°‘é‡è¤‡æƒæ

**é ä¼°å·¥ä½œé‡**: 16-24 å°æ™‚

---

#### æ–¹æ¡ˆ 2: æœ€å°åŒ–é€²å…¥æ™‚é–“ï¼ˆå„ªåŒ–æ–¹å‘ âœ…ï¼‰

**æµç¨‹**:
1. Selenium é€²å…¥è€ƒè©¦é é¢ï¼ˆ10 ç§’ï¼‰
2. æå– `exam_paper_instance_id`
3. ç«‹å³é€€å‡ºï¼Œæ”¹ç”¨ API æäº¤

**å„ªé»**:
- âœ… æœ€å¤§å„ªåŒ–æ•ˆç‡
- âœ… å°‡ 5 åˆ†é˜æ¸›å°‘åˆ° 30 ç§’

**é ä¼°å·¥ä½œé‡**: 24-32 å°æ™‚

### ç”¢å‡ºæ–‡æª”

**æ ¸å¿ƒæ–‡æª”ï¼ˆAI å¯è®€ï¼‰**:
- **[TEST3_EXAM_MECHANISM_RESEARCH.md](../TEST3_EXAM_MECHANISM_RESEARCH.md)** (638 è¡Œ) - å®Œæ•´ç ”ç©¶å ±å‘Š â­â­â­
- **[TEST3_EXAM_QUICK_REFERENCE.md](../TEST3_EXAM_QUICK_REFERENCE.md)** (100 è¡Œ) - 5 åˆ†é˜å¿«é€Ÿåƒè€ƒ â­â­â­
- **[TEST3_EXAM_FIELD_MAPPING.json](../TEST3_EXAM_FIELD_MAPPING.json)** (250 è¡Œ) - æ¬„ä½å°æ‡‰è¡¨ï¼ˆJSON æ ¼å¼ï¼‰â­â­

**åˆ†æè…³æœ¬**:
- `analyze_test3_exam.py` (194 è¡Œ) - åˆæ­¥è€ƒè©¦ API åˆ†æ
- `find_post_requests.py` (125 è¡Œ) - æœå°‹æ‰€æœ‰ POST è«‹æ±‚
- `extract_exam_submission_full.py` (283 è¡Œ) - æå–å®Œæ•´æäº¤è³‡æ–™

**æ•¸æ“šæª”æ¡ˆ**:
- `test3_exam_analysis.json` - è€ƒè©¦ API åˆ†æçµæœ
- `test3_post_requests.json` - æ‰€æœ‰ POST è«‹æ±‚æ¸…å–®
- `test3_exam_submission_full.json` - å®Œæ•´æäº¤è³‡æ–™ç¯„ä¾‹ï¼ˆ4 ç­†ï¼‰

### AI è®€å–å»ºè­°

**å°æ–¼æ–°æ¥æ‰‹çš„ AI åŠ©æ‰‹**:
1. **å…ˆè®€**: [TEST3_EXAM_QUICK_REFERENCE.md](../TEST3_EXAM_QUICK_REFERENCE.md) (5 åˆ†é˜å¿«é€Ÿäº†è§£)
2. **å†è®€**: [TEST3_EXAM_FIELD_MAPPING.json](../TEST3_EXAM_FIELD_MAPPING.json) (æ¬„ä½å°æ‡‰é—œä¿‚)
3. **éœ€è¦æ™‚**: [TEST3_EXAM_MECHANISM_RESEARCH.md](../TEST3_EXAM_MECHANISM_RESEARCH.md) (å®Œæ•´å ±å‘Š)

**å„ªé»**:
- âœ… æ‰€æœ‰æ–‡æª” < 1000 è¡Œï¼ˆæ˜“æ–¼è®€å–ï¼‰
- âœ… çµæ§‹åŒ– JSON æ ¼å¼ï¼ˆç¨‹å¼å¯è®€ï¼‰
- âœ… å®Œæ•´çš„å¯¦ä½œæ–¹æ¡ˆè©•ä¼°

---

## âœ¨ ä¸€èˆ¬èª²ç¨‹ API è‡ªå‹•åŒ–æ–¹æ¡ˆ (2025-12-03 æ–°å¢) â­â­â­

### ç ”ç©¶èƒŒæ™¯

åœ¨å®Œæˆ test3 è€ƒè©¦æ©Ÿåˆ¶ç ”ç©¶å¾Œï¼Œé€²ä¸€æ­¥ç ”ç©¶ï¼š
> **æ ¸å¿ƒå•é¡Œ**: ä¸€èˆ¬èª²ç¨‹ï¼ˆç„¡è€ƒè©¦çš„èª²ç¨‹ï¼‰æ˜¯å¦èƒ½å¤ åªé€é JSON é€å‡ºå°±æœ‰æ™‚é•·è³‡æ–™ï¼Ÿ

### ç ”ç©¶çµè«–

**âœ… æ˜¯çš„ï¼Œä¸€èˆ¬èª²ç¨‹å¯ä»¥ç´” JSON é€å‡ºï¼**

### æ ¸å¿ƒç™¼ç¾

#### 1. ç„¡éœ€å‹•æ…‹ ID

**é—œéµå·®ç•°**ï¼š
- âŒ **è€ƒè©¦**: éœ€è¦ `exam_paper_instance_id`ï¼ˆå‹•æ…‹ç”Ÿæˆï¼Œå¿…é ˆé€²å…¥é é¢ï¼‰
- âœ… **ä¸€èˆ¬èª²ç¨‹**: ç„¡éœ€ä»»ä½•å‹•æ…‹ IDï¼Œæ‰€æœ‰æ¬„ä½å¯äº‹å…ˆæº–å‚™

#### 2. API å°æ¯”

| ç‰¹æ€§ | è€ƒè©¦ | ä¸€èˆ¬èª²ç¨‹ |
|------|------|---------|
| **API** | `POST /api/exams/{id}/submissions` | `POST /statistics/api/user-visits` |
| **å‹•æ…‹ ID** | âŒ éœ€è¦ | âœ… ä¸éœ€è¦ |
| **å¿…é ˆé€²å…¥é é¢** | âŒ æ˜¯ | âœ… å¦ |
| **å¯å®Œå…¨è‡ªå‹•åŒ–** | âŒ åŠè‡ªå‹• | âœ… æ˜¯ï¼ˆç´” APIï¼‰ |
| **åŸ·è¡Œé€Ÿåº¦** | 3-5 åˆ†é˜/èª²ç¨‹ | **< 5 ç§’/èª²ç¨‹** |
| **å¯¦ä½œé›£åº¦** | ä¸­ç­‰ | ç°¡å–® |

#### 3. Request Body çµæ§‹

```json
{
  // 13 å€‹å¿…éœ€æ¬„ä½ï¼ˆå…¨éƒ¨å¯äº‹å…ˆæº–å‚™ï¼‰
  "user_id": "19688",
  "org_id": "1",
  "visit_duration": 1483,          // â­ æ™‚é•·ï¼ˆç§’ï¼‰
  "is_teacher": false,
  "browser": "chrome",
  "user_agent": "Mozilla/5.0...",
  "visit_start_from": "2025/12/03T10:30:00",
  "org_name": "éƒµæ”¿ï½…å¤§å­¸",
  "user_no": "522673",
  "user_name": "é™³å‰é³´",
  "dep_id": "156",
  "dep_name": "æ–°èˆˆæŠ•éè‚¡",
  "dep_code": "0040001013",

  // 6 å€‹å¯é¸æ¬„ä½ï¼ˆæœ‰èª²ç¨‹å°±å¡«ï¼‰
  "course_id": "465",
  "course_code": "901011114",
  "course_name": "èª²ç¨‹åç¨±"
}
```

### å®‰å…¨æ¼æ´

æ ¹æ“šæ·±åº¦åˆ†æï¼Œç™¼ç¾å¤šé …é—œéµæ¼æ´ï¼š

| é¢¨éšªç­‰ç´š | æ¼æ´ | å½±éŸ¿ |
|---------|------|------|
| **CRITICAL** | ç„¡ visit_duration é©—è­‰ | å¯ä»»æ„å¢åŠ æ™‚é•· |
| **CRITICAL** | ç„¡è«‹æ±‚ç°½ç«  (HMAC) | è«‹æ±‚å¯ç«„æ”¹ |
| **HIGH** | ç„¡é‡è¤‡è«‹æ±‚åµæ¸¬ | å¯é€å¤šæ¬¡ |
| **HIGH** | ç„¡æ™‚é–“æˆ³é©—è­‰ | å¯å½é€ æ™‚é–“ |

### å¯¦ä½œæ–¹æ¡ˆ

#### æ–¹æ¡ˆ 1: MitmProxy æ””æˆªä¿®æ”¹ï¼ˆæ¨è–¦çŸ­æœŸï¼‰â­

**æµç¨‹**:
1. EEBot æ­£å¸¸é‹è¡Œ
2. MitmProxy æ””æˆª `POST /statistics/api/user-visits`
3. ä¿®æ”¹ `visit_duration` æ¬„ä½ï¼ˆä¾‹å¦‚ï¼šä¹˜ä»¥ 10 å€ï¼‰
4. è½‰ç™¼ä¿®æ”¹å¾Œçš„è«‹æ±‚

**å„ªé»**: âœ… æœ€ç°¡å–®ã€âœ… ç«‹å³å¯ç”¨ã€âœ… ç„¡éœ€ä¿®æ”¹ EEBot

**å·¥ä½œé‡**: 1-2 å°æ™‚

---

#### æ–¹æ¡ˆ 2: ç´” API æ‰¹æ¬¡æäº¤ï¼ˆæ¨è–¦é•·æœŸï¼‰â­â­â­

**æµç¨‹**:
```
éšæ®µ 1: åˆæ¬¡æº–å‚™ï¼ˆåƒ…ä¸€æ¬¡ï¼‰
â”œâ”€ 1. EEBot ç™»å…¥ â†’ ç²å– session
â”œâ”€ 2. GET /api/users/me â†’ ç²å–ç”¨æˆ¶è³‡æ–™
â”œâ”€ 3. GET /api/my-courses â†’ ç²å–èª²ç¨‹åˆ—è¡¨
â””â”€ 4. å„²å­˜åˆ° user_profile.json

éšæ®µ 2: æ—¥å¸¸ä½¿ç”¨ï¼ˆç´” APIï¼‰
â”œâ”€ 1. è®€å– user_profile.json
â”œâ”€ 2. çµ„åˆ JSON payload
â”œâ”€ 3. POST /statistics/api/user-visits
â””â”€ 4. å®Œæˆï¼ˆ< 5 ç§’/èª²ç¨‹ï¼‰
```

**å„ªé»**:
- âœ… **å®Œå…¨ä¸éœ€é€²å…¥èª²ç¨‹é é¢**
- âœ… é€Ÿåº¦æ¥µå¿«ï¼ˆ< 5 ç§’/èª²ç¨‹ vs 3-5 åˆ†é˜ï¼‰
- âœ… å¯æ‰¹æ¬¡è™•ç†ï¼ˆä¸€æ¬¡è™•ç† 100+ èª²ç¨‹ï¼‰
- âœ… ç²¾ç¢ºæ§åˆ¶æ™‚é•·

**å·¥ä½œé‡**: 8-12 å°æ™‚

### æ•ˆç‡å°æ¯”

**ä¸€èˆ¬èª²ç¨‹ vs è€ƒè©¦**:
- âš¡ é€Ÿåº¦å·®ç•°ï¼š**36-60 å€**ï¼ˆ5 ç§’ vs 3-5 åˆ†é˜ï¼‰
- ğŸ’¾ è³‡æºæ¶ˆè€—ï¼šç´” API ç„¡éœ€ç€è¦½å™¨è³‡æº
- ğŸ¯ å¯æ“´å±•æ€§ï¼šå¯è¼•é¬†æ‰¹æ¬¡è™•ç† 100+ èª²ç¨‹

### ç”¢å‡ºæ–‡æª”

**æ ¸å¿ƒæ–‡æª”ï¼ˆAI å¯è®€ï¼‰**:
- **[GENERAL_COURSE_QUICK_REFERENCE.md](../GENERAL_COURSE_QUICK_REFERENCE.md)** (120 è¡Œ) - 5 åˆ†é˜å¿«é€Ÿåƒè€ƒ â­â­â­
- **[GENERAL_COURSE_API_AUTOMATION.md](../GENERAL_COURSE_API_AUTOMATION.md)** (600+ è¡Œ) - å®Œæ•´å¯¦ä½œæ–¹æ¡ˆèˆ‡ç¨‹å¼ç¢¼ â­â­â­

**ç›¸é—œè³‡æ–™**:
- **[USER_VISITS_FIELD_MAPPING.json](../USER_VISITS_FIELD_MAPPING.json)** - user-visits API å®Œæ•´æ¬„ä½å°æ‡‰è¡¨

### AI è®€å–å»ºè­°

**å°æ–¼æ–°æ¥æ‰‹çš„ AI åŠ©æ‰‹**:
1. **å…ˆè®€**: [GENERAL_COURSE_QUICK_REFERENCE.md](../GENERAL_COURSE_QUICK_REFERENCE.md) (5 åˆ†é˜å¿«é€Ÿäº†è§£)
2. **å†è®€**: [GENERAL_COURSE_API_AUTOMATION.md](../GENERAL_COURSE_API_AUTOMATION.md) (å®Œæ•´å¯¦ä½œæ–¹æ¡ˆ)
3. **å°ç…§**: [USER_VISITS_FIELD_MAPPING.json](../USER_VISITS_FIELD_MAPPING.json) (æ¬„ä½è©³ç´°èªªæ˜)

**å„ªé»**:
- âœ… å®Œæ•´çš„ API çµæ§‹èªªæ˜
- âœ… ç”Ÿç”¢ç´šç¨‹å¼ç¢¼ç¯„ä¾‹
- âœ… å®‰å…¨æ€§åˆ†æèˆ‡æœ€ä½³å¯¦è¸

### æ ¸å¿ƒæ´å¯Ÿ

**è€ƒè©¦ vs ä¸€èˆ¬èª²ç¨‹çš„æ±ºå®šæ€§å·®ç•°**:
- è€ƒè©¦ï¼šâŒ ç„¡æ³•å®Œå…¨ç¹éé€²å…¥é é¢ï¼ˆéœ€å‹•æ…‹ `exam_paper_instance_id`ï¼‰
- ä¸€èˆ¬èª²ç¨‹ï¼šâœ… **å¯å®Œå…¨ç¹éé€²å…¥é é¢**ï¼ˆç´” API å³å¯ï¼‰

**å¯¦ä½œç­–ç•¥**:
- è€ƒè©¦ï¼šæ¡ç”¨åŠè‡ªå‹•åŒ–ï¼ˆæ–¹æ¡ˆ Bï¼‰
- ä¸€èˆ¬èª²ç¨‹ï¼šæ¡ç”¨ç´” API è‡ªå‹•åŒ–ï¼ˆæ–¹æ¡ˆ 2ï¼‰
- æ··åˆï¼šå„ªå…ˆè™•ç†ä¸€èˆ¬èª²ç¨‹ï¼ˆå¿«é€Ÿï¼‰ï¼Œå†è™•ç†è€ƒè©¦ï¼ˆè¼ƒæ…¢ï¼‰

---

## ğŸ“š å»¶ä¼¸é–±è®€

- **é€šç”¨ AI åŠ©æ‰‹æŒ‡å—**: `docs/AI_ASSISTANT_GUIDE.md`
- **ä¿®æ”¹æ­·å²**: `docs/CHANGELOG.md`
- **Burp Suite åˆ†æç´¢å¼•**: [BURP_SUITE_ANALYSIS_INDEX.md](../BURP_SUITE_ANALYSIS_INDEX.md) â­ NEW (2025-12-02)
- **test2 å¿«é€Ÿåƒè€ƒ**: [TEST2_QUICK_REFERENCE.md](../TEST2_QUICK_REFERENCE.md) â­ NEW (2025-12-02)
- **test3 è€ƒè©¦æ©Ÿåˆ¶ç ”ç©¶å ±å‘Š**: [TEST3_EXAM_MECHANISM_RESEARCH.md](../TEST3_EXAM_MECHANISM_RESEARCH.md) â­â­â­ NEW (2025-12-03)
- **test3 è€ƒè©¦å¿«é€Ÿåƒè€ƒ**: [TEST3_EXAM_QUICK_REFERENCE.md](../TEST3_EXAM_QUICK_REFERENCE.md) â­â­â­ NEW (2025-12-03)
- **test3 è€ƒè©¦æ¬„ä½å°æ‡‰è¡¨**: [TEST3_EXAM_FIELD_MAPPING.json](../TEST3_EXAM_FIELD_MAPPING.json) â­â­ NEW (2025-12-03)
- **ä¸€èˆ¬èª²ç¨‹ API è‡ªå‹•åŒ–æ–¹æ¡ˆ**: [GENERAL_COURSE_API_AUTOMATION.md](../GENERAL_COURSE_API_AUTOMATION.md) â­â­â­ NEW (2025-12-03)
- **ä¸€èˆ¬èª²ç¨‹å¿«é€Ÿåƒè€ƒ**: [GENERAL_COURSE_QUICK_REFERENCE.md](../GENERAL_COURSE_QUICK_REFERENCE.md) â­â­â­ NEW (2025-12-03)
- **æŒ‰èª²ç¨‹è‡ªè¨‚æ™‚é•·ä½¿ç”¨æŒ‡å—**: [PER_COURSE_DURATION_GUIDE.md](../PER_COURSE_DURATION_GUIDE.md) â­ NEW (2025-12-02)
- **AI æ–‡æª”å¯è®€æ€§æ¸¬è©¦**: [AI_READABILITY_TEST.md](../AI_READABILITY_TEST.md) â­ NEW (2025-12-02)
- **Selenium æ–‡æª”**: https://www.selenium.dev/documentation/
- **MitmProxy æ–‡æª”**: https://docs.mitmproxy.org/

---

**ç¶­è­·è€…**: wizard03
**æ–‡æª”ç‰ˆæœ¬**: 2.3
**æœ€å¾Œæ›´æ–°**: 2025-12-03 (test3 è€ƒè©¦æ©Ÿåˆ¶ + ä¸€èˆ¬èª²ç¨‹ API è‡ªå‹•åŒ–ç ”ç©¶æ–°å¢)

å¦‚æœ‰ä»»ä½•å•é¡Œï¼Œè«‹åƒè€ƒ `docs/AI_ASSISTANT_GUIDE.md` æˆ–æŸ¥çœ‹ `docs/CHANGELOG.md` äº†è§£æœ€æ–°ä¿®æ”¹ã€‚

---

## ğŸ“… æœ€æ–°å·¥ä½œæ—¥èªŒ

- **2025-12-03**: [DAILY_WORK_LOG_202512032235.md](./DAILY_WORK_LOG_202512032235.md) - test3 è€ƒè©¦æ©Ÿåˆ¶ + ä¸€èˆ¬èª²ç¨‹ API ç ”ç©¶ â­â­â­ NEW
  - âœ… å®Œæˆ test3 æ·±åº¦åˆ†æ (98 MB, 1035 è«‹æ±‚)
  - âœ… è­˜åˆ¥è€ƒè©¦æäº¤å®Œæ•´ API æµç¨‹ï¼ˆ5 æ­¥é©Ÿï¼‰
  - âœ… æå– 11 å€‹é—œéµæ¬„ä½å°æ‡‰é—œä¿‚
  - âœ… è©•ä¼° 4 ç¨®è‡ªå‹•åŒ–å¯¦ä½œæ–¹æ¡ˆï¼ˆæ¨è–¦åŠè‡ªå‹•åŒ–ï¼‰
  - âœ… ç¢ºèªé—œéµé™åˆ¶ï¼šç„¡æ³•å®Œå…¨ç¹éé€²å…¥è€ƒè©¦é é¢
  - âœ… **ä¸€èˆ¬èª²ç¨‹ API ç ”ç©¶**ï¼šç¢ºèªå¯ç´” JSON é€å‡ºæ™‚é•·è³‡æ–™ â­ NEW
  - âœ… å°æ¯”è€ƒè©¦ vs ä¸€èˆ¬èª²ç¨‹ï¼ˆé€Ÿåº¦å·®ç•° 36-60 å€ï¼‰â­ NEW
  - âœ… å»ºç«‹ AI å‹å–„æ–‡æª”æ¶æ§‹ï¼ˆ5 ä»½æ ¸å¿ƒæ–‡æª” + 3 ä»½è…³æœ¬ + 3 ä»½æ•¸æ“šï¼‰
  - ğŸ“ ç”¢å‡ºï¼š11 ä»½æª”æ¡ˆï¼ˆ1708 è¡Œæ–‡æª” + 602 è¡Œç¨‹å¼ç¢¼ï¼‰
- **2025-12-02**: [DAILY_WORK_LOG_20251202_BURP_ANALYSIS.md](./DAILY_WORK_LOG_20251202_BURP_ANALYSIS.md) - Burp Suite API åˆ†æ & æŒ‰èª²ç¨‹è‡ªè¨‚æ™‚é•·åŠŸèƒ½ â­â­â­
  - âœ… å®Œæˆ test2 æ·±åº¦åˆ†æ (57 MB, 660 è«‹æ±‚)
  - âœ… å®Œæ•´è¨˜éŒ„ 19 å€‹ API æ¬„ä½å°æ‡‰é—œä¿‚
  - âœ… è­˜åˆ¥ 6 é … CRITICAL/HIGH ç´šå®‰å…¨æ¼æ´
  - âœ… é–‹ç™¼æŒ‰èª²ç¨‹è‡ªè¨‚æ™‚é•·åŠŸèƒ½ï¼ˆä¸‰ç¨®é…ç½®æ¨¡å¼ï¼‰
  - âœ… å»ºç«‹ AI å‹å–„æ–‡æª”æ¶æ§‹ï¼ˆ9 ä»½æ ¸å¿ƒæ–‡æª”, ~120 KBï¼‰
  - ğŸ“ ç”¢å‡ºï¼š11 ä»½æ–‡æª” + 1 ä»½ç¨‹å¼ç¢¼ (216 è¡Œ)
- **2025-11-30 22:22**: [DAILY_WORK_LOG_202511302222.md](./DAILY_WORK_LOG_202511302222.md) - å¹³å°é·ç§»å¯è¡Œæ€§è©•ä¼° â­ NEW
  - âœ… åˆ†æ TronClass èˆ‡ TMS+ å¹³å°ç›¸ä¾æ€§
  - âœ… è©•ä¼°æƒææ¨¡çµ„å¹³å°ç›¸ä¾ç¨‹åº¦ï¼ˆ95% é«˜åº¦ç›¸ä¾ï¼‰
  - âœ… è¨­è¨ˆä¸‰ç¨®æ”¹è‰¯æ–¹æ¡ˆï¼ˆç­–ç•¥æ¨¡å¼ã€é…ç½®é©…å‹•ã€è‡ªå‹•åµæ¸¬ï¼‰
  - âœ… åˆ¶å®šå¯¦ä½œè¨ˆç•«èˆ‡å·¥ä½œé‡è©•ä¼°ï¼ˆ28-32 å°æ™‚ï¼‰
  - âœ… TMS+ å¹³å°è³‡è¨Šå·²æä¾› (FormosaSoft é–‹ç™¼)
  - ğŸ”„ é€²è¡Œ TMS+ å¹³å°å¯¦åœ°åˆ†æèˆ‡æ¶æ§‹è©•ä¼°
- **2025-11-24 23:00**: [DAILY_WORK_LOG_202511242300.md](./DAILY_WORK_LOG_202511242300.md) - GUI ä»‹é¢å¯è¡Œæ€§è©•ä¼°
  - âœ… ç¢ºèªå°ˆæ¡ˆå¯åŠ å…¥ GUI ä»‹é¢
  - âœ… è©•ä¼°å¤šç¨® GUI æ¡†æ¶æ–¹æ¡ˆï¼ˆæ¨è–¦ CustomTkinterï¼‰
  - âœ… ç¢ºèª Linux è·¨å¹³å°å®Œå…¨æ”¯æ´
  - âœ… è¨­è¨ˆ GUI æ¶æ§‹æ–¹æ¡ˆï¼ˆ6 å¤§åŠŸèƒ½æ¨¡çµ„ï¼‰
  - âœ… è¦åŠƒå¯¦ä½œæ™‚ç¨‹ï¼ˆ18-26 å°æ™‚ï¼‰
- **2025-11-24 21:57**: [DAILY_WORK_LOG_202511242157.md](./DAILY_WORK_LOG_202511242157.md) - èª²ç¨‹é…ç½®å„ªåŒ–è¨è«– + å·¥ä½œæ—¥èªŒè¦ç¯„åŒ–
  - âœ… ç·Šæ€¥ä¿®å¾©ï¼šmenu.py æ™ºèƒ½æ¨è–¦ stealth æå–æ­¥é©Ÿ
  - ğŸ“ è¨è«–ï¼šMitmProxy ç²¾å¯†æ””æˆªèˆ‡èª²ç¨‹é€£å‹•
  - ğŸ“ è¨è«–ï¼šèª²ç¨‹æµç¨‹æ¨™æº–åŒ–èˆ‡ Import/Export ç³»çµ±
  - ğŸ“ è¦ç¯„ï¼šå·¥ä½œæ—¥èªŒæª”åæ ¼å¼è®Šæ›´ï¼ˆyyyymmdd â†’ yyyymmddhhmmï¼‰
- **2025-11-17**: [DAILY_WORK_LOG_20251117.md](./DAILY_WORK_LOG_20251117.md) - ç©©å®šæ€§èˆ‡é…ç½®å„ªåŒ– (v2.0.5)
- **2025-11-16**: [DAILY_WORK_LOG_20251116.md](./DAILY_WORK_LOG_20251116.md) - å®‰å…¨æ€§å¢å¼·èˆ‡æ™ºèƒ½æ¨è–¦ä¿®å¾©
- **2025-11-15**: [DAILY_WORK_LOG_20251115.md](./DAILY_WORK_LOG_20251115.md) - è‡ªå‹•ç­”é¡Œç³»çµ±å®Œæ•´å¯¦ä½œ
- **2025-11-14**: [DAILY_WORK_LOG_20251114.md](./DAILY_WORK_LOG_20251114.md) - æ—©æœŸé–‹ç™¼è¨˜éŒ„
- **2025-01-17 (æ›´æ–°4)**: CHANGELOG.md æ‹†åˆ†å„ªåŒ– - æå‡ Claude Code CLI å¯è®€æ€§ (v2.0.4)
- **2025-01-17 (æ›´æ–°3)**: å®Œæ•´æ™‚é–“çµ±è¨ˆç³»çµ± + ç”¢å“åŒ–è¼¸å‡ºè¨Šæ¯ (v2.0.4)
- **2025-01-17 (æ›´æ–°2)**: ç”¢å“åŒ–è¼¸å‡ºè¨Šæ¯å„ªåŒ–ï¼ˆMVP â†’ Releaseï¼‰ (v2.0.3)
- **2025-01-17 (æ›´æ–°1)**: ä¸€éµè‡ªå‹•åŸ·è¡ŒåŠŸèƒ½ + è·¨å¹³å°å­—é«”æ”¯æ´ (v2.0.3)
- **2025-01-16**: [DAILY_WORK_LOG_20250116.md](./DAILY_WORK_LOG_20250116.md) - æˆªåœ–åŠŸèƒ½å¯¦ä½œèˆ‡æ™‚é–“é…ç½®åˆ†é›¢

---

**æœ¬æ®µçµæŸ**

âœ… **æ–‡æª”å·²å…¨éƒ¨é–±è®€å®Œç•¢**

ğŸ“‘ è¿”å›: [å®Œæ•´ç´¢å¼•](./CLAUDE_CODE_HANDOVER.md)

---

*æ–‡æª”ç‰ˆæœ¬: 2.3 | æœ€å¾Œæ›´æ–°: 2025-12-03 | å°ˆæ¡ˆ: Gleipnir*
