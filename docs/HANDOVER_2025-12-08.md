# AI äº¤æ¥æ–‡æª” - 2025-12-08

## ğŸ¯ å°ˆæ¡ˆç‹€æ…‹

### å·²å®Œæˆï¼šæ··åˆæƒæåŠŸèƒ½ - ä¸»èª²ç¨‹åŒ¹é… âœ…

**åŠŸèƒ½ä½ç½®ï¼š** `menu.py` - 'h' é¸é …

**åŸ·è¡Œå‘½ä»¤ï¼š**
```bash
python menu.py
# è¼¸å…¥ h é€²å…¥æ··åˆæƒææ¨¡å¼
```

**åŠŸèƒ½æµç¨‹ï¼š**
1. âœ… åˆå§‹åŒ–ç€è¦½å™¨èˆ‡ç™»å…¥
2. âœ… API æƒæ - ç²å–ä¸»èª²ç¨‹åˆ—è¡¨ (18 é–€èª²ç¨‹)
3. âœ… Web æƒæ - ç²å–èª²ç¨‹çµæ§‹ (8 å€‹ä¸»é¡Œ)
4. â³ åŒ¹é…æ¼”ç®—æ³• - ä¸»èª²ç¨‹å·²å®Œæˆï¼Œå­èª²ç¨‹å¾…å¯¦ç¾

## ğŸ”„ ä¸‹æ¬¡å·¥ä½œé‡é»

### âš ï¸ æ˜æ—¥å¿…é ˆç¹¼çºŒï¼šä¸»èª²ç¨‹ä¸‹çš„å­èª²ç¨‹è³‡æ–™åŒ¹é…ç ”ç©¶

**èƒŒæ™¯ï¼š**
- ç›®å‰å·²å®Œæˆï¼š`API ä¸»èª²ç¨‹` â†â†’ `Web program_name` åŒ¹é…
- å¾…å®Œæˆï¼š`API å­èª²ç¨‹` â†â†’ `Web courses/exams` åŒ¹é…

**éœ€è¦çš„è³‡æ–™ï¼š**
1. **å­èª²ç¨‹ API ç«¯é»ç¯„ä¾‹**ï¼ˆè«‹ç”¨æˆ¶æä¾›ï¼‰
   - URL æ ¼å¼ï¼ˆå¯èƒ½é¡ä¼¼ `/api/course/{course_id}/lessons`ï¼‰
   - å®Œæ•´çš„ HTTP è«‹æ±‚ï¼ˆåŒ…å« Headers, Cookiesï¼‰
   - å›æ‡‰çš„ JSON è³‡æ–™ç¯„ä¾‹

2. **å¯¦ç¾æ­¥é©Ÿï¼š**
   ```
   For each ä¸»èª²ç¨‹ (å·²åŒ¹é…):
       â”œâ”€ èª¿ç”¨å­èª²ç¨‹ API
       â”œâ”€ ç²å–è©²èª²ç¨‹ä¸‹çš„æ‰€æœ‰ lessons/units
       â”œâ”€ åŒ¹é… API lessons â†â†’ Web courses
       â””â”€ åŒ¹é… API exams â†â†’ Web exams
   ```

3. **é æœŸä¿¡å¿ƒå€¼ï¼š95%**
   - çµ¦å®šä¸€å€‹å­èª²ç¨‹ API ç¯„ä¾‹å³å¯è‡ªå‹•å¯¦ç¾
   - åŒ¹é…é‚è¼¯èˆ‡ä¸»èª²ç¨‹ç›¸åŒï¼ˆç›¸ä¼¼åº¦æ¼”ç®—æ³•ï¼‰

## ğŸ“ é—œéµæ–‡ä»¶

### ä»£ç¢¼æ–‡ä»¶
- `menu.py` - ä¸»è¦åŠŸèƒ½å¯¦ç¾ï¼ˆhybrid_scan å‡½æ•¸ï¼Œline 570-959ï¼‰

### æ–‡æª”æ–‡ä»¶
- `API_STRUCTURE_ANALYSIS.md` - API çµæ§‹åˆ†æ
- `WORK_LOG_2025-12-08.md` - ä»Šæ—¥å·¥ä½œæ—¥èªŒ
- `HANDOVER_2025-12-08.md` - æœ¬äº¤æ¥æ–‡æª”ï¼ˆä½ æ­£åœ¨çœ‹ï¼‰

### è³‡æ–™æ–‡ä»¶
- `api_my-courses_condition.txt` - Burp Suite å°åŒ…ï¼ˆä¸»èª²ç¨‹ APIï¼‰
- `hybrid_scan_result.json` - è¼¸å‡ºçµæœï¼ˆå¾…ç”Ÿæˆï¼‰

## ğŸ” API çµæ§‹é—œéµè³‡è¨Š

### ä¸»èª²ç¨‹ API: GET /api/my-courses

**è«‹æ±‚åƒæ•¸ï¼š**
```
conditions={"status":["ongoing"],"keyword":"","classify_type":"not_passed_first","display_studio_list":false}
fields=id,name,course_code,display_name,is_graduated,credit,start_date,end_date,...
page=1
page_size=10
```

**å›æ‡‰çµæ§‹ï¼š**
```json
{
  "courses": [
    {
      "id": 465,
      "name": "æ€§åˆ¥å¹³ç­‰å·¥ä½œæ³•ã€æ€§é¨·æ“¾é˜²æ²»æ³•åŠç›¸é—œå­æ³•ä¿®æ³•é‡é»èˆ‡å¯¦å‹™æ¡ˆä¾‹(114å¹´åº¦)",
      "display_name": "...",
      "course_code": "901011114",
      "is_graduated": true,
      "credit": "2.0",
      ...
    }
  ],
  "total": 8,
  "page": 1,
  "page_size": 10
}
```

**é—œéµç™¼ç¾ï¼š**
- âŒ æ²’æœ‰ program_name æ¬„ä½
- âœ… `name`/`display_name` å°±æ˜¯å®Œæ•´èª²ç¨‹åç¨±
- âœ… å¯ç›´æ¥èˆ‡ Web çš„ `program_name` åŒ¹é…

### å­èª²ç¨‹ API: ??? (å¾…ç ”ç©¶)

**é æœŸå¯èƒ½çš„ç«¯é»ï¼š**
- `/api/course/{course_id}/lessons`
- `/api/course/{course_id}/units`
- `/api/course/{course_id}/content`

**éœ€è¦ç¢ºèªï¼š**
1. æ­£ç¢ºçš„ API ç«¯é» URL
2. éœ€è¦å“ªäº›åƒæ•¸
3. å›æ‡‰çš„ JSON çµæ§‹
4. å¦‚ä½•å°æ‡‰åˆ° Web çš„ courses/exams

## ğŸ› ï¸ æŠ€è¡“åƒè€ƒ

### åŒ¹é…æ¼”ç®—æ³•ç¯„ä¾‹
```python
from difflib import SequenceMatcher

# API èª²ç¨‹åç¨±
api_name = course.get('name') or course.get('display_name', '')

# Web èª²ç¨‹åç¨±
web_name = web_course['program_name']

# è¨ˆç®—ç›¸ä¼¼åº¦
similarity = SequenceMatcher(None, api_name, web_name).ratio()

# é–¾å€¼åˆ¤æ–·
if similarity >= 0.7:  # 70% ç›¸ä¼¼åº¦
    # åŒ¹é…æˆåŠŸ
    confidence = "é«˜" if similarity >= 0.9 else "ä¸­" if similarity >= 0.8 else "ä½"
```

### å¿…è¦çš„æ¨¡çµ„å°å…¥
```python
from src.utils.stealth_extractor import StealthExtractor
from src.core.config_loader import ConfigLoader
from src.core.driver_manager import DriverManager
from src.core.cookie_manager import CookieManager
from src.pages.login_page import LoginPage
from src.pages.course_list_page import CourseListPage
```

### ç™»å…¥æµç¨‹
```python
config = ConfigLoader('config/eebot.cfg')
config.load()
driver_manager = DriverManager(config)
driver = driver_manager.create_driver(use_proxy=False)
login_page = LoginPage(driver, cookie_manager)
login_page.auto_login(
    username=config.get('user_name'),
    password=config.get('password'),
    url=config.get('target_http')
)
```

## âš¡ å¿«é€Ÿå•Ÿå‹•æŒ‡å—ï¼ˆæ˜æ—¥ä½¿ç”¨ï¼‰

1. **è®€å–æœ¬äº¤æ¥æ–‡æª”**
   ```
   è«‹è®€å– docs/HANDOVER_2025-12-08.md
   ```

2. **äº†è§£ä»Šæ—¥é€²åº¦**
   ```
   è«‹è®€å– docs/WORK_LOG_2025-12-08.md
   ```

3. **ç²å–å­èª²ç¨‹ API ç¯„ä¾‹**
   ```
   è«‹ç”¨æˆ¶æä¾›ä¸€å€‹å­èª²ç¨‹çš„ Burp Suite å°åŒ…
   æˆ–ç›´æ¥æä¾› API URL å’Œå›æ‡‰ç¯„ä¾‹
   ```

4. **å¯¦ç¾å­èª²ç¨‹åŒ¹é…**
   - åˆ†æ API çµæ§‹
   - å¯¦ç¾éæ­·é‚è¼¯
   - å¯¦ç¾åŒ¹é…æ¼”ç®—æ³•
   - æ¸¬è©¦ä¸¦ç”Ÿæˆå®Œæ•´çš„ hybrid_scan_result.json

## ğŸ“Š ç•¶å‰é€²åº¦

```
æ··åˆæƒæåŠŸèƒ½
â”œâ”€ ä¸»é¸å–®æ•´åˆ âœ…
â”œâ”€ éšæ®µ 1: åˆå§‹åŒ–ç™»å…¥ âœ…
â”œâ”€ éšæ®µ 2: API æƒæ
â”‚   â”œâ”€ ä¸»èª²ç¨‹ API âœ…
â”‚   â””â”€ å­èª²ç¨‹ API â³ (æ˜æ—¥ç¹¼çºŒ)
â”œâ”€ éšæ®µ 3: Web æƒæ âœ…
â”œâ”€ éšæ®µ 4: åŒ¹é…æ¼”ç®—æ³•
â”‚   â”œâ”€ ä¸»èª²ç¨‹åŒ¹é… âœ…
â”‚   â””â”€ å­èª²ç¨‹åŒ¹é… â³ (æ˜æ—¥ç¹¼çºŒ)
â””â”€ è¼¸å‡º JSON æª”æ¡ˆ â³ (å¾…å®Œæ•´æ¸¬è©¦)
```

## ğŸ¯ æ˜æ—¥ç›®æ¨™

1. âœ… ç²å–å­èª²ç¨‹ API ç¯„ä¾‹
2. âœ… å¯¦ç¾å­èª²ç¨‹ API èª¿ç”¨
3. âœ… å¯¦ç¾å­èª²ç¨‹åŒ¹é…æ¼”ç®—æ³•
4. âœ… å®Œæ•´æ¸¬è©¦æ··åˆæƒæåŠŸèƒ½
5. âœ… ç”Ÿæˆä¸¦é©—è­‰ hybrid_scan_result.json

**é ä¼°æ™‚é–“ï¼š** 2-3 å°æ™‚ï¼ˆå–æ±ºæ–¼ API è¤‡é›œåº¦ï¼‰

---

**æé†’äº‹é …ï¼š**
- âš ï¸ Token ä½¿ç”¨é‡å·²é” 86K/200K
- ğŸ’¡ æ˜æ—¥é–‹å§‹æ™‚å…ˆç¢ºèªéœ€æ±‚ï¼Œé¿å…é‡è¤‡å·¥ä½œ
- ğŸ“ æŒçºŒæ›´æ–°å·¥ä½œæ—¥èªŒ
