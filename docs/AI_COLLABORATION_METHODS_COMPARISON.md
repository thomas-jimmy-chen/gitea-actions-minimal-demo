```
        ▐▛███▜▌
       ▝▜█████▛▘
         ▘▘ ▝▝
    Powered by Claude
```

# AI 協作工作流程方法 - 比較分析

**文檔版本**: 1.0
**建立日期**: 2025-12-31

---

## 1. 四種方法總覽

| 方法 | 名稱 | 英文縮寫 | 一句話描述 |
|------|------|----------|------------|
| 方法 1 | 結構化規格驅動開發 | SSDD | 先寫規格，再依規格實作 |
| 方法 2 | 迭代式探索開發 | IED | 先做出來，再慢慢調整 |
| 方法 3 | 迭代到結構化過渡 | IST | 從探索階段畢業到正式開發 |
| 方法 4 | 混合漸進式開發 | HGD | 各模組各自節奏，局部轉換 |

---

## 2. 象限圖：需求明確度 × 專案規模

```
                        需求明確度
                            ↑
                            │
          高                │                高
     ┌──────────────────────┼──────────────────────┐
     │                      │                      │
     │    方法 4            │      方法 1          │
     │    混合漸進式         │      結構化規格驅動   │
     │                      │                      │
     │  「大專案，部分明確    │   「需求清楚，        │
     │    部分還在探索」      │     按規格做就對了」   │
     │                      │                      │
專   │                      │                      │
案 ──┼──────────────────────┼──────────────────────┼── 專
規   │                      │                      │   案
模   │                      │                      │   規
小   │    方法 2            │      方法 3          │   模
     │    迭代式探索         │      過渡方法        │   大
     │                      │                      │
     │  「小專案/原型，       │   「專案成熟了，      │
     │    邊做邊想」          │     該正式化了」      │
     │                      │                      │
     └──────────────────────┼──────────────────────┘
          低                │                低
                            │
                            ↓
```

---

## 3. 象限圖：變動頻率 × 團隊規模

```
                        變動頻率
                            ↑
                            │
          高                │                高
     ┌──────────────────────┼──────────────────────┐
     │                      │                      │
     │    方法 2            │      方法 4          │
     │    迭代式探索         │      混合漸進式       │
     │                      │                      │
     │  「一個人快速試錯」    │   「團隊協作，        │
     │                      │     但需求還在變」     │
     │                      │                      │
個   │                      │                      │
人 ──┼──────────────────────┼──────────────────────┼── 團
/   │                      │                      │   隊
小   │    (少見情境)         │      方法 1          │   協
團   │                      │      結構化規格驅動   │   作
隊   │    需求穩定的個人     │                      │
     │    專案直接用方法1    │   「團隊需要共同      │
     │                      │     規格來協作」       │
     │                      │                      │
     └──────────────────────┼──────────────────────┘
          低                │                低
                            │
                            ↓

     註：方法 3 (過渡方法) 是從左側象限移動到右側象限的過程
```

---

## 4. 特性比較矩陣

```
┌────────────────┬────────────┬────────────┬────────────┬────────────┐
│     特性       │  方法 1    │  方法 2    │  方法 3    │  方法 4    │
│                │ 結構化規格 │ 迭代式探索 │ 過渡方法   │ 混合漸進   │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 前期規劃       │ ████████   │ ██         │ ████       │ ████       │
│                │ 高         │ 低         │ 中         │ 中         │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 靈活性         │ ██         │ ████████   │ ████       │ ██████     │
│                │ 低         │ 高         │ 中         │ 中高       │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 文檔產出       │ ████████   │ ██         │ ██████     │ ████       │
│                │ 高         │ 低         │ 中高       │ 中         │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 變更成本       │ ████████   │ ██         │ ████       │ ████       │
│                │ 高         │ 低         │ 中         │ 中         │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 可預測性       │ ████████   │ ██         │ ████       │ ████       │
│                │ 高         │ 低         │ 中         │ 中         │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 團隊協作適合度 │ ████████   │ ██         │ ██████     │ ██████     │
│                │ 高         │ 低         │ 中高       │ 中高       │
├────────────────┼────────────┼────────────┼────────────┼────────────┤
│ 學習曲線       │ ██████     │ ██         │ ████       │ ████       │
│                │ 中高       │ 低         │ 中         │ 中         │
└────────────────┴────────────┴────────────┴────────────┴────────────┘
```

---

## 5. 時間軸視角：專案生命週期

```
專案時間軸
────────────────────────────────────────────────────────────────────►

階段:     概念期        探索期        成長期        成熟期        維護期
          ════════      ════════      ════════      ════════      ════════

方法 1:                               ┌──────────────────────────────────┐
結構化    (不適用)      (不適用)      │████████████████████████████████│
                                      └──────────────────────────────────┘
                                      需求明確後直接使用

方法 2:   ┌───────────────────────┐
迭代式    │█████████████████████│   (轉換或結束)
          └───────────────────────┘
          探索階段使用

方法 3:                        ┌────────┐
過渡      (不適用)             │████████│  (一次性過程)
                               └────────┘
                               從方法2轉到方法1

方法 4:                 ┌────────────────────────────────────────────┐
混合                    │░░░░████░░░░████████░░████████████████████│
                        └────────────────────────────────────────────┘
                        各模組逐漸從 ░░(迭代) 轉為 ██(規格驅動)
```

---

## 6. 決策流程圖

```
                              開始
                                │
                                ▼
                    ┌───────────────────────┐
                    │   需求是否明確？       │
                    └───────────────────────┘
                          │           │
                         是           否
                          │           │
                          ▼           ▼
              ┌─────────────────┐  ┌─────────────────┐
              │ 專案規模大嗎？  │  │ 是否探索階段？  │
              └─────────────────┘  └─────────────────┘
                   │       │            │       │
                  是       否          是       否
                   │       │            │       │
                   ▼       ▼            ▼       ▼
              ┌───────┐ ┌───────┐  ┌───────┐ ┌───────────────┐
              │方法 1 │ │方法 1 │  │方法 2 │ │ 部分明確？    │
              │結構化 │ │結構化 │  │迭代式 │ └───────────────┘
              └───────┘ └───────┘  └───────┘      │       │
                                                 是       否
                                                  │       │
                                                  ▼       ▼
                                             ┌───────┐ ┌───────┐
                                             │方法 4 │ │方法 2 │
                                             │混合   │ │迭代式 │
                                             └───────┘ └───────┘

                    ════════════════════════════════════

                              專案進行中
                                  │
                                  ▼
                    ┌───────────────────────┐
                    │ 目前用方法2，需求穩定？│
                    └───────────────────────┘
                          │           │
                         是           否
                          │           │
                          ▼           ▼
              ┌─────────────────┐  ┌─────────────────┐
              │ 全部都穩定？    │  │ 繼續方法 2      │
              └─────────────────┘  └─────────────────┘
                   │       │
                  是       否
                   │       │
                   ▼       ▼
              ┌───────┐ ┌───────┐
              │方法 3 │ │方法 4 │
              │全面過渡│ │局部轉換│
              └───────┘ └───────┘
```

---

## 7. 適用情境對照表

| 情境 | 推薦方法 | 原因 |
|------|----------|------|
| 接到明確規格的外包案 | 方法 1 | 規格已定，按規格做 |
| 自己想做的 Side Project | 方法 2 | 邊做邊想，探索可能性 |
| Side Project 做到一半想認真做 | 方法 3 | 過渡到正式開發 |
| 大型專案，部分功能還沒確定 | 方法 4 | 穩定的先規格化 |
| 團隊協作的新專案 | 方法 1 | 需要共同規格 |
| 團隊接手遺留系統 | 方法 4 | 逐步補齊規格 |
| 快速驗證商業想法 | 方法 2 | 快速迭代，驗證假設 |
| 準備交接給他人 | 方法 3 | 正式化文檔 |
| 長期維護的產品 | 方法 1 或 4 | 需要穩定的規格 |
| 技術研究/POC | 方法 2 | 探索為主 |

---

## 8. 文檔產出對照

```
┌─────────────────────────────────────────────────────────────────────┐
│                      各方法的文檔產出                                │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  方法 1 (結構化規格驅動)                                            │
│  ──────────────────────                                            │
│  📄 REQUIREMENTS.md      需求規格                                   │
│  📄 SDD.md               軟體設計文檔                               │
│  📄 openapi.yaml         API 規格                                  │
│  📄 ERD.md               資料模型                                   │
│  📄 TEST_CASES.md        測試案例                                   │
│  📄 BOUNDARY_VALUES.md   邊界值規格                                 │
│                                                                     │
│  方法 2 (迭代式探索)                                                │
│  ──────────────────                                                │
│  📝 迭代記錄 (非正式)                                               │
│  📝 待辦事項清單                                                    │
│  📝 簡要筆記                                                        │
│                                                                     │
│  方法 3 (過渡方法)                                                  │
│  ──────────────                                                    │
│  📄 現狀盤點報告                                                    │
│  📄 需求規格 (正式化後)                                             │
│  📄 技術債清單                                                      │
│  📄 設計決策記錄                                                    │
│                                                                     │
│  方法 4 (混合漸進式)                                                │
│  ──────────────────                                                │
│  📄 模組狀態追蹤表                                                  │
│  📄 已穩定模組的規格 (部分)                                         │
│  📝 探索中模組的迭代記錄                                            │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 9. 方法轉換路徑圖

```
┌─────────────────────────────────────────────────────────────────────┐
│                        方法轉換路徑                                  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│                                                                     │
│      ┌─────────────┐                      ┌─────────────┐           │
│      │             │                      │             │           │
│      │   方法 2    │ ────── 方法 3 ─────► │   方法 1    │           │
│      │  迭代式探索  │      (全面過渡)       │  結構化規格  │           │
│      │             │                      │             │           │
│      └─────────────┘                      └─────────────┘           │
│             │                                    ▲                  │
│             │                                    │                  │
│             │         ┌─────────────┐            │                  │
│             │         │             │            │                  │
│             └───────► │   方法 4    │ ───────────┘                  │
│               局部    │  混合漸進式  │   最終收斂                     │
│               轉換    │             │                               │
│                       └─────────────┘                               │
│                                                                     │
│                                                                     │
│  常見路徑:                                                          │
│                                                                     │
│  路徑 A: 方法 2 → 方法 3 → 方法 1                                   │
│          (小專案，全面成熟後過渡)                                    │
│                                                                     │
│  路徑 B: 方法 2 → 方法 4 → 方法 1                                   │
│          (大專案，逐步收斂)                                          │
│                                                                     │
│  路徑 C: 方法 1 (直接開始)                                          │
│          (需求一開始就明確)                                          │
│                                                                     │
│  路徑 D: 方法 4 → 方法 1                                            │
│          (接手既有專案，逐步規格化)                                   │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 10. 快速選擇指南

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│   「我應該用哪個方法？」快速回答                                     │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   Q: 你知道要做什麼嗎？                                             │
│                                                                     │
│   ├── 「很清楚」──────────────────────────► 方法 1 (結構化)         │
│   │                                                                 │
│   ├── 「大概知道，細節不確定」────────────► 方法 4 (混合)           │
│   │                                                                 │
│   ├── 「不太確定，想試試看」──────────────► 方法 2 (迭代)           │
│   │                                                                 │
│   └── 「之前用方法2，現在比較清楚了」────► 方法 3 (過渡)            │
│                                            或 方法 4 (局部轉換)      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 11. 流程比較圖

### 11.1 各方法的開發流程

```
┌─────────────────────────────────────────────────────────────────────┐
│  方法 1: 結構化規格驅動開發                                          │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  [需求收集] → [規格撰寫] → [規格審核] → [實作] → [驗證] → [交付]     │
│      │           │           │          │        │                 │
│      ▼           ▼           ▼          ▼        ▼                 │
│   訪談用戶    撰寫 SDD    團隊確認    依規格    對照規格             │
│   釐清需求    API 規格    無歧義      編碼      測試                 │
│              邊界值                                                 │
│                                                                     │
│  特點: 線性流程，前期重，後期輕                                      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  方法 2: 迭代式探索開發                                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│       ┌────────────────────────────────────────┐                    │
│       │                                        │                    │
│       ▼                                        │                    │
│  [初步想法] → [最小實作] → [展示] → [反饋] ────┘                    │
│                               │                                     │
│                               ▼                                     │
│                          滿意就結束                                  │
│                                                                     │
│  特點: 循環流程，每次迭代都可交付                                    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  方法 3: 過渡方法                                                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  [迭代式開發] ──判斷時機──► [盤點] → [正式化] → [重構] → [結構化]   │
│       ↑                       │        │         │                  │
│       │                       ▼        ▼         ▼                  │
│  之前的工作              整理現狀   撰寫規格   清理債務               │
│                                                                     │
│  特點: 一次性過渡流程                                                │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│  方法 4: 混合漸進式開發                                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│       模組 A (探索中)        模組 B (轉換中)      模組 C (已穩定)    │
│       ═══════════════        ═══════════════      ═══════════════   │
│            │                      │                    │            │
│            ▼                      ▼                    ▼            │
│       ┌─────────┐           ┌──────────┐         ┌──────────┐       │
│       │迭代循環 │           │邊迭代    │         │依規格    │       │
│       │         │           │邊寫規格  │         │開發/維護 │       │
│       └─────────┘           └──────────┘         └──────────┘       │
│            │                      │                    │            │
│            └──────────────────────┴────────────────────┘            │
│                                 │                                   │
│                                 ▼                                   │
│                           持續並行進行                               │
│                                                                     │
│  特點: 多流程並行，各模組獨立節奏                                    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 11.2 單一功能開發流程比較

```
同一個功能「新增用戶匯出功能」在不同方法的處理方式：

方法 1 (結構化):
────────────────
  Day 1: 撰寫需求規格
         - 匯出格式: CSV, Excel, JSON
         - 欄位: 姓名、Email、註冊日期
         - 權限: 僅管理員
         - 檔案大小限制: 10MB
  Day 2: 撰寫 API 規格
         - GET /api/users/export?format=csv
         - Response: file download
  Day 3: 撰寫測試案例
  Day 4-5: 依規格實作
  Day 6: 驗證符合規格

方法 2 (迭代):
────────────────
  迭代 1: 先做 CSV 匯出 (最簡單的)
          → 用戶：「可以，但要加 Excel」
  迭代 2: 加上 Excel 格式
          → 用戶：「需要選擇欄位」
  迭代 3: 加上欄位選擇
          → 用戶：「OK，夠用了」

方法 3 (過渡):
────────────────
  (假設之前用方法 2 做過類似功能)
  盤點: 現有匯出功能有 CSV，缺 Excel
  正式化: 撰寫完整匯出功能規格
  實作: 依新規格補齊 Excel

方法 4 (混合):
────────────────
  判斷: 匯出功能需求還不確定 → 用迭代
  迭代開發匯出功能...
  穩定後: 補寫這個模組的規格
  其他模組繼續各自的節奏
```

---

## 12. 情境對照與建議

### 12.1 依專案類型

```
┌─────────────────────────────────────────────────────────────────────┐
│  專案類型                              建議方法         備註        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  🏢 企業內部系統                                                    │
│     └── 需求明確，有規格文件          方法 1          標準做法      │
│     └── 需求不明，邊做邊改            方法 4          逐步收斂      │
│                                                                     │
│  🚀 新創/MVP                                                        │
│     └── 驗證商業模式                  方法 2          快速迭代      │
│     └── 準備募資，需要穩定            方法 3          正式化        │
│                                                                     │
│  🔧 Side Project                                                    │
│     └── 自己玩玩                      方法 2          無壓力探索    │
│     └── 想認真做                      方法 3/4        逐步正式化    │
│                                                                     │
│  📦 外包接案                                                        │
│     └── 客戶給規格                    方法 1          依規格交付    │
│     └── 客戶沒想法                    方法 2 → 3      先探索再固定  │
│                                                                     │
│  🔄 遺留系統維護                                                    │
│     └── 無文檔                        方法 4          逐步補齊      │
│     └── 要大改版                      方法 3          全面盤點      │
│                                                                     │
│  🧪 技術研究/POC                                                    │
│     └── 探索可行性                    方法 2          純探索        │
│     └── 準備落地                      方法 3          正式化        │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 12.2 依團隊狀況

```
┌─────────────────────────────────────────────────────────────────────┐
│  團隊狀況                              建議方法         備註        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  👤 一個人開發                                                      │
│     └── 需求在腦中，不需文檔          方法 2          效率最高      │
│     └── 怕忘記，需要記錄              方法 4          部分文檔化    │
│                                                                     │
│  👥 2-3 人小團隊                                                    │
│     └── 溝通順暢                      方法 2/4        口頭+簡單文檔 │
│     └── 分工明確                      方法 1/4        需要介面規格  │
│                                                                     │
│  👨‍👩‍👧‍👦 5+ 人團隊                                                      │
│     └── 需要共同規格                  方法 1          必須正式化    │
│     └── 各組負責不同模組              方法 4          介面先統一    │
│                                                                     │
│  🏢 跨部門/跨公司                                                   │
│     └── 必須有正式文檔                方法 1          合約依據      │
│                                                                     │
│  🤖 與 AI 協作 (主要情境)                                           │
│     └── 你知道要什麼                  方法 1          給 AI 規格    │
│     └── 跟 AI 一起探索                方法 2          對話式開發    │
│     └── 逐步清晰                      方法 4          漸進正式化    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 12.3 依時間壓力

```
┌─────────────────────────────────────────────────────────────────────┐
│  時間壓力                              建議方法         備註        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ⏰ 緊急 (1-2 天)                                                   │
│     └── 需求明確                      方法 1 (簡化版)  略過文檔     │
│     └── 需求不明                      方法 2          快速迭代      │
│                                                                     │
│  📅 短期 (1-2 週)                                                   │
│     └── 範圍明確                      方法 1          完整流程      │
│     └── 範圍不明                      方法 2 → 3      探索後收斂    │
│                                                                     │
│  📆 中期 (1-3 月)                                                   │
│     └── 大型專案                      方法 1/4        需要規格      │
│     └── 探索專案                      方法 2 → 4      漸進正式化    │
│                                                                     │
│  📅 長期 (3+ 月)                                                    │
│     └── 產品開發                      方法 4 → 1      逐步收斂      │
│     └── 持續維護                      方法 1          穩定規格      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 13. 提示詞模板

### 13.1 方法 1: 結構化規格驅動開發

**開始專案**:
```
我要開發一個 [專案描述]。

需求如下：
1. [功能 1]
2. [功能 2]
3. [功能 3]

技術限制：
- 語言: [Python/JavaScript/...]
- 框架: [...]

請幫我：
1. 確認需求是否完整
2. 產出需求規格文檔
3. 定義 API 規格
4. 列出邊界值條件
```

**請求規格文檔**:
```
請幫我產出這個功能的完整規格：

功能名稱: [...]
功能描述: [...]

需要包含：
- 功能性需求 (FR-xxx)
- 非功能性需求 (NFR-xxx)
- 輸入輸出規格
- 邊界值條件
- 錯誤處理規格
```

**依規格實作**:
```
請依照以下規格實作：

[貼上規格內容]

實作時請：
1. 完全符合規格
2. 處理所有邊界條件
3. 實作錯誤處理
```

---

### 13.2 方法 2: 迭代式探索開發

**開始探索**:
```
我想做一個 [模糊的想法]。

目前我知道的：
- [已知的部分]

還不確定的：
- [不確定的部分]

請先幫我做一個最簡單的版本，
我看到效果後再告訴你要怎麼調整。
```

**迭代反饋**:
```
上一版的結果我看了，
- 好的部分: [...]
- 要調整的: [...]
- 新想到的: [...]

請幫我調整。
```

**收集選項**:
```
我不確定這裡要怎麼做，
請給我幾個選項，說明各自的優缺點。
```

**暫停/繼續**:
```
目前的狀態可以了，
接下來我想做 [下一個功能]。
```

---

### 13.3 方法 3: 過渡方法

**開始過渡**:
```
我們之前用迭代方式開發的 [專案名稱]，
現在需求比較穩定了，我想正式化。

請幫我：
1. 盤點目前的功能和狀態
2. 識別技術債務
3. 整理需求規格
```

**需求正式化**:
```
請把我們討論過的這些功能整理成正式的需求規格：

[列出功能]

格式要求：
- 使用 FR-xxx 編號
- 包含邊界條件
- 標註來源 (哪次迭代決定的)
```

**處理技術債**:
```
目前盤點出的技術債務：
[列表]

請幫我規劃處理順序和方法。
```

---

### 13.4 方法 4: 混合漸進式開發

**盤點狀態**:
```
請幫我盤點目前各模組的狀態：

現有模組：
- [模組 A]
- [模組 B]
- [模組 C]

請分類為：
🔄 探索中 / 🔄→📋 轉換中 / 📋 已穩定
```

**局部轉換**:
```
[模組名稱] 的需求已經穩定，
請幫我為這個模組撰寫規格。

其他模組維持目前的開發方式。
```

**混合開發**:
```
今天要處理的工作：

1. [模組 A - 📋 已穩定]: 依規格修復 Bug
2. [模組 B - 🔄 探索中]: 嘗試新功能
3. [模組 C - 🔄→📋 轉換中]: 繼續撰寫規格

請依各模組的狀態使用對應的開發方式。
```

**規格統一**:
```
我想統一各模組的 [API 格式 / 錯誤碼 / ...]。

目前各模組的做法：
- 模組 A: [...]
- 模組 B: [...]
- 模組 C: [...]

請建議統一的標準，並幫我逐一對齊。
```

---

## 14. CLAUDE.md 永久規則建議

當某些協作模式需要**長期固定**時，可以將規則寫入 `CLAUDE.md`，讓 AI 自動遵循。

### 14.1 建議加入 CLAUDE.md 的規則

```markdown
# 加入 CLAUDE.md 的範本

## 專案開發方法

本專案採用 [方法 1/2/3/4] 開發模式。

### 如果是方法 1 (結構化規格驅動):
---
## 開發規則

- 所有新功能必須先有規格文檔
- 規格文檔位於 `docs/specs/`
- 實作前必須確認規格已審核
- 實作後必須驗證符合規格
---

### 如果是方法 2 (迭代式探索):
---
## 開發規則

- 每次實作只做最小可用版本
- 每次變更後詢問用戶反饋
- 不預先設計過於複雜的架構
- 保持代碼可快速修改
---

### 如果是方法 4 (混合漸進式):
---
## 模組開發規則

| 模組狀態 | 開發方式 |
|----------|----------|
| 🔄 探索中 | 迭代式，不需規格 |
| 🔄→📋 轉換中 | 邊做邊寫規格 |
| 📋 已穩定 | 依規格開發 |

### 當前模組狀態
- `src/auth/`: 📋 已穩定
- `src/reports/`: 🔄 探索中
- `src/notifications/`: 🔄→📋 轉換中
---
```

### 14.2 各情境的 CLAUDE.md 規則

#### 情境 A: 專案全面使用方法 1

```markdown
# CLAUDE.md

## 開發規則

### 規格驅動開發
- 新功能必須先產出規格 (`docs/specs/FEATURE_NAME.md`)
- 規格必須包含：FR-xxx, NFR-xxx, 邊界值, 錯誤處理
- 實作必須 100% 符合規格
- 禁止未經規格的功能實作

### 規格變更流程
1. 提出變更需求
2. 更新規格文檔
3. 確認變更影響
4. 實作變更
```

#### 情境 B: 專案使用方法 4 (最常見)

```markdown
# CLAUDE.md

## 模組狀態追蹤

### 狀態定義
- 🔄 探索中: 需求不明，使用迭代開發
- 🔄→📋 轉換中: 需求漸穩，邊做邊寫規格
- 📋 已穩定: 有規格，依規格開發
- 🔒 凍結: 不再變動

### 當前狀態 (請持續更新)
| 模組 | 狀態 | 規格位置 |
|------|------|----------|
| auth | 📋 | docs/specs/auth.yaml |
| users | 📋 | docs/specs/users.yaml |
| reports | 🔄 | - |
| export | 🔄→📋 | docs/specs/export.md (撰寫中) |

### 開發規則
- 📋 模組: 修改前必須檢查規格
- 🔄 模組: 可自由迭代，保持簡單
- 🔄→📋 模組: 每次迭代後更新規格草稿
```

#### 情境 C: 規格邊界統一規則

```markdown
# CLAUDE.md

## API 規格統一標準

### 回傳格式 (所有 API 必須遵守)
```json
{
  "success": boolean,
  "data": any | null,
  "error": {
    "code": "E001",
    "message": "錯誤說明"
  } | null
}
```

### 錯誤碼規範
- E0xx: 認證錯誤
- E1xx: 參數錯誤
- E2xx: 業務邏輯錯誤
- E5xx: 系統錯誤

### HTTP 狀態碼
- 200: 成功
- 400: 參數錯誤
- 401: 未認證
- 403: 無權限
- 500: 系統錯誤
```

### 14.3 何時需要更新 CLAUDE.md

| 觸發條件 | 更新內容 |
|----------|----------|
| 模組狀態改變 | 更新狀態表 |
| 新增規格 | 加入規格路徑 |
| 統一規範確定 | 加入統一標準 |
| 開發方法改變 | 調整開發規則 |
| 新成員加入 | 補充上下文 |

### 14.4 其他 AI 編程工具的規則文件

不同的 AI 編程工具使用不同的配置文件：

```
┌─────────────────────────────────────────────────────────────────────┐
│                    各 AI 工具的規則文件                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ══════════════════ Anthropic ══════════════════                    │
│                                                                     │
│  Claude Code          CLAUDE.md                 專案根目錄          │
│  (CLI)                .claude/                  配置目錄            │
│                       .claude/settings.json     本地設定            │
│                                                                     │
│  ══════════════════ OpenAI ══════════════════                       │
│                                                                     │
│  ChatGPT / Codex      AGENTS.md                 Agent 指引          │
│                       .openai/                  配置目錄            │
│                       openai.json               專案配置            │
│                                                                     │
│  OpenAI Codex CLI     codex.md                  專案規則            │
│                       .codex/                   配置目錄            │
│                                                                     │
│  ══════════════════ Google ══════════════════                       │
│                                                                     │
│  Gemini Code Assist   GEMINI.md                 專案規則            │
│  (Google Cloud)       .gemini/                  配置目錄            │
│                       .idx/                     Project IDX 配置    │
│                                                                     │
│  Google AI Studio     .google/ai-studio/        配置目錄            │
│                       gemini.config.json        專案配置            │
│                                                                     │
│  ══════════════════ GitHub ══════════════════                       │
│                                                                     │
│  GitHub Copilot       .github/copilot-          專案指引            │
│                       instructions.md                               │
│                       .github/copilot/          配置目錄            │
│                                                                     │
│  Copilot Workspace    .github/                  工作區配置          │
│                       copilot-workspace.yml                         │
│                                                                     │
│  ══════════════════ 其他主流工具 ══════════════════                 │
│                                                                     │
│  Cursor               .cursorrules              專案規則            │
│                       .cursor/                  配置目錄            │
│                       .cursorignore             忽略文件            │
│                                                                     │
│  Windsurf/Codeium     .windsurfrules            專案規則            │
│                       .codeium/                 配置目錄            │
│                                                                     │
│  Aider                .aider.conf.yml           配置文件            │
│                       .aiderignore              忽略文件            │
│                       CONVENTIONS.md            代碼慣例            │
│                                                                     │
│  Cody (Sourcegraph)   .cody/                    配置目錄            │
│                       cody.json                 專案配置            │
│                                                                     │
│  Amazon Q Developer   .aws/amazonq/             配置目錄            │
│                       amazonq.md                專案規則            │
│                                                                     │
│  Tabnine              .tabnine/                 配置目錄            │
│                       tabnine.json              專案配置            │
│                                                                     │
│  ══════════════════ 通用文件 ══════════════════                     │
│                                                                     │
│  通用                 AGENTS.md                 多 Agent 協作       │
│                       CONTRIBUTING.md           貢獻指南            │
│                       CONVENTIONS.md            代碼慣例            │
│                       .editorconfig             編輯器配置          │
│                       .ai-rules                 通用 AI 規則        │
│                       context.md                專案上下文          │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 14.5 主流 AI 工具規則文件詳解

#### GitHub Copilot 完整配置

```
.github/
├── copilot-instructions.md      # 主要指引文件 (必備)
├── copilot/
│   ├── suggestions.json         # 建議配置
│   └── snippets/                # 自訂程式片段
└── copilot-workspace.yml        # Workspace 配置
```

**.github/copilot-instructions.md** 範本:
```markdown
# GitHub Copilot 專案指引

## 專案概述
- 名稱: [專案名稱]
- 語言: Python 3.10+
- 框架: [框架]

## 開發方法
本專案採用混合漸進式開發 (方法 4)

## 代碼風格
- 使用繁體中文註釋
- 遵循 PEP 8
- 方法不超過 30 行
- 類別不超過 300 行

## 模組狀態
| 模組 | 狀態 | 說明 |
|------|------|------|
| src/auth/ | 📋 已穩定 | 依規格開發 |
| src/api/ | 🔄 探索中 | 迭代開發 |

## 禁止事項
- 不要修改 src/core/
- 不要刪除測試
- 不要引入未經確認的依賴

## 偏好
- 優先使用現有工具函數
- 錯誤處理使用專案統一格式
- API 回傳格式遵循統一標準
```

#### Google Gemini 完整配置

```
.gemini/
├── config.json                  # Gemini 配置
├── context/                     # 上下文文件
│   ├── project.md               # 專案說明
│   └── conventions.md           # 代碼慣例
└── prompts/                     # 自訂提示詞
    └── code-review.md

.idx/
└── dev.nix                      # Project IDX 環境配置
```

**GEMINI.md** 範本:
```markdown
# Gemini Code Assist 專案規則

## 專案資訊
- 專案: [專案名稱]
- 語言: Python
- 開發方法: 混合漸進式 (方法 4)

## 上下文
本專案是一個 [描述]，使用 [技術棧]。

## 模組開發狀態
🔄 探索中: src/reports/, src/export/
📋 已穩定: src/auth/, src/users/
🔄→📋 轉換中: src/notifications/

## 代碼生成規則
1. 繁體中文註釋
2. 遵循 PEP 8
3. 使用 type hints
4. 方法 < 30 行

## 禁止修改
- src/core/ (核心模組)
- tests/ (未經確認)

## API 格式
所有 API 必須遵循統一回傳格式:
{
  "success": boolean,
  "data": any,
  "error": { "code": string, "message": string } | null
}
```

#### OpenAI Codex 完整配置

```
.codex/
├── config.json                  # Codex 配置
└── instructions.md              # 專案指引

codex.md                         # 專案根目錄規則
AGENTS.md                        # Agent 協作規則
```

**codex.md** 範本:
```markdown
# OpenAI Codex 專案規則

## 系統提示
你是一個專業的 Python 開發者，正在協助開發 [專案名稱]。

## 開發方法
採用混合漸進式開發，各模組有不同狀態:
- 🔄 探索中: 使用迭代式開發，保持簡單
- 📋 已穩定: 依規格開發，修改前檢查規格
- 🔄→📋 轉換中: 邊做邊寫規格

## 當前模組狀態
src/auth/: 📋 (規格: docs/specs/auth.yaml)
src/api/: 🔄
src/reports/: 🔄→📋

## 代碼規範
- Python 3.10+
- PEP 8 風格
- 繁體中文註釋
- 完整的 docstring

## 錯誤處理
使用專案統一的錯誤處理格式:
```python
try:
    result = do_something()
except SpecificError as e:
    logger.error(f"操作失敗: {e}")
    raise
```
```

### 14.6 通用規則文件範本

#### .cursorrules / .windsurfrules 範本

```markdown
# 專案規則

## 開發方法
本專案使用混合漸進式開發 (方法 4)

## 模組狀態
- src/auth/: 📋 已穩定 - 依規格開發
- src/reports/: 🔄 探索中 - 迭代開發
- src/export/: 🔄→📋 轉換中 - 邊做邊寫規格

## 代碼規範
- 語言: Python 3.10+
- 風格: PEP 8
- 註釋: 繁體中文
- 方法 < 30 行
- 類別 < 300 行

## 禁止事項
- 不要修改 src/core/ 核心模組
- 不要刪除現有測試
- 不要引入新的依賴 (未經確認)
```

#### .github/copilot-instructions.md 範本

```markdown
# GitHub Copilot 專案指引

## 專案概述
[專案名稱] - [簡短描述]

## 開發方法
採用混合漸進式開發，各模組有不同的開發節奏。

## 代碼風格
- 使用繁體中文註釋
- 遵循 PEP 8 規範
- 優先使用現有的工具函數

## 模組說明
- `src/auth/`: 認證模組 (已穩定，有規格)
- `src/api/`: API 模組 (探索中)

## 注意事項
- 保持向後相容
- 不要引入破壞性變更
```

#### AGENTS.md 範本 (多 Agent 協作)

```markdown
# Multi-Agent 協作規則

## Agent 角色定義

### 規格 Agent
- 職責: 撰寫和維護規格文檔
- 觸發: 當模組狀態變為 📋 時
- 產出: docs/specs/[模組名稱].yaml

### 實作 Agent
- 職責: 依規格實作代碼
- 輸入: 規格文檔
- 產出: 符合規格的代碼

### 測試 Agent
- 職責: 撰寫和執行測試
- 觸發: 代碼變更時
- 產出: 測試報告

## 協作流程
1. 規格 Agent 產出規格
2. 實作 Agent 依規格實作
3. 測試 Agent 驗證實作

## 模組狀態
[與 CLAUDE.md 相同的狀態表]
```

### 14.6 規則文件同步策略

```
┌─────────────────────────────────────────────────────────────────────┐
│                      規則文件同步策略                                │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  方案 A: 單一來源 (推薦)                                            │
│  ─────────────────────                                              │
│                                                                     │
│  CLAUDE.md (主要來源)                                               │
│       │                                                             │
│       ├──► .cursorrules        (符號連結或複製)                     │
│       ├──► .windsurfrules      (符號連結或複製)                     │
│       └──► .github/copilot-instructions.md                         │
│                                                                     │
│  優點: 維護一份，自動同步                                           │
│                                                                     │
│  ─────────────────────────────────────────────────────────────────  │
│                                                                     │
│  方案 B: 各自維護                                                   │
│  ─────────────────                                                  │
│                                                                     │
│  CLAUDE.md ─── Claude Code 專用規則                                 │
│  .cursorrules ─── Cursor 專用規則                                   │
│  .windsurfrules ─── Windsurf 專用規則                              │
│                                                                     │
│  優點: 可針對各工具優化                                             │
│  缺點: 需要手動同步                                                 │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 14.7 建立規則文件的提示詞

```
請幫我建立 AI 編程工具的規則文件：

專案資訊：
- 名稱: [專案名稱]
- 語言: [Python/JavaScript/...]
- 開發方法: [方法 1/2/3/4]

需要建立的文件：
- [ ] CLAUDE.md
- [ ] .cursorrules
- [ ] .github/copilot-instructions.md

請確保各文件的核心規則一致。
```

### 14.8 CLAUDE.md 維護提示詞

```
請幫我更新 CLAUDE.md：

變更內容：
- [模組名稱] 狀態從 🔄 改為 📋
- 新增規格位置: docs/specs/[模組名稱].yaml

請保持其他內容不變。
```

```
請在 CLAUDE.md 新增以下規則：

[貼上新規則]

請放在適當的位置，並確保格式一致。
```

---

## 15. 相關文檔

| 方法 | 文檔連結 |
|------|----------|
| 方法 1 | [結構化規格驅動開發](./AI_COLLABORATION_METHOD_1_STRUCTURED.md) |
| 方法 2 | [迭代式探索開發](./AI_COLLABORATION_METHOD_2_ITERATIVE.md) |
| 方法 3 | [迭代到結構化過渡](./AI_COLLABORATION_METHOD_3_TRANSITION.md) |
| 方法 4 | [混合漸進式開發](./AI_COLLABORATION_METHOD_4_HYBRID.md) |

---

**文檔建立者**: Claude Code (Opus 4.5)
**用途**: 快速比較與選擇適合的 AI 協作方法
